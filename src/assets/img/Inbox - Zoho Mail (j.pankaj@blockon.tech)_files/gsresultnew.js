(function(a,b){var c=b.document,d=b._jQueryGS,e=a.getGSConstantObj()||{};a.gsversion=function(b){return b=a.gsversion||{},b.gsb=b.gsb||a.buildDate||e.STATIC_BUILD_DATE||"",b.gsv=b.gsv||a.gsv||e.STATIC_GS_VERSION||wmsUserConfig.gsv||"",b.isVersionChanged=function(a){return a.GS_VERSION||a.BUILD_DATE?!0:!1},b.checkRefreshOption=function(){a.pageRefresh=!1,d("#zgs20_gsSearchRefreshHolder").remove();var c=d("#zgs20_gsSearchResultLeft").length||0;if(c>0){var e=d("#zgs20_gsSearchResultLeft").attr("rkey");e||(a.pageRefresh=!0,b.renderRefreshPage())}},b.renderRefreshPage=function(){var b=a.getI18NMsg("gs.search.service_refreshPage"),c=a.getI18NMsg("gs.search.service_refreshPageTip");d("#zgs20_gsSearchResultRight").append(d("<div>",{id:"zgs20_gsSearchRefreshHolder","class":"zgs19_gsSearchRefreshHolder"}).append(d("<div>",{"class":"zgs19_gsSearchRefreshLabel zgs19_gsOverflowWrap"}).append(d("<span>").text(c))).append(d("<div>",{"class":"zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsSearchRefreshMsg zgs19_gsCurPointer",title:b,gs:"refreshPage"}).text(b))))},b.toggleRefreshPage=function(b){a.pageRefresh&&d("#zgs20_gsSearchRefreshHolder").css("display",b)},b.handleVersionChanges=function(c){c&&(a.isVersionChanged=!0,b.getLatestFiles(c),a.setGSConstantObj(c),a.getSearchResults(a.searchURL))},b.getLatestFiles=function(a){b.preCheckForVersion(),b.gsv!=a.GS_VERSION&&b.loadHomePageJsFiles(a),b.gsb!=a.BUILD_DATE&&b.loadResultPageJsFiles(a)},b.preCheckForVersion=function(){!e.resultNewJSURL&&!e.resultNewCSSURL&&(e.resultNewJSURL=e.gsresultNewJSURL,e.resultNewCSSURL=e.gsresultNewCSSURL)},b.loadHomePageJsFiles=function(c){var d=e.resultNewCSSURL.replace(b.gsb,c.GS_VERSION),f=e.resultNewJSURL.replace(b.gsb,c.GS_VERSION);d=d.replace("gsresultnew","gshome")||d.replace("zsnewresult","zsnewhome"),f=f.replace("gsresultnew","gshome")||f.replace("zsnewresult","zsnewhome"),b.gsv=e.GS_VERSION=c.GS_VERSION,a.loadCSSFile(d),a.loadJSFile(f)},b.loadResultPageJsFiles=function(c){e.gsjQueryURL=e.gsjQueryURL.replace(b.gsb,c.BUILD_DATE),e.gsi18NJSURL=e.gsi18NJSURL.replace(b.gsb,c.BUILD_DATE),e.resultNewCSSURL=e.resultNewCSSURL.replace(b.gsb,c.BUILD_DATE),e.resultNewJSURL=e.resultNewJSURL.replace(b.gsb,c.BUILD_DATE),b.gsb=e.BUILD_DATE=c.BUILD_DATE,a.loadCSSFile(e.resultNewCSSURL),b.loadI18NResultJsFiles(e)},b.loadI18NResultJsFiles=function(a){var d=c.createElement("script");d.setAttribute("type","text/javascript"),d.src=a.gsi18NJSURL,d.onload=function(){b.loadNewResultResultJsFiles(a)},c.getElementsByTagName("head").item(0).appendChild(d)},b.loadNewResultResultJsFiles=function(b){var d=c.createElement("script");d.setAttribute("type","text/javascript"),d.src=b.resultNewJSURL,d.onload=function(){a.renderServiceList(),a.loadWelcomePage=!1,a.renderWelcomePage(),a.statusOfWidgetFetchData="READY",a.initWidgetList()},c.getElementsByTagName("head").item(0).appendChild(d)},b.checkGSVersion=function(){b.getLatestFiles(e)},b}(undefined)})(zgssearch,window),function(a,b){var c=b._jQueryGS,d=a.getGSConstantObj()||{};a.mappedServiceList={},a.serviceList=a.serviceList||[],a.servicesActionURL="/zgssearch/gsServicesActionData",a.zsservicesActionURL="/zgssearch/zsServicesActionData",a.noUserPhoto=a.noUserPhoto||"/zgssearch/images/no-user-image.png",a.connectLinkURL=a.connectLinkURL||"/zgssearch/images/default-pulse-link.png",a.orderedServiceList=[d.ALL,d.PEOPLE,d.PERSONALCONTACTS,d.ORGCONTACTS,d.MAILS,d.CHAT,d.CONNECT,d.DOCUMENTS,d.CRM,d.SUPPORT,d.REPORTS,d.DISCUSSIONS,d.WIKI],a.mappedServiceList[d.ALL]={displayName:a.getI18NMsg("gs.search.service_allapps"),placeHolder:a.getI18NMsg("gs.search_across_zoho"),serviceicon:"zgs19_gsUniAllIcon"},a.mappedServiceList[d.MAILS]={displayName:a.getI18NMsg("gs.search.service_mails"),placeHolder:a.getI18NMsg("gs.search"),serviceicon:"zgs19_gsUniMailsIcon",callout:"gsmails"},a.mappedServiceList[d.CRM]={displayName:a.getI18NMsg("gs.search.service_crm"),placeHolder:a.getI18NMsg("gs.search"),serviceicon:"zgs19_gsUniCrmIcon",callout:"gscrm"},a.mappedServiceList[d.DOCUMENTS]={displayName:a.getI18NMsg("gs.search.service_documents"),placeHolder:a.getI18NMsg("gs.search"),serviceicon:"zgs19_gsUniDocsIcon",callout:"gsdocs"},a.mappedServiceList[d.PEOPLE]={displayName:a.getI18NMsg("gs.search.service_people"),placeHolder:a.getI18NMsg("gs.search"),serviceicon:"zgs19_gsUniPeopleIcon",callout:"gscontacts"},a.mappedServiceList[d.ORGCONTACTS]={displayName:a.getI18NMsg("gs.search.service_org_contact"),placeHolder:a.getI18NMsg("gs.search"),serviceicon:"zgs19_gsUniOrgIcon",callout:"gscontacts"},a.mappedServiceList[d.PERSONALCONTACTS]={displayName:a.getI18NMsg("gs.search.service_contact"),placeHolder:a.getI18NMsg("gs.search"),serviceicon:"zgs19_gsUniPerIcon",callout:"gscontacts"},a.mappedServiceList[d.CHAT]={displayName:a.getI18NMsg("gs.search.service_chat"),placeHolder:a.getI18NMsg("gs.search"),serviceicon:"zgs19_gsUniChatIcon",callout:"gschat"},a.mappedServiceList[d.SUPPORT]={displayName:a.getI18NMsg("gs.search.service_desk"),placeHolder:a.getI18NMsg("gs.search"),serviceicon:"zgs19_gsUniSupportIcon",callout:"gssupport"},a.mappedServiceList[d.REPORTS]={displayName:a.getI18NMsg("gs.search.service_reports"),placeHolder:a.getI18NMsg("gs.search"),serviceicon:"zgs19_gsUniReportsIcon",callout:"gsreports"},a.mappedServiceList[d.CONNECT]={displayName:a.getI18NMsg("gs.search.service_connect"),placeHolder:a.getI18NMsg("gs.search"),serviceicon:"zgs19_gsUniConnectIcon",callout:"gsconnect"},a.mappedServiceList[d.DISCUSSIONS]={displayName:a.getI18NMsg("gs.search.service_discussions"),placeHolder:a.getI18NMsg("gs.search"),serviceicon:"zgs19_gsUniDiscIcon",callout:"gsdisc"},a.mappedServiceList[d.WIKI]={displayName:a.getI18NMsg("gs.search.service_wiki"),placeHolder:a.getI18NMsg("gs.search"),serviceicon:"zgs19_gsUniWikiIcon",callout:"gswiki"},d.hasOwnProperty("gsspacergifurl")&&(a.gsspacer=d.gsspacergifurl+d.BUILD_DATE+"/images/gsspacer.gif",a.noUserPhoto=d.gsspacergifurl+d.BUILD_DATE+"/images/no-user-image.png",a.connectLinkURL=d.gsspacergifurl+d.BUILD_DATE+"/images/default-pulse-link.png");if(!a.resultarea){a.resultarea=!0;var e=a.getI18NMsg("gs.search.service_backtotop"),f=a.getI18NMsg("gs.search.service_backtohome");c("#zgs20_gsResultsHolder").append(c("<div>",{id:"zgs20_gsSearchResultLeft","class":"zgs19_gsSearchResultLeftNew",gs:"serviceLeftPanel",rkey:"refresh"}).append(c("<span>",{"class":"zgs19_gsHomeLoaderPos zgs19_gsHomeLoader"}))).append(c("<div>",{id:"zgs20_gsSerPanelShadow","class":"zgs19_gsServicePanelShadow"})).append(c("<div>",{id:"zgs20_gsSearchResultMiddle","class":"zgs19_gsResultsHolderChild zgs19_gsSearchResultMiddle zgs19_gsDisplayNone"}).append(c("<div>",{id:"zgs20_gsAllSearchResultPage","class":"zgs19_gsSearchResultPage zgs19_gsOverflowAuto zgs19_gsDisplayNone"})).append(c("<div>",{id:"zgs20_gsModuleSearchResultPage","class":"zgs19_gsSearchResultPage zgs19_gsDisplayNone",gs:"ModulePage"})).append(c("<div>",{id:"zgs20_gsBackToTop","class":"zgs19_gsBackToTop zgs19_gsDisplayNone zgs19_gsCurPointer",tooltip:e,gs:"backToTop"}))).append(c("<div>",{id:"zgs20_gsSearchResultRight","class":"zgs19_gsResultsHolderChild zgs19_gsSearchResultRight zgs19_gsDisplayNone"})).append(c("<div>",{id:"zgs20_gsHomeIcon","class":"zgs19_gsHomeIcon zgs19_gsResultsUniIcons zgs19_gsDisplayNone zgs19_gsCurPointer",tooltip:f,gs:"backToHome"})),c("#zgs20_gsQueryBox").after(c("<div>",{id:"zgs20_gsQueryDiv","class":"zgs19_gsQueryDiv zgs19_gsBorderBox zgs19_gsBoxshadow zgs19_gsuserselnone"})),c("#zgs20_gsQueryBoxHolder").append(c("<div>",{id:"zgs20_gsQuerySugg","class":"zgs19_gsQuerySugg zgs19_gsBorderBox zgs19_gsOverflow zgs19_gsDisplayNone"}))}a.setSearchType=function(b){a.searchType=b},a.getSearchType=function(){return a.searchType},a.getServiceList=function(){return a.serviceList},a.getMappedServiceList=function(){return a.mappedServiceList},a.getOrderedServiceList=function(){return a.orderedServiceList},a.isArrayContain=function(a,b){return c.inArray(a,b)!==-1?!0:!1},a.preCheckForContacts=function(){var b=a.getServiceList();if(a.isArrayContain(d.PEOPLE,b)&&a.isArrayContain(d.ORGCONTACTS,b)){var c=b.indexOf(d.ORGCONTACTS);a.serviceList.splice(c,1)}},a.updateStaticURL=function(){d.hasOwnProperty("gsspacergifurl")&&(a.gsspacer=d.gsspacergifurl+d.BUILD_DATE+"/images/gsspacer.gif",a.noUserPhoto=d.gsspacergifurl+d.BUILD_DATE+"/images/no-user-image.png",a.connectLinkURL=d.gsspacergifurl+d.BUILD_DATE+"/images/default-pulse-link.png")},a.initServiceList=function(){a.renderWelcomePage();var b=a.getPCode(),c=a.getServiceList();if(a.statusOfServiceFetchData!="COMPLETE")if(!c||c.length==0){var e=d.accessibleServices||[];if(b=="ZO"||e.length>0||d.hasOwnProperty("widgetObject")){a.statusOfServiceFetchData="COMPLETE";if(b=="ZO"){var f=a.getZOSUserConfig();a.storeServiceList(f)}else if(e.length>0)a.storeServiceList(e);else{var g=d.widgetObject.servicesArrayList||[];a.storeServiceList(g)}a.updateStaticURL(),a.renderServiceList(),a.displayDefaultPage()}}},a.storeServiceList=function(b){var c=a.getPCode();a.serviceList=[d.ALL];if(c=="ZO")a.storeZOSServiceList();else for(var e=0;e<b.length;e++)a.serviceList.push(b[e].trim())},a.storeZOSServiceList=function(){var b=!1,c=a.getZOSUserConfig(),e=a.getOrderedServiceList(),f=c.length;for(var g=0;g<f;g++){var h=c[g],i=h.app_name;a.isArrayContain(i,e)?a.serviceList.push(i.trim()):i=="mail"?(b=!0,h.app_name=d.MAILS,a.serviceList.push(d.MAILS),c[g]=h):i=="docs"&&(b=!0,h.app_name=d.DOCUMENTS,a.serviceList.push(d.DOCUMENTS),c[g]=h)}b&&a.updateZOSUserConfig(c)},a.renderServiceList=function(){a.preCheckForContacts();var b=a.getServiceList(),d=a.getMappedServiceList(),e=a.getOrderedServiceList();c("#zgs20_gsSearchResultLeft").empty().append(c("<div>",{id:"zgs20_gsServListHolder","class":"zgs19_gsServListHolder zgs19_gsBorderBox",gs:"servListHolder"}));for(var f=0;f<e.length;f++){var g=e[f];a.isArrayContain(g,b)&&a.mappedServiceList.hasOwnProperty(g)&&a.renderServicePanelList(g,d[g])}a.hasOwnProperty("jqueryMouseEvent")?a.jqueryMouseEvent():"",a.resetLeftPanel||(a.resetLeftPanel=!0,c("#zgs20_gsSearchResultLeft").scrollTop(0))},a.renderServicePanelList=function(b,d){var e="zgs19_gsUnServiceLeftPanel",f=a.getSearchType();f===b&&(e="zgs19_gsSelectedServicepanelNew");var g=d.serviceicon;c("#zgs20_gsServListHolder").append(c("<div>",{id:"zgs20_gsServicePanelList"+b,"class":"zgs19_gsServiceMenu zgs19_gsServiceLeftPanelNew zgs19_gsCurPointer "+e,service:b,gs:"serviceLeftPanelMenu"}).append(c("<div>",{"class":"zgs19_gsServiceLeftPanelRow"}).append(c("<div>",{"class":"zgs19_gsServiceLeftPanelCell1New"}).append(c("<span>",{"class":"zgs19_gsUniIconsNew zgs19_gsSearchIconSvgNew "+g,gs:"icon"})).append(c("<span>",{"class":"zgs19_gsServiceLeftPanelServiceNew zgs19_gsOverflow",gs:"text"}).text(d.displayName)))))},a.displayDefaultPage=function(){c(".zgs19_gsSearchResultAreaChild").hide(),c(".zgs19_gsResultsHolderChild").hide(),c("#zgs20_gsResultsHolder").show()},a.showSearchPageLoader=function(){c("#zgs20_gsProgressLoader").show()},a.hideSearchPageLoader=function(){c("#zgs20_gsProgressLoader").hide()},a.getFourDotLoader=function(a,b){return c("<div>",{id:a,"class":b}).append(c("<div>",{"class":"zgs19_gsRequestLoadera"})).append(c("<div>",{"class":"zgs19_gsRequestLoaderb"})).append(c("<div>",{"class":"zgs19_gsRequestLoaderc"})).append(c("<div>",{"class":"zgs19_gsRequestLoaderd"}))},a.clickActionForServiceList=function(b){a.gsautocomplete.checkQueryFilterExists("services",b),a.gsautocomplete.checkQueryFilterExists("users");var d=a.getValue("zgs20_gsQueryBox"),e=a.gsautocomplete.getautosearchQuery(d);if(a.isArrayContain(b,a.serviceList))if(a.isQueryValid(e)||a.isQueryHasFilters())if(a.searchedQuery!==d||a.getSearchType()!==b)a.handleUserSearchQuery(e,b);else{var f=c("#zgs20_gsSearchResultRight").width();if(a.minPrevPane!=f){var g=a.getCurrentResObj(),h=c(a.curSelectedEle).attr("service");a.minCalloutPreview(h,g)}}else a.updateSearchType(b),a.updateCurrentPage(b)},a.updateCurrentPage=function(b){a.showHomeIcon(),a.isServiceHasFilter(b)?(a.displayResultPage(),a.displayModuleResultPage()):a.displayDefaultPage(),a.renderServiceFilterList(b)},a.renderWelcomePage=function(){if(!a.loadWelcomePage){a.loadWelcomePage=!0,c("#zgs20_gsWelcomePage").remove();var b=a.getI18NMsg("gs.search.service_welcome_page"),e=a.getI18NMsg("gs.search.service_welcome_pagetips");c("#zgs20_gsResultsHolder").append(c("<div>",{id:"zgs20_gsWelcomePage","class":"zgs19_gsWelcomePage zgs19_gsDisplayNone"}).append(c("<div>",{"class":"zgs19_gsWelcomeHeader"}).append(c("<div>",{"class":"zgs19_gsWelcomeTitleNew zgs19_gsOverflow zgs19_gsBorderBox"}).append(c("<span>",{title:b}).text(b))).append(c("<div>",{"class":"zgs19_gsWelcomeTips zgs19_gsOverflow zgs19_gsBorderBox"}).append(c("<span>",{title:e}).text(e)))));var f,g,h=c("<div>",{"class":"zgs19_gsWelcomeulNew"});f="zgs19_gsResultsUniIcons zgs19_gsWelcomeHash",b=a.getI18NMsg("gs.search.service_welcome_searchbyapps"),e=a.getI18NMsg("gs.search.service_welcome_searchbyappstips");var i=a.getI18NMsg("gs.search.service_welcome_searchbyappsMail"),j=a.getI18NMsg("gs.search.service_common_or"),k=a.getI18NMsg("gs.search.service_welcome_searchbyappsCRM"),l=e+" "+i+" "+j+" "+k;g=c("<span>",{title:l}).append(e).append(c("<span>",{"class":"zgs19_gsWelcomementionNew"}).text(i)).append(j).append(c("<span>",{"class":"zgs19_gsWelcomementionNew"}).text(k));var m=a.renderWelcomeChild(f,b,g);f="zgs19_gsResultsUniIcons zgs19_gsWelcomeAT",b=a.getI18NMsg("gs.search.service_welcome_searchbycontact"),e=a.getI18NMsg("gs.search.service_welcome_searchbycontacttips"),i=a.getI18NMsg("gs.search.service_welcome_searchbycontactJohn"),l=e+" "+i+" "+j+" "+k,g=c("<span>",{title:l}).append(e).append(c("<span>",{"class":"zgs19_gsWelcomementionNew"}).text(i));var n=a.renderWelcomeChild(f,b,g);f="zgs19_gsResultsUniIcons zgs19_gsWelcomeFilter",b=a.getI18NMsg("gs.search.service_welcome_filter"),e=a.getI18NMsg("gs.search.service_welcome_filtertips"),g=c("<span>",{title:e}).text(e);var o=a.renderWelcomeChild(f,b,g);f="zgs19_gsResultsUniIcons zgs19_gsWelcomeQuickActions",b=a.getI18NMsg("gs.search.service_welcome_quickactions"),e=a.getI18NMsg("gs.search.service_welcome_quickactionstip"),g=c("<span>",{title:e}).text(e);var p=a.renderWelcomeChild(f,b,g);h.append(c("<div>",{"class":"zgs19_gsDispInlblk"}).append(m).append(n)).append(c("<div>",{"class":"zgs19_gsDispInlblk"}).append(o).append(p)),c("#zgs20_gsWelcomePage").append(c("<div>",{"class":"zgs19_gsWelcomeFooter"}).append(h)),c("#zgs20_gsHomeIcon").hide();var q=a.getSearchType(),r=a.searchedQuery||"";d.ALL==q&&r==""&&(a.showWelcomePage(),a.displayDefaultPage())}},a.renderWelcomeChild=function(a,b,d){return c("<div>",{"class":"zgs19_gsWelcomeli zgs19_gsfl"}).append(c("<div>",{"class":"zgs19_gsWelcomelich"}).append(c("<div>",{"class":"zgs19_gsWelcomelich1"}).append(c("<div>",{"class":"zgs19_gsWelcomeIconHol zgs19_gsfl"}).append(c("<span>",{"class":a}))).append(c("<div>",{"class":"zgs19_gsWelcomechnameNew zgs19_gsOverflow zgs19_gsfl"}).append(c("<span>",{title:b}).text(b)))).append(c("<div>",{"class":"zgs19_gsWelcomelich2New zgs19_gsOverflowWrap"}).append(d)))},a.showWelcomePage=function(){a.hideHomeIcon(),c("#zgs20_gsWelcomePage").show()},a.hideWelcomePage=function(){c("#zgs20_gsWelcomePage").hide()},a.showHomeIcon=function(){a.hideHomeIcon();var b=a.getSearchType();d.ALL==b&&!(a.total_no_of_results>0||a.noMoreResults)&&c("#zgs20_gsHomeIcon").show()},a.hideHomeIcon=function(){c("#zgs20_gsHomeIcon").hide()},a.getWidthOfText=function(b,d){var e=a.getTargetElem("zgs20_globalsearch");c(e).append(c("<div>",{id:"zgs20_gsDummytootltip","class":"zgs19_gstooltext zgs19_gsOverflow",style:"max-width:300px;opacity:0;float:left;"}).text(b));var f=a.getTargetElem("zgs20_gsDummytootltip"),g=f.getBoundingClientRect(),h=g.width;return c("#zgs20_gsDummytootltip").remove(),h>d?d:h},a.getWMSUserContacts=function(){return typeof WmsContacts!="undefined"&&WmsContacts.hasOwnProperty("getcontacts")?WmsContacts.getcontacts():{}},a.isWMSChatPaused=function(){return typeof WebMessanger!="undefined"&&WebMessanger.hasOwnProperty("isChatPaused")?WebMessanger.isChatPaused():!0},a.uri=function(a,b,d,e,f){var g=e?e.hasOwnProperty("timeout")?e.timeout:15e3:15e3,h=c.ajax({type:a,url:b,data:d,timeout:g,success:function(a,b,c){h.callback(a,b,c)},error:function(a){h.callback({},"error",a)}});h.args=e,h.callback=f},a.initServiceList()}(zgssearch,window),function(a,b){var c=b.document,d=b._jQueryGS;a=b.zgssearch||{};var e=a.getGSConstantObj()||{};a.gFilterData=a.gFilterData||{},a.gWidgetData=a.gWidgetData||{},a.deskmodid=["1","2","3","4"],a.setFilterObj=function(b,c){c&&(a.gFilterData[b]=c)},a.getFilterObj=function(b){return a.gFilterData[b]||{}},a.getFilterInfo=function(b,c,d){var e=a.getFilterObj(b);if(e.hasOwnProperty(c)){var f=e[c];if(f.hasOwnProperty(d))return f[d]}return""},a.getFilterData=function(b,c,d,f){var g=a.getFilterInfo(b,c,d),h=a.getFilterInfo(b,c,"type");if(g&&g!="")if(h=="1"){if(g.hasOwnProperty(f))return g[f]}else if(h=="2")for(var i in g){var j=g[i];if(j.hasOwnProperty(f))return j[f]}else if(h=="3"){var k="";b==e.SUPPORT&&(k=a.getFilterInfo(b,"portals","current"));if(g.hasOwnProperty(k)){var j=g[k];if(j.hasOwnProperty(f))return j[f]}}else if(h=="4"){var l="";b==e.MAILS&&(l=a.getFilterInfo(b,"accounts","current"));if(g.hasOwnProperty(l)){var j=g[l];for(var m in j){var n=j[m];if(n.key==f)return n.name}}}else if(h=="5"){var l="";b==e.MAILS&&(l=a.getFilterInfo(b,"accounts","current"));if(g.hasOwnProperty(l)){var j=g[l];for(var m in j){var n=j[m];if(n.ID==f)return n.NAME}}}return""},a.updateFilterInfo=function(b,c,d,e){var f=a.getFilterObj(b);if(f.hasOwnProperty(c)){var g=f[c];g.hasOwnProperty(d)&&(g[d]=e)}},a.isServiceHasFilter=function(b){var c=!1,d=a.getFilterObj(b);if(d){var e=a.getServiceOrders(d);for(var f=0;f<e.length;f++){var g=e[f];if(d.hasOwnProperty(g)){var h=d[g],i=h.length||0;i>1&&(c=!0)}}}return c},a.isServiceHasWidget=function(b){var c=!1,d=a.getFilterObj(b);if(d){var e=a.getWidgetKey(b);if(d.hasOwnProperty(e)){var f=d[e],g=f.length||0;g>1&&(c=!0)}}return c},a.isWidgetService=function(a){switch(a){case e.MAILS:case e.CRM:case e.SUPPORT:case e.CONNECT:case e.DISCUSSIONS:case e.WIKI:case e.REPORTS:return!0}return!1},a.getWidgetKey=function(a){switch(a){case e.MAILS:return"accounts";case e.CRM:return"modules";case e.SUPPORT:return"departments";case e.CONNECT:return"networks";case e.DISCUSSIONS:return"portals";case e.WIKI:return"portals";case e.REPORTS:return"databases"}return""},a.getServiceSpecificURL=function(b){var c="";if(e.ALL===b){var d=a.getPCode();d=="ZO"&&(c=a.getWidgetparams(b))}else c=a.getFilterParams(b);return c},a.getWidgetparams=function(b){var c="",e={},f=a.getFilterObj(b);if(f){var g=a.getWidgetKey(b);if(f.hasOwnProperty(g)){var h=f[g];e[h.key]=h.current}d.isEmptyObject(e)||(c+="&filters="+encodeURIComponent(JSON.stringify(e)))}return c},a.getFilterParams=function(b){var c="",f={},g=a.getFilterObj(b);if(g){var h=a.getServiceOrders(g);for(var i=0;i<h.length;i++){var j=h[i];if(g.hasOwnProperty(j)){var k=g[j],l=k.current,m=k.default;if(j=="date")switch(b){case e.CHAT:case e.MAILS:case e.CONNECT:m!=l&&(f.fromdate=k.fromdate,f.todate=k.todate)}else k.type=="6"?l&&(f[k.key]=l):f[k.key]=l}}}return d.isEmptyObject(f)||(c+="&filters="+encodeURIComponent(JSON.stringify(f))),c},a.initWidgetList=function(){if(a.statusOfWidgetFetchData!="COMPLETE"&&e.hasOwnProperty("widgetObject")){a.statusOfWidgetFetchData="COMPLETE";var b=e.widgetObject;a.loadWidgetList(b),a.fetchAdditionlInfo()}},a.setFiltersDetails=function(a,b,c){a[b]=c},a.loadWidgetList=function(b){var c=a.serviceList||[];for(var d=0;d<c.length;d++){var f=c[d],g={},h={},i={},j=0,k="",l="",m=f+"WidgetData",n=b[m]||[],o=n.length;switch(f){case e.MAILS:var p=[],q=[];if(o>0){var p=[];for(var r=0;r<o;r++){var s=n[r],t=s.emailAddr,u=s.isDefault?s.isDefault:!1;if(r===0||a.jsonParse(u))k=l=t,p=s.fArr||[],q=s.lArr||[];i[t]=t}var v=a.getI18NMsg("gs.search.filter.accounts");a.setFiltersDetails(h,"title",v),a.setFiltersDetails(h,"type","1"),a.setFiltersDetails(h,"key","emailId"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"length",o),a.setFiltersDetails(h,"default",k),a.setFiltersDetails(h,"current",k),a.setFiltersDetails(h,"dispname",l),a.setFiltersDetails(g,"accounts",h)}if(p.length>0){var h={},i={};i[k]=a.formatMailFoldersDetails(p);var w=a.getI18NMsg("gs.search.filter.folders");a.setFiltersDetails(h,"title",w),a.setFiltersDetails(h,"type","4"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"key","folderId"),a.setFiltersDetails(h,"default","allfolders"),a.setFiltersDetails(h,"current","allfolders"),a.setFiltersDetails(h,"length",p.length),a.setFiltersDetails(h,"dispname",a.getI18NMsg("gs.search.filter.allfolders")),a.setFiltersDetails(g,"folders",h)}if(q.length>0){var h={},i={};i[k]=a.formatMailLabelsDetails(q);var w=a.getI18NMsg("gs.search.filter.tags");a.setFiltersDetails(h,"title",w),a.setFiltersDetails(h,"type","5"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"key","labelId"),a.setFiltersDetails(h,"default","alltags"),a.setFiltersDetails(h,"current","alltags"),a.setFiltersDetails(h,"length",p.length),a.setFiltersDetails(h,"dispname",a.getI18NMsg("gs.search.filter.alltags")),a.setFiltersDetails(g,"labels",h)}h={},i={},i={alldays:a.getI18NMsg("gs.search.filter.alldays"),today:a.getI18NMsg("gs.search.filter.today"),yesterday:a.getI18NMsg("gs.search.filter.yesterday"),last7days:a.getI18NMsg("gs.search.filter.last7days"),thismonth:a.getI18NMsg("gs.search.filter.thismonth"),thisyear:a.getI18NMsg("gs.search.filter.thisyear"),customdate:a.getI18NMsg("gs.search.filter.customdate"),customrange:a.getI18NMsg("gs.search.filter.customrange")};var x=a.getI18NMsg("gs.search.filter.date_rage");a.setFiltersDetails(h,"title",x),a.setFiltersDetails(h,"type","1"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"key","date"),a.setFiltersDetails(h,"default","alldays"),a.setFiltersDetails(h,"current","alldays"),a.setFiltersDetails(h,"length",Object.keys(i).length),a.setFiltersDetails(h,"dispname",a.getI18NMsg("gs.search.filter.alldays")),a.setFiltersDetails(h,"fromdate",""),a.setFiltersDetails(h,"todate",""),a.setFiltersDetails(g,"date",h),h={},i={},i={withattach:a.getI18NMsg("gs.search.filter.withattach")},a.setFiltersDetails(h,"type","6"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"key","hasAtt"),a.setFiltersDetails(h,"default",!1),a.setFiltersDetails(h,"current",!1),a.setFiltersDetails(h,"length",Object.keys(i).length),a.setFiltersDetails(g,"attach",h),h={},i={},i={flagged:a.getI18NMsg("gs.search.filter.flagged")},a.setFiltersDetails(h,"type","6"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"key","hasFlg"),a.setFiltersDetails(h,"default",!1),a.setFiltersDetails(h,"current",!1),a.setFiltersDetails(h,"length",Object.keys(i).length),a.setFiltersDetails(g,"flag",h),h={},i={},i={withreplies:a.getI18NMsg("gs.search.filter.withreplies")},a.setFiltersDetails(h,"type","6"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"key","hasResp"),a.setFiltersDetails(h,"default",!1),a.setFiltersDetails(h,"current",!1),a.setFiltersDetails(h,"length",Object.keys(i).length),a.setFiltersDetails(g,"replies",h);var y=["accounts","folders","date","labels","attach","flag","replies"];a.setFiltersDetails(g,"order",y),a.setFilterObj(f,g);break;case e.CRM:if(o>0){var z={},A=a.getI18NMsg("gs.search.service_crm.all_modules");i={all_crm_mod:A};for(var r=0;r<o;r++){var B=n[r],C=B.modQueryName,D=B.modDispName,E=B.modName;i[C]=D,E==="Deals"&&(E="Potentials"),z[C+"_url"]=E}var F=a.getI18NMsg("gs.search.filter.modules");a.setFiltersDetails(h,"title",F),a.setFiltersDetails(h,"type","1"),a.setFiltersDetails(h,"key","moduleName"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"length",o),a.setFiltersDetails(h,"dispname",A),a.setFiltersDetails(h,"default","all_crm_mod"),a.setFiltersDetails(h,"current","all_crm_mod"),a.setFiltersDetails(h,"crm_modules",z),a.setFiltersDetails(g,"modules",h)}a.setFiltersDetails(g,"order",["modules"]),a.setFilterObj(f,g);break;case e.DOCUMENTS:i={allfiles:a.getI18NMsg("gs.search.filter.allfiles"),mydocs:a.getI18NMsg("gs.search.filter.mydocs"),sharedtome:a.getI18NMsg("gs.search.filter.sharedtome"),sharedbyme:a.getI18NMsg("gs.search.filter.sharedbyme")};var G=a.getI18NMsg("gs.search.filter.ownertype");a.setFiltersDetails(h,"title",G),a.setFiltersDetails(h,"type","1"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"key","ownerType"),a.setFiltersDetails(h,"default","allfiles"),a.setFiltersDetails(h,"current","allfiles"),a.setFiltersDetails(h,"length",Object.keys(i).length),a.setFiltersDetails(h,"dispname",a.getI18NMsg("gs.search.filter.allfiles")),a.setFiltersDetails(g,"ownertype",h),h={},i={},i={alltypes:a.getI18NMsg("gs.search.filter.alltypes"),writer:a.getI18NMsg("gs.search.filter.writer"),sheet:a.getI18NMsg("gs.search.filter.sheet"),show:a.getI18NMsg("gs.search.filter.show"),pdf:a.getI18NMsg("gs.search.filter.pdf"),image:a.getI18NMsg("gs.search.filter.image"),music:a.getI18NMsg("gs.search.filter.music"),video:a.getI18NMsg("gs.search.filter.video"),zip:a.getI18NMsg("gs.search.filter.zip")};var H=a.getI18NMsg("gs.search.filter.filetype");a.setFiltersDetails(h,"title",H),a.setFiltersDetails(h,"type","1"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"key","searchin"),a.setFiltersDetails(h,"default","alltypes"),a.setFiltersDetails(h,"current","alltypes"),a.setFiltersDetails(h,"length",Object.keys(i).length),a.setFiltersDetails(h,"dispname",a.getI18NMsg("gs.search.filter.alltypes")),a.setFiltersDetails(g,"filetype",h),a.setSortFilters(g),a.setFiltersDetails(g,"order",["ownertype","filetype"]),a.setFilterObj(f,g);break;case e.CHAT:h={},i={},i={alldays:a.getI18NMsg("gs.search.filter.alldays"),today:a.getI18NMsg("gs.search.filter.today"),yesterday:a.getI18NMsg("gs.search.filter.yesterday"),last7days:a.getI18NMsg("gs.search.filter.last7days"),thismonth:a.getI18NMsg("gs.search.filter.thismonth"),thisyear:a.getI18NMsg("gs.search.filter.thisyear"),customdate:a.getI18NMsg("gs.search.filter.customdate"),customrange:a.getI18NMsg("gs.search.filter.customrange")};var x=a.getI18NMsg("gs.search.filter.date_rage");a.setFiltersDetails(h,"title",x),a.setFiltersDetails(h,"type","1"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"key","date"),a.setFiltersDetails(h,"default","alldays"),a.setFiltersDetails(h,"current","alldays"),a.setFiltersDetails(h,"length",Object.keys(i).length),a.setFiltersDetails(h,"dispname",a.getI18NMsg("gs.search.filter.alldays")),a.setFiltersDetails(h,"fromdate",""),a.setFiltersDetails(h,"todate",""),a.setFiltersDetails(g,"date",h),a.setSortFilters(g),a.setFiltersDetails(g,"order",["chattype","date"]),a.setFilterObj(f,g);break;case e.SUPPORT:if(o>0){var I="",J="",K=n[3]?n[3].warmIndexData||{}:{};Object.keys(K).length>0&&(I=K.warmPortalID,J=K.warmPortalName,k=K.warmDepartmentID,l=K.warmDepartmentName);var L=n[0].listData,M=Object.keys(L).length;J||(J=L[I]);var N=a.getI18NMsg("gs.search.filter.portals");a.setFiltersDetails(h,"title",N),a.setFiltersDetails(h,"type","1"),a.setFiltersDetails(h,"data",L),a.setFiltersDetails(h,"length",M),a.setFiltersDetails(h,"key","portalId"),a.setFiltersDetails(h,"default",I),a.setFiltersDetails(h,"current",I),a.setFiltersDetails(h,"dispname",J),a.setFiltersDetails(g,"portals",h),h={},i={};var O=n[0].listData,P=n[1].permData;for(var Q in O)if(P.hasOwnProperty(Q)){var R={},S=P[Q],T=S.length;T>1&&(R[0]=a.getI18NMsg("gs.search.filter.alldepartments"));for(var U=0;U<T;U++){var V=S[U],W=V.id,X=V.name;R[W]=X}j+=T,i[Q]=R}var Y=a.getI18NMsg("gs.search.filter.departments");a.setFiltersDetails(h,"title",Y),a.setFiltersDetails(h,"type","3"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"length",j),a.setFiltersDetails(h,"key","deptId"),a.setFiltersDetails(h,"default",k),a.setFiltersDetails(h,"current",k),a.setFiltersDetails(h,"dispname",l),a.setFiltersDetails(g,"departments",h);var Z=n[2];if(Z){var $={},_=Z?Z.moduleData:{};h={},i={},j=0;for(var Q in O)if(_.hasOwnProperty(Q)){var ba={},bb={},bc=_[Q];ba[0]=a.getI18NMsg("gs.search.filter.allmodules");for(var bd in bc)a.isArrayContain(bd,a.deskmodid)?ba[bd]=bc[bd]:bb[bd]=bc[bd];i[Q]=ba,$[Q]=bb,j+=Object.keys(ba).length}var be=a.getI18NMsg("gs.search.filter.modules");a.setFiltersDetails(h,"title",be),a.setFiltersDetails(h,"type","3"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"key","moduleId"),a.setFiltersDetails(h,"default","0"),a.setFiltersDetails(h,"current","0"),a.setFiltersDetails(h,"length",j),a.setFiltersDetails(h,"unusedModData",$),a.setFiltersDetails(h,"dispname",a.getI18NMsg("gs.search.filter.allmodules")),a.setFiltersDetails(g,"modules",h)}}a.setSortFilters(g),a.setFiltersDetails(g,"order",["portals","departments","modules"]),a.setFilterObj(f,g),a.fetchDefSuportAgentInfo(f),a.updateCurrentFilterInfo(f);break;case e.CONNECT:if(o>0){for(var bf=0;bf<o;bf++){var bg=n[bf],bh=bg.soid?bg.soid:"",bi=bg.name?bg.name:"",bj=bg.isDefault?bg.isDefault:!1;if(bf===0||a.jsonParse(bj))l=bi,k=bh;i[bh]=bi}var bk=a.getI18NMsg("gs.search.filter.networks");a.setFiltersDetails(h,"title",bk),a.setFiltersDetails(h,"type","1"),a.setFiltersDetails(h,"key","connectId"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"length",o),a.setFiltersDetails(h,"default",k),a.setFiltersDetails(h,"current",k),a.setFiltersDetails(h,"dispname",l),a.setFiltersDetails(g,"networks",h)}h={},i={},j=0,i={feeds:a.getI18NMsg("gs.search.filter.feeds"),forums:a.getI18NMsg("gs.search.filter.forums")};var bl=a.getI18NMsg("gs.search.filter.searchin");a.setFiltersDetails(h,"title",bl),a.setFiltersDetails(h,"type","1"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"key","searchin"),a.setFiltersDetails(h,"default","feeds"),a.setFiltersDetails(h,"current","feeds"),a.setFiltersDetails(h,"length",Object.keys(i).length),a.setFiltersDetails(h,"dispname",a.getI18NMsg("gs.search.filter.feeds")),a.setFiltersDetails(g,"connecttype",h),h={},i={},i={alldays:a.getI18NMsg("gs.search.filter.alldays"),today:a.getI18NMsg("gs.search.filter.today"),yesterday:a.getI18NMsg("gs.search.filter.yesterday"),last7days:a.getI18NMsg("gs.search.filter.last7days"),thismonth:a.getI18NMsg("gs.search.filter.thismonth"),thisyear:a.getI18NMsg("gs.search.filter.thisyear"),customdate:a.getI18NMsg("gs.search.filter.customdate"),customrange:a.getI18NMsg("gs.search.filter.customrange")};var x=a.getI18NMsg("gs.search.filter.date_rage");a.setFiltersDetails(h,"title",x),a.setFiltersDetails(h,"type","1"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"key","date"),a.setFiltersDetails(h,"default","alldays"),a.setFiltersDetails(h,"current","alldays"),a.setFiltersDetails(h,"length",Object.keys(i).length),a.setFiltersDetails(h,"dispname",a.getI18NMsg("gs.search.filter.alldays")),a.setFiltersDetails(h,"fromdate",""),a.setFiltersDetails(h,"todate",""),a.setFiltersDetails(g,"date",h),a.setSortFilters(g),a.setFiltersDetails(g,"order",["networks","connecttype","date"]),a.setFilterObj(f,g);break;case e.DISCUSSIONS:case e.WIKI:var bm={};if(o>0){var bn=f===e.DISCUSSIONS?"soid":"wikiid",bo=f===e.DISCUSSIONS?"portalName":"wikiname",bp=f===e.DISCUSSIONS?"isDefaultPortal":"islanding",bq=f===e.DISCUSSIONS?"discId":"wikiId",br=f===e.DISCUSSIONS?"gs.search.result.discussions.results.obtained_":"gs.search.result.wiki.results.obtained_";for(var bs=0;bs<o;bs++){var bt={},bu=n[bs];for(var bv in bu){var bw=bu[bv],bx=bw.length;for(var by=0;by<bx;by++){var bz=bw[by],bA=bz[bo],bB=bz[bn],bC=bz[bp];if(a.jsonParse(bC)||bs===0&&by===0)l=bA,k=bB;bt[bB]=bA}j+=bx,i[bv]=bt,bm[bv]=a.getI18NMsg(br+bv)}}var bD=f===e.DISCUSSIONS?"gs.search.filter.portals":"gs.search.filter.wikis",bE=a.getI18NMsg(bD);a.setFiltersDetails(h,"title",bE),a.setFiltersDetails(h,"type","2"),a.setFiltersDetails(h,"key",bq),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"length",j),a.setFiltersDetails(h,"default",k),a.setFiltersDetails(h,"current",k),a.setFiltersDetails(h,"dispname",l),a.setFiltersDetails(h,"header",bm),a.setFiltersDetails(g,"portals",h)}a.setSortFilters(g),a.setFiltersDetails(g,"order",["portals"]),a.setFilterObj(f,g);break;case e.REPORTS:var bm={};if(o>0){for(var bs=0;bs<o;bs++){var bt={},bu=n[bs];for(var bv in bu){var bw=bu[bv],bx=bw.length;for(var by=0;by<bx;by++){var bz=bw[by],bA=bz.dbN,bB=bz.dbId,bC=bz.isD;if(a.jsonParse(bC)||k=="")l=bA,k=bB;bt[bB]=bA}j+=bx,i[bv]=bt,bm[bv]=a.getI18NMsg(bv)}}var bF=a.getI18NMsg("gs.search.filter.databases");a.setFiltersDetails(h,"title",bF),a.setFiltersDetails(h,"type","2"),a.setFiltersDetails(h,"key","databaseId"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"length",j),a.setFiltersDetails(h,"default",k),a.setFiltersDetails(h,"current",k),a.setFiltersDetails(h,"dispname",l),a.setFiltersDetails(h,"header",bm),a.setFiltersDetails(g,"databases",h),h={},i={},i={alltypes:a.getI18NMsg("gs.search.filter.alltypes"),dashboard:a.getI18NMsg("gs.search.result.reports.dashboard"),table:a.getI18NMsg("gs.search.result.reports.table"),pivot:a.getI18NMsg("gs.search.result.reports.pivot"),analysisview:a.getI18NMsg("gs.search.result.reports.analysisview"),querytable:a.getI18NMsg("gs.search.result.reports.querytable"),report:a.getI18NMsg("gs.search.result.reports.tableview"),summaryview:a.getI18NMsg("gs.search.result.reports.summaryview")};var bG=a.getI18NMsg("gs.search.filter.viewtype");a.setFiltersDetails(h,"title",bG),a.setFiltersDetails(h,"type","1"),a.setFiltersDetails(h,"data",i),a.setFiltersDetails(h,"key","searchin"),a.setFiltersDetails(h,"default","alltypes"),a.setFiltersDetails(h,"current","alltypes"),a.setFiltersDetails(h,"length",Object.keys(i).length),a.setFiltersDetails(h,"dispname",a.getI18NMsg("gs.search.filter.alltypes")),a.setFiltersDetails(g,"viewtype",h)}a.setFiltersDetails(g,"order",["databases","viewtype"]),a.setFilterObj(f,g)}}},a.setSortFilters=function(b){var c={},d={};d={sorttime:a.getI18NMsg("gs.search.filter.sorttime"),sortrelv:a.getI18NMsg("gs.search.filter.sortrelv")};var e=a.getI18NMsg("gs.search.filter.sortby");a.setFiltersDetails(c,"title",e),a.setFiltersDetails(c,"type","1"),a.setFiltersDetails(c,"data",d),a.setFiltersDetails(c,"key","sort"),a.setFiltersDetails(c,"default","sorttime"),a.setFiltersDetails(c,"current","sorttime"),a.setFiltersDetails(c,"length",Object.keys(d).length),a.setFiltersDetails(c,"dispname",a.getI18NMsg("gs.search.filter.sorttime")),a.setFiltersDetails(b,"sort",c),a.setFiltersDetails(b,"sort_order",["sort"])},a.updateCurrentFilterInfo=function(b){var c=a.getFilterObj(b);if(c&&e.SUPPORT==b){var d=a.getFilterInfo(b,"portals","current"),f=a.getFilterInfo(b,"departments","data");if(f.hasOwnProperty(d)){var g=f[d];for(var h in g){a.updateFilterInfo(b,"departments","default",h),a.updateFilterInfo(b,"departments","current",h),a.updateFilterInfo(b,"departments","dispname",g[h]);break}}var i=a.getFilterInfo(b,"modules","data");if(i.hasOwnProperty(d)){var j=i[d];for(var k in j){a.updateFilterInfo(b,"modules","default",k),a.updateFilterInfo(b,"modules","current",k),a.updateFilterInfo(b,"modules","dispname",j[k]);break}}}},a.formatMailFoldersDetails=function(b){var c=a.getI18NMsg("gs.search.service_outbox")+"/",d={},e=[c];d[0]={key:"allfolders",tip:a.getI18NMsg("gs.search.filter.allfolders"),name:a.getI18NMsg("gs.search.filter.allfolders")};for(var f=0;f<b.length;f++){var g=b[f]||"",h=g.split(","),i=h[0]||"",j=h[1]||"";if(!a.isArrayContain(j,e)){var k=j,l=j.substr(0,j.length-1);if(l.indexOf("/")>-1){var m=l.split("/");k=".../"+m[m.length-1]+"/"}d[f+1]={key:i,tip:j,name:k}}}return d},a.formatMailLabelsDetails=function(b){var c={};c[0]={COLOR:"",ID:"alltags",NAME:a.getI18NMsg("gs.search.filter.alltags")};for(var e=0;e<b.length;e++){var f=b[e]||{};d.isEmptyObject(f)||(c[e+1]=b[e]||{})}return c},a.formatDeskModulesDetails=function(b){var c={},d={},e={};d[0]=a.getI18NMsg("gs.search.filter.allmodules");for(var f in b)a.isArrayContain(f,a.deskmodid)?d[f]=b[f]:e[f]=b[f];return c.moduleData=d,c.unusedModuleData=e,c.length=Object.keys(d).length,c},a.isValidSearchForWidgetService=function(b,c){var f=d(c).attr("key"),g=d(c).attr("fkey"),h=d(c).attr("ftype"),i=a.getFilterObj(b);if(i&&f&&i.hasOwnProperty(g)){var j=i[g],k=j.data,l=j.current;if(h=="1"){if(f=="customrange"||f=="customdate")a.curDatePickerObj={service:b,key:g,soid:f},a.handleDatePicker(f);else if(k.hasOwnProperty(f)&&l!=f){a.updateFilterInfo(b,g,"current",f),a.updateFilterInfo(b,g,"dispname",k[f]);if(g=="date")a.updateDateFormat(b,g,f);else if(e.MAILS===b){if(g=="accounts"){var m=f,n=a.getFilterInfo(b,"folders","default"),o=a.getFilterInfo(b,"folders","data");o.hasOwnProperty(f)||(a.fetchMailFolderInfo(b,f),m=a.getFilterInfo(b,"accounts","default"));if(o.hasOwnProperty(m)){var p=o[m];for(var q in p){var r=p[q],s=r.key||"",t=r.name||"";s==n&&(t=t.replace(new RegExp("(^.../)"),""),t=t.replace(new RegExp("(/$)"),""),a.updateFilterInfo(b,"folders","current",n),a.updateFilterInfo(b,"folders","dispname",t))}}n=a.getFilterInfo(b,"labels","default"),o=a.getFilterInfo(b,"labels","data"),o.hasOwnProperty(f)||(a.fetchMailLabelInfo(b,f),m=a.getFilterInfo(b,"accounts","default"));if(o.hasOwnProperty(m)){var p=o[m];for(var q in p){var r=p[q]||{};r.ID==n&&(a.updateFilterInfo(b,"labels","current",r.ID),a.updateFilterInfo(b,"labels","dispname",r.NAME))}}}}else if(e.SUPPORT===b&&g=="portals"){var u=a.getFilterInfo(b,"departments","data");if(u.hasOwnProperty(f)){var v=u[f];for(var w in v){a.updateFilterInfo(b,"departments","default",w),a.updateFilterInfo(b,"departments","current",w),a.updateFilterInfo(b,"departments","dispname",v[w]);break}}var m=f,s=a.getFilterInfo(b,"modules","default"),x=a.getFilterInfo(b,"modules","data");x.hasOwnProperty(f)||(a.gsusercontacts.fetchSupportAgentInfo(),a.fetchSupportModuleInfo(b,f),m=a.getFilterInfo(b,"portals","default"));if(x.hasOwnProperty(m)){var y=x[m],z=a.getFilterInfo(b,"modules","default");y.hasOwnProperty(z)&&(a.updateFilterInfo(b,"modules","current",z),a.updateFilterInfo(b,"modules","dispname",y[z]))}}return!0}}else if(h=="2")for(var s in k){var A=k[s];if(A.hasOwnProperty(f)&&l!==f)return a.updateFilterInfo(b,g,"current",f),a.updateFilterInfo(b,g,"dispname",A[f]),!0}else if(h=="3"){var B="";b==e.SUPPORT&&(B=a.getFilterInfo(b,"portals","current"));if(k.hasOwnProperty(B)){var A=k[B];if(A.hasOwnProperty(f)&&l!==f)return a.updateFilterInfo(b,g,"current",f),a.updateFilterInfo(b,g,"dispname",A[f]),b==e.SUPPORT&&g=="departments"&&(a.gsusercontacts.isSupportDeptAgentExists(B,f)||a.gsusercontacts.fetchSupportAgentInfo()),!0}}else if(h=="4"){var B="";b==e.MAILS&&(B=a.getFilterInfo(b,"accounts","current"));if(k.hasOwnProperty(B)){var A=k[B];for(var C in A){var D=A[C],E=D.key||"";if(E==f&&l!==f){var t=D.name||"";return b==e.MAILS&&(t.indexOf(".../")==0&&(t=t.replace(new RegExp("(^.../)"),"")),t=t.replace(new RegExp("(/$)"),"")),a.updateFilterInfo(b,g,"current",D.key),a.updateFilterInfo(b,g,"dispname",t),!0}}}}else if(h=="5"){var B="";b==e.MAILS&&(B=a.getFilterInfo(b,"accounts","current"));if(k.hasOwnProperty(B)){var A=k[B];for(var C in A){var D=A[C];if(D.ID==f&&l!==D.ID)return a.updateFilterInfo(b,g,"current",D.ID),a.updateFilterInfo(b,g,"dispname",D.NAME),!0}}}}return!1},a.updateDateFormat=function(b,c,e){var f=new Date,g=f.getDate(),h=f.getMonth()+1,i=f.getFullYear(),j="",k="",l="",m={1:"-1-",2:"-2-",3:"-3-",4:"-4-",5:"-5-",6:"-6-",7:"-7-",8:"-8-",9:"-9-",10:"-10-",11:"-11-",12:"-12-"};switch(e){case"today":j=m[h],k=l=g+j+i;break;case"yesterday":var n=new Date(f);n.setDate(f.getDate()-1),g=n.getDate(),h=n.getMonth()+1,i=n.getFullYear(),j=m[h],k=l=g+j+i;break;case"last7days":j=m[h],l=g+j+i;var o=new Date(f);o.setDate(f.getDate()-7),g=o.getDate(),h=o.getMonth()+1,i=o.getFullYear(),j=m[h],k=g+j+i;break;case"thismonth":j=m[h],l=g+j+i;var p=new Date(f);p.setDate(1),g=p.getDate(),h=p.getMonth()+1,i=p.getFullYear(),j=m[h],k=g+j+i;break;case"thisyear":j=m[h],l=g+j+i;var q=new Date(f);q.setDate(1),q.setMonth(0),g=q.getDate(),h=q.getMonth()+1,i=q.getFullYear(),j=m[h],k=g+j+i}if(a.isMoreFilterListDisplay){a.curMoreFiltersList[c]=e,a.curMoreDateFiltersList={fromdate:k,todate:l};var r="#zgs20_gsMoreFilterElem_"+c;d(r).attr("soid",e);var s=a.getFilterData(b,c,"data",e);d(r).find(".zgs19_gsMoreFilterValue").attr("title",s).text(s)}else a.updateFilterInfo(b,c,"fromdate",k),a.updateFilterInfo(b,c,"todate",l)},a.clickActionForWidgetList=function(b){var c=a.getSearchType();a.gsautocomplete.checkQueryFilterExists("services",c),a.gsautocomplete.checkQueryFilterExists("users");var e=a.getValue("zgs20_gsQueryBox");e=a.gsautocomplete.getautosearchQuery(e);if(a.isValidSearchForWidgetService(c,b)&&(a.isQueryValid(e)||a.isQueryHasFilters()))a.handleUserSearchQuery(e,c);else{var f=d(b).attr("key");if(f!="customrange"||f!="customdate")a.renderServiceFilterList(c),a.enableSortFilter()}},a.clickActionForMoreInnerList=function(b){var c=a.getSearchType(),e=d(b).attr("key"),f=d(b).attr("fkey"),g=d(b).attr("title");if(e=="customrange"||e=="customdate")a.curDatePickerObj={service:c,key:f,soid:e},a.handleDatePicker(e);else if(f=="date")a.updateDateFormat(c,f,e);else{var h="#zgs20_gsMoreFilterElem_"+f;a.curMoreFiltersList[f]=e,d(h).attr("soid",e),d(h).find(".zgs19_gsMoreFilterValue").attr("title",g).text(g)}},a.getServiceOrders=function(a){var b=a.order||[],c=a.sort_order||[],d=b.concat(c);return d},a.updateServiceFilters=function(b,c){if(c!=b){var d=a.getServiceList();if(a.isArrayContain(b,d)){var e=a.getFilterObj(b);if(e){var f=a.getServiceOrders(e);for(var g=0;g<f.length;g++){var h=f[g];if(e.hasOwnProperty(h)){var i=e[h],j=i.default,k=a.getFilterData(b,h,"data",j);a.updateFilterInfo(b,h,"current",j),a.updateFilterInfo(b,h,"dispname",k),i.type=="1"&&a.updateCurrentFilterInfo(b),h=="date"&&(a.updateFilterInfo(b,h,"todate",""),a.updateFilterInfo(b,h,"fromdate",""))}}}}}},a.fetchMailFolderInfo=function(b,c){var d={service:b,email:c},e="action=fetchMailFolderDetails&searchType="+b+"&emailid="+encodeURIComponent(c);a.uri(a.GET,a.servicesActionURL,e,d,function(b,c,d){var e=d.args||{},f=a.jsonParse(b),g=a.formatMailFoldersDetails(f),h=a.getFilterInfo(e.service,"folders","data");h[e.email]=g,a.updateFilterInfo(e.service,"folders","data",h)})},a.fetchMailLabelInfo=function(b,c){var d={service:b,email:c},e="action=fetchMailLabelDetails&searchType="+b+"&emailid="+encodeURIComponent(c);a.uri(a.GET,a.servicesActionURL,e,d,function(b,c,d){var e=d.args||{},f=a.jsonParse(b),g=a.formatMailLabelsDetails(f),h=a.getFilterInfo(e.service,"labels","data");h[e.email]=g,a.updateFilterInfo(e.service,"labels","data",h)})},a.fetchDefSuportAgentInfo=function(b){var c=a.getServiceList();a.isArrayContain(b,c)&&a.hasOwnProperty("gsusercontacts")&&!a.isSupportAgentFetched&&(a.isSupportAgentFetched=!0,a.gsusercontacts.fetchSupportAgentInfo())},a.fetchSupportModuleInfo=function(b,c){var d={service:b,portalId:c},e="action=fetchDeskModuleDetails&searchType="+b+"&portalId="+encodeURIComponent(c);a.uri(a.GET,a.servicesActionURL,e,d,function(b,c,d){var e=d.args||{},f=a.jsonParse(b),g=a.formatDeskModulesDetails(f),h=a.getFilterInfo(e.service,"modules","data"),i=a.getFilterInfo(e.service,"modules","unusedModData");h[e.portalId]=g.moduleData,i[e.portalId]=g.unusedModuleData,a.updateFilterInfo(e.service,"modules","data",h),a.updateFilterInfo(e.service,"modules","unusedModData",i)})},a.updateDeskDueDate=function(b,c){a.showSearchPageLoader();var d=a.getCurrentResObj(),e=a.getFilterInfo(b,"portals","current"),f={service:b,ticketId:d.doc_id,dueDate:c},g="action=updateDeskDueDate&searchType="+b+"&id="+d.doc_id+"&portalId="+encodeURIComponent(e)+"&dueDate="+encodeURIComponent(c);a.uri(a.GET,a.servicesActionURL,g,f,function(b,c,d){a.hideSearchPageLoader();var e=a.jsonParse(b);if(e=="SUCCESS"){var f=d.args||{},g=a.getI18NMsg("gs.search.callout.desk.success.duedate_update");a.showbannertip({ty:1,msg:g});var h=a.getCurrentResObj(),i=a.getCurCalloutCount(),j=a.mappedServiceList[f.service].callout;a.showCalloutLoader();var k={curCalloutCount:i,owner:f,updateDueDate:!0};a.calloutAjaxRequest(j,h,i,k)}else a.showbannertip({ty:3,msg:a.getI18NMsg("gs.search.callout.crm.errorresp2")})})},a.fetchAdditionlInfo=function(){var b=a.getServiceList();a.hasOwnProperty("getDefaultContactList")?a.getDefaultContactList():"",a.hasOwnProperty("gsautocomplete")?a.gsautocomplete.initServiceList():"",a.hasOwnProperty("gsversion")?a.gsversion.checkGSVersion():"",a.isArrayContain(e.CRM,b)&&a.hasOwnProperty("gsusercontacts")&&!a.isCRMUserFetched&&(a.isCRMUserFetched=!0,a.gsusercontacts.fetchCRMUserInfo())},a.initWidgetList()}(zgssearch,window),function(a,b){var c=b._jQueryGS,d=a.getGSConstantObj()||{};a.menuOption||(a.menuOption=!0,c("#zgs20_gsSearchBoxRight").append(c("<div>",{id:"zgs20_gsMenuOptionHolder","class":"zgs19_gsMenuOptionHolder"}).append(c("<div>",{id:"zgs20_gsAdvFilterIcon","class":"zgs19_gsAdvFilterIcon zgs19_gsCurPointer zgs19_gsDisplayNone",gs:"advFilter"})))),a.displayMenuOption=function(){var a=c("#zgs20_gsMenuOption").length;a<=0&&c("#zgs20_gsMenuOptionHolder").append(c("<div>",{id:"zgs20_gsMenuOption","class":"zgs19_gsMenuOption zgs19_gsDisplayNone"}).append(c("<div>",{"class":"zgs19_gsMenuOptionChild zgs19_gsBGCHed zgs19_gsCurPointer zgs19_gsOverflow",value:"feedback"}).text("Send Feedback")).append(c("<div>",{"class":"zgs19_gsMenuOptionChild zgs19_gsBGCHed zgs19_gsCurPointer zgs19_gsOverflow",value:"advSearch"}).text("Advanced Search")).append(c("<div>",{"class":"zgs19_gsMenuOptionChild zgs19_gsBGCHed zgs19_gsCurPointer zgs19_gsOverflow",value:"about"}).text("About Global Search")));var b=c("#zgs20_gsMenuOption").css("display");b==="none"?c("#zgs20_gsMenuOption").show():c("#zgs20_gsMenuOption").hide()},a.renderServiceFilterList=function(b){c("#zgs20_gsModuleFilterList").remove();if(a.isServiceHasFilter(b)){c("#zgs20_gsModuleSearchResultPage").prepend(c("<div>",{id:"zgs20_gsModuleFilterList","class":"zgs19_gsModuleFilterList"}));var d=a.getI18NMsg("gs.search.filter.sort"),e=a.getFilterInfo(b,"sort","current");c("#zgs20_gsModuleFilterList").append(c("<div>",{"class":"zgs19_gsModuleFilterIconHolder zgs19_gsfl"}).append(c("<span>",{"class":"zgs19_gsModuleFilterIcon zgs19_gsResultsUniIcons"}))).append(c("<div>",{id:"zgs20_gsModuleFilterDataHolder","class":"zgs19_gsModuleFilterDataHolder zgs19_gsOverflow zgs19_gsfl"})).append(c("<div>",{id:"zgs20_gsModuleFilterSortHolder","class":"zgs19_gsModuleSortNameHolderNew zgs19_gsBorderBox zgs19_gsfr zgs19_gsDisplayNone",fkey:"sort",soid:e,title:d}).append(c("<div>",{"class":"zgs19_gsModuleSortDownIconNew zgs19_gsBorderBox zgs19_gsfr"}).append(c("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsModuleSortDownIconNew_grey zgs19_gsBorderBox zgs19_gsfr"}))));var f=a.getFilterObj(b);if(f){var g=!1,h=5,i=f.sort_order||[];i.length>0&&(c("#zgs20_gsModuleFilterSortHolder").show(),h+=c("#zgs20_gsModuleFilterSortHolder").outerWidth(!0)),h+=c(".zgs19_gsModuleFilterIconHolder").outerWidth(!0);var j=c("#zgs20_gsModuleSearchResultPage").width()-h,k=22,l=0,m=a.getvalidFilterList(f.order,f),n=m.length,o=n>3?!0:!1,p=n==1?j:n==2?j/2:n>=3?j/3:j/3;c("#zgs20_gsModuleFilterDataHolder").css({width:j});for(var q=0;q<n&&q<3;q++){var r=m[q];if(f.hasOwnProperty(r)){var s=p-k,t="",u="",v="",w=a.getFilterInfo(b,r,"type");if(q==2&&o)r="more",v="more_filters",u=a.getI18NMsg("gs.search.result.contact.viewprofile_dialog.more")+"...";else{if(w=="6"){l++;continue}v="mFilterWidget",t=a.getFilterInfo(b,r,"current"),u=a.getFilterInfo(b,r,"dispname")}g=!0,c("#zgs20_gsModuleFilterDataHolder").append(c("<div>",{id:"zgs20_gsModuleFilterElem_"+r,"class":"zgs19_gsModuleFilterElemHolder zgs19_gsModuleFilterNameHolderNew zgs19_gsBorderBox zgs19_gsCurPointer zgs19_gsfl",index:q-l,fkey:r,soid:t,gs:v,service:b,style:"max-width:"+p+"px;"}).append(c("<div>",{"class":"zgs19_gsModuleFilterSerNameNew zgs19_gsOverflow zgs19_gsBorderBox zgs19_gsfl",title:u,style:"max-width:"+s+"px;"}).text(u)).append(c("<div>",{"class":"zgs19_gsModuleFilterElemIcon zgs19_gsModuleFilterDownIcon zgs19_gsVisibleHidden zgs19_gsBorderBox zgs19_gsfl"}).append(c("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsBorderBox zgs19_gsfr"}))))}}if(!g){c(".zgs19_gsModuleFilterIcon").hide(),c("#zgs20_gsModuleFilterList").hide();var x=a.getValue("zgs20_gsQueryBox");!a.isQueryValid(x)&&!a.searchedQuery&&a.displayDefaultPage()}a.addEventForFilterElem(),a.loadDatePicker(b)}}},a.getWidthOfFilters=function(b,c,d,e,f){var g={};for(var h=0;h<d.length;h++){var i=d[h];if(c.hasOwnProperty(i)){var j=a.getFilterInfo(b,i,"dispname");g[i]=j}}return a.getDynamicElemWidth(g,e,f)},a.getDynamicElemWidth=function(b,c,d){d=Math.round(d)-1;var e=0,f={},g={};for(var h in b){var i=a.getWidthOfText(b[h],c);f[h]=Math.round(i)+5}for(var j in f){var k=f[j];d>k&&(e+=d-k)}for(var j in f){var k=f[j];if(k>d)if(e>0){var l=k-d;e>l?e-=l:(k=d+e,e=0)}else k=d;g[j]=k}return g},a.setServicesFilterWidth=function(){var b=a.getSearchType();a.renderServiceFilterList(b),a.enableSortFilter(),a.hideDatePicker()},a.updateSortFilterState=function(){var b=a.getSearchType(),d=a.resultCount[b];d>1?(c("#zgs20_gsModuleFilterSortHolder").attr("gs","mFilterWidget"),c(".zgs19_gsModuleSortNameHolderNew").removeClass("zgs19_gsCurDefault").addClass("zgs19_gsCurPointer"),c(".zgs19_gsModuleSortNameHolderNew span").removeClass("zgs19_gsModuleSortDownIconNew_grey").addClass("zgs19_gsModuleSortDownIconNew_blue")):(c("#zgs20_gsModuleFilterSortHolder").removeAttr("gs"),c(".zgs19_gsModuleSortNameHolderNew").removeClass("zgs19_gsCurPointer").addClass("zgs19_gsCurDefault"),c(".zgs19_gsModuleSortNameHolderNew span").removeClass("zgs19_gsModuleSortDownIconNew_blue zgs19_gsCurPointer").addClass("zgs19_gsModuleSortDownIconNew_grey"))},a.enableSortFilter=function(){var b=a.getSearchType(),d=a.getFilterObj(b);d.hasOwnProperty("sort")&&a.total_no_of_results>0&&(c("#zgs20_gsModuleFilterList").show(),c(".zgs19_gsModuleSortNameHolderNew").attr("gs","mFilterWidget"),c(".zgs19_gsModuleSortNameHolderNew").addClass("zgs19_gsCurPointer"),c(".zgs19_gsModuleSortNameHolderNew span").removeClass("zgs19_gsModuleSortDownIconNew_grey").addClass("zgs19_gsModuleSortDownIconNew_blue")),a.updateSortFilterState()},a.renderModuleFilterWidgetList=function(b){a.curDatePickerElem="",a.currFilterselecelem="",a.isFilterListDisplay=!1;var e=c(b).attr("fkey"),f=c("#zgs20_gsModuleFilterWidgetList").attr("fkey");e!=f&&(c("#zgs20_gsModuleFilterWidgetList").empty().remove(),c(".zgs19_gsModuleFilterNameHolderNew").removeClass("zgs19_gsboxholder"),c(".zgs19_gsModuleSortNameHolderNew").removeClass("zgs19_gsBColorEC"),a.hideFilterElemIcon(a.oldFilterElemIcon));var g=c("#zgs20_gsModuleFilterWidgetList").css("display");if(g==undefined||g==="none"){c("#zgs20_gsModuleFilterWidgetList").empty().remove();var h=-1,i=!0,j=a.getSearchType(),k=a.getFilterInfo(j,e,"data"),l=a.getFilterInfo(j,e,"type"),m=a.getFilterInfo(j,e,"current"),n=a.getFilterInfo(j,e,"title");c("#zgs20_gsModuleFilterList").append(c("<div>",{id:"zgs20_gsModuleFilterWidgetList","class":"zgs19_gsDropdownOuterElemNew",fkey:e}).append(c("<div>",{"class":"zgs19_gsModuleFilterTitleHeader zgs19_gsOverflow",gs:"mFilterWidgetHeader",title:n}).text(n)).append(c("<div>",{id:"zgs20_gsModuleFilterWidgetHeader","class":"zgs19_gsModuleFilterWidgetHeader zgs19_gsDisplayNone",gs:"gsFilterWidgetHeader"})).append(c("<div>",{id:"zgs20_gsModuleFilterWidgetFooter","class":"zgs19_gsOverflowAuto"})));if(l=="1"){for(var o in k){var p=k[o];a.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++h,l,e,o,m,p,p)}if(e=="date"){var q=c(b).attr("id");a.createDatePicker(j,e,q),c("#zgs20_gsModuleFilterList").find(".zgs19_gsModuleFilterTitleHeader").hide()}}else if(l=="2"){var r=a.getFilterInfo(j,e,"header");for(var s in k){var t=r[s],u=k[s];c("#zgs20_gsModuleFilterWidgetFooter").append(c("<div>",{"class":"zgs19_gsModuleFilterServiceHeader zgs19_gsOverflow",gs:"mFilterWidgetHeader",title:t}).text(t));for(var o in u)a.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++h,l,e,o,m,u[o],u[o])}c(".zgs19_gsFilterQuerySelection").css("padding-left","15px")}else if(l=="3"){var v="";j==d.SUPPORT&&(v=a.getFilterInfo(j,"portals","current"));if(k.hasOwnProperty(v)){var w=k[v];for(var o in w)a.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++h,l,e,o,m,w[o],w[o])}}else if(l=="4"){var x=a.getFilterInfo(j,"accounts","current");i=k.hasOwnProperty(x);if(i){var y=k[x];for(var o in y){var p=y[o],z=p.key||"",A=p.name||"",B=p.tip||"";a.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++h,l,e,z,m,A,B)}}}else if(l=="5"){var C=a.getFilterInfo(j,"accounts","current");if(k.hasOwnProperty(C)){var D=k[C];for(var o in D){var E=D[o];a.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleFilterChild",++h,l,e,E.ID,m,E.NAME,E.NAME)}}}if(i){var F=200,G=250;a.curDatePickerElem=b,a.isFilterListDisplay=!0;var H=c("#zgs20_gsModuleFilterWidgetFooter")[0].scrollHeight;H>=G&&(c("#zgs20_gsModuleFilterWidgetHeader").show(),c("#zgs20_gsModuleFilterWidgetHeader").empty().append(c("<div>",{id:"zgs20_gsFilterQueryHolder","class":"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocus"}).append(c("<span>",{"class":"zgs19_gsFilterQueryIcon zgs19_gsResultsUniIcons zgs19_gsfl"})).append(c("<input>",{id:"zgs20_gsFilterQueryBox","class":"zgs19_gsFilterQueryBox zgs19_gsBorderBox",gs:"gsFilterQueryBox",type:"text",placeholder:""}))),a.focus("zgs20_gsFilterQueryBox"));var I=c(b).outerWidth(!0),J=I>F?I:F;c("#zgs20_gsModuleFilterWidgetList").css("minWidth",I+20),c("#zgs20_gsModuleFilterWidgetList").css("maxWidth",J+20),c("#zgs20_gsModuleFilterWidgetFooter").css("maxHeight",G);var K=0;e=="sort"?(K=39,c(b).addClass("zgs19_gsBColorEC")):(K=33,c(b).addClass("zgs19_gsboxholder"));var L=c(b).position(),M=c("#zgs20_gsModuleFilterList").width(),N=c("#zgs20_gsModuleFilterWidgetList").width(),O=b.getBoundingClientRect(),P=O.width-2||0,Q=L.left,R=Q+P,S=Q+N;S>M&&(R>N?Q=R-N:Q/=2),c("#zgs20_gsModuleFilterWidgetList").css("top",K),c("#zgs20_gsModuleFilterWidgetList").css("left",Q),a.addEventForFilterQueryBox("zgs20_gsModuleFilterWidgetFooter")}else a.hideFilterList()}else a.hideFilterList()},a.replaceHTMLEntity=function(b){return/&(?:[a-z\d]+|#\d+|#x[a-f\d]+);/ig.test(b)?a.gssecurity.textDecoder(b):b},a.renderModuleFilterList=function(b,d,e,f,g,h,i,j,k){k=a.replaceHTMLEntity(k),j=a.replaceHTMLEntity(j);var l=h==i?"zgs19_gsModuleSeleFilterElemNew":"zgs19_gsModuleUnSeleFilterElem";c("#"+b).append(c("<div>",{id:"zgs20_gsFilterQuerySelection"+e,"class":"zgs19_gsFilterQuerySelection zgs19_gsModuleFilterServiceChild zgs19_gsCurPointer zgs19_gsOverflow "+l,gs:d,ftype:f,fkey:g,key:h,title:k,value:j,index:e}).text(j))},a.renderMoreFilterWidgetList=function(b){a.curMoreFiltersList={};var d=c(b).attr("index"),e=c(b).attr("service"),f=a.getFilterObj(e),g=c("#zgs20_gsMoreFilterWidgetList").css("display");if(g==undefined||g==="none"){c("#zgs20_gsMoreFilterWidgetList").empty().remove();var h=a.getvalidFilterList(f.order,f),i=h.length;if(i>0){c("#zgs20_gsModuleFilterList").append(c("<div>",{id:"zgs20_gsMoreFilterWidgetList","class":"zgs19_gsDropdownOuterElemNew zgs19_gsBorderBox",gs:"moreFilterHolder"}).append(c("<div>",{id:"zgs20_gsEditFieldsFooter","class":"zgs19_gsOverflowAuto"})));var j=!1;for(var k=d;k<i;k++){var l=h[k];if(f.hasOwnProperty(l)){var m=f[l],n=m.title,o=m.type,p=m.dispname;if(o=="6"){j&&(j=!1,c("#zgs20_gsEditFieldsFooter").append(c("<hr>",{"class":"zgs19_gsMoreFilterHRTag"})));var q=m.data;for(var r in q){var s=q[r];c("#zgs20_gsEditFieldsFooter").append(c("<div>",{"class":"zgs19_gsMoreFilterTitle zgs19_gsOverflow"}).append(c("<div>",{"class":"zgs19_gsCurPointer",gs:"moreFiltercheckbox",fkey:l,soid:m.current}).append(c("<input>",{"class":"zgs19_gsfl",type:"checkbox",name:r,value:s,style:"height:35px;",checked:m.current})).append(c("<span>",{"class":"zgs19_gsfl",title:s,style:"margin:25px 2px;",style:"height:35px;padding-left:10px"}).text(s))))}}else j=!0,c("#zgs20_gsEditFieldsFooter").append(c("<div>",{"class":"zgs19_gsMoreFilterTitle zgs19_gsOverflow",title:n}).text(n)).append(c("<div>",{id:"zgs20_gsMoreFilterElem_"+l,"class":"zgs19_gsModuleMoreFilterElemHolder zgs19_gsMoreFilterValueElem zgs19_gsCurPointer zgs19_gsOverflow",fkey:l,soid:m.current,gs:"moreFilterList",service:e}).append(c("<div>",{"class":"zgs19_gsMoreFilterValue zgs19_gsOverflow zgs19_gsfl",title:p}).text(p)).append(c("<div>",{"class":"zgs19_gsModuleFilterElemIcon zgs19_gsModuleMoreFilterDownIcon zgs19_gsVisibleHidden zgs19_gsBorderBox zgs19_gsfl"}).append(c("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsBorderBox"}))))}}var t=a.getI18NMsg("gs.search.filter.apply"),u=a.getI18NMsg("gs.search.callout.crm.cancel");c("#zgs20_gsMoreFilterWidgetList").append(c("<div>",{id:"zgs20_gsEditFieldsBottom","class":"zgs19_gsEditFieldsBottom",style:"margin-top:10px;"}).append(c("<input>",{"class":"zgs19_gsEditFieldsBottom1 zgs19_gsCurPointer zgs19_gsfr",type:"button",value:t,gs:"moreFilterEditFields",datatype:"applyFilterFields"})).append(c("<input>",{"class":"zgs19_gsEditFieldsBottom2 zgs19_gsCurPointer zgs19_gsfr",type:"button",value:u,gs:"moreFilterEditFields",datatype:"closeFilterFields"})));var v=250,w=300,x=b.getBoundingClientRect(),y=x.width-2||0;a.isMoreFilterListDisplay=!0,c("#zgs20_gsMoreFilterWidgetList").css("padding",10),c("#zgs20_gsMoreFilterWidgetList").css("width",v);var z=c(b).position(),A=c("#zgs20_gsModuleFilterList").width(),B=c("#zgs20_gsMoreFilterWidgetList").outerWidth(),C=z.left,D=C+y,E=C+B;E>A&&(D>B?C=D-B:C/=2),c("#zgs20_gsMoreFilterWidgetList").css("top",33),c("#zgs20_gsMoreFilterWidgetList").css("left",C),c("#zgs20_gsEditFieldsFooter").css("maxHeight",w),c("#zgs20_gsEditFieldsFooter").scrollTop(0),c("#zgs20_gsEditFieldsFooter").scrollLeft(0),a.addMoreEventForFilterElem()}}else a.hideMoreFilterList()},a.renderMoreFilterInnerList=function(b){a.curDatePickerElem="",a.currFilterselecelem="",a.isMoreInnerFilterListDisplay=!1;var d=c(b).attr("fkey"),e=c(b).attr("soid"),f=c(b).attr("service"),g=c("#zgs20_gsMoreFilterInnerList").attr("fkey");d!=g&&(c("#zgs20_gsMoreFilterInnerList").hide(),c(".zgs19_gsModuleMoreFilterElemHolder").removeClass("zgs19_gsboxholder"));var h=a.getFilterObj(f),i=c("#zgs20_gsMoreFilterInnerList").css("display");if(i==undefined||i==="none"){c("#zgs20_gsMoreFilterInnerList").empty().remove();if(h.hasOwnProperty(d)){var j=-1,k=h[d],l=k.type,m=k.data||{};c("#zgs20_gsModuleFilterList").append(c("<div>",{id:"zgs20_gsMoreFilterInnerList","class":"zgs19_gsDropdownOuterElemNew",fkey:d,gs:"moreInnerFilterHolder"}).append(c("<div>",{id:"zgs20_gsModuleFilterWidgetHeader","class":"zgs19_gsModuleFilterWidgetHeader zgs19_gsDisplayNone",gs:"gsFilterInnerHeader"})).append(c("<div>",{id:"zgs20_gsModuleFilterWidgetFooter","class":"zgs19_gsOverflowAuto"})));if(l=="5"){var n=a.getFilterInfo(f,"accounts","current");if(m.hasOwnProperty(n)){var o=m[n];for(var p in o){var q=o[p];a.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleInnerFilterChild",++j,l,d,q.ID,e,q.NAME,q.NAME)}}}else{for(var r in m){var s=m[r];a.renderModuleFilterList("zgs20_gsModuleFilterWidgetFooter","moduleInnerFilterChild",++j,l,d,r,e,s,s)}if(d=="date"){var t=c(b).attr("id");a.createDatePicker(f,d,t)}}var u=250,v=c(b).width();a.curDatePickerElem=b,a.isMoreInnerFilterListDisplay=!0;var w=c("#zgs20_gsModuleFilterWidgetFooter")[0].scrollHeight;w>=u&&(c("#zgs20_gsModuleFilterWidgetHeader").show(),c("#zgs20_gsModuleFilterWidgetHeader").empty().append(c("<div>",{id:"zgs20_gsFilterQueryHolder","class":"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocus"}).append(c("<span>",{"class":"zgs19_gsFilterQueryIcon zgs19_gsResultsUniIcons zgs19_gsfl"})).append(c("<input>",{id:"zgs20_gsFilterQueryBox","class":"zgs19_gsFilterQueryBox zgs19_gsBorderBox",gs:"gsFilterQueryBox",type:"text",placeholder:""}))),a.focus("zgs20_gsFilterQueryBox")),c("#zgs20_gsMoreFilterInnerList").css("width",v),c("#zgs20_gsModuleFilterWidgetFooter").css("maxHeight",u);var x=c("#zgs20_gsMoreFilterWidgetList").position(),y=c(b).position(),z=x.left+y.left,A=b.getBoundingClientRect(),B=x.top+y.top+A.height;c("#zgs20_gsMoreFilterInnerList").css("top",B),c("#zgs20_gsMoreFilterInnerList").css("left",z+1),c(b).addClass("zgs19_gsboxholder"),a.addEventForMoreFilterQueryBox("zgs20_gsMoreFilterInnerList")}}else c("#zgs20_gsMoreFilterInnerList").hide(),c(b).removeClass("zgs19_gsboxholder")},a.getvalidFilterList=function(a,b){var c=[];for(var d=0;d<a.length;d++){var e=a[d];if(b.hasOwnProperty(e)){var f=b[e]||{},g=f.length||0;(g>1||f.type=="6")&&c.push(e)}}return c},a.filterEditFieldsAction=function(b){var d=c(b).attr("datatype");switch(d){case"closeFilterFields":a.hideMoreFilterList(),a.hideMoreInnerFilterList();break;case"applyFilterFields":a.updateMoreFilters()}},a.updateMoreFilters=function(){var b=!1,e=a.curMoreFiltersList||{};if(!c.isEmptyObject(e)){var f=a.getSearchType(),g=a.getFilterObj(f);for(var h in e)if(g.hasOwnProperty(h)){var i=g[h],j=i.data||{},k=i.type||"",l=i.current||"",m=e[h];if(k=="5"){var n="";f==d.MAILS&&(n=a.getFilterInfo(f,"accounts","current"));if(j.hasOwnProperty(n)){var o=j[n];for(var p in o){var q=o[p];q.ID==m&&l!==q.ID&&(b=!0,a.updateFilterInfo(f,h,"current",q.ID),a.updateFilterInfo(f,h,"dispname",q.NAME))}}}else if(k=="6")l!=m&&(b=!0,a.updateFilterInfo(f,h,"current",m));else if(h=="date"){b=!0;var r=a.curMoreDateFiltersList||{};a.updateFilterInfo(f,h,"todate",r.todate),a.updateFilterInfo(f,h,"fromdate",r.fromdate);var s=a.getFilterData(f,h,"data",m);a.updateFilterInfo(f,h,"current",m),a.updateFilterInfo(f,h,"dispname",s),a.handleDefaultSearch()}else for(var t in j)m==t&&m!=l&&(b=!0,a.updateFilterInfo(f,h,"current",m),a.updateFilterInfo(f,h,"dispname",j[m]))}b&&a.handleDefaultSearch()}else a.hideMoreFilterList()},a.filterSearchQueryAction=function(){c("#zgs20_gsFilterQueryBox").off().on({focus:function(){c("#zgs20_gsFilterQueryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){c("#zgs20_gsFilterQueryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){a.currFilterselecelem="",c(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn");var b=a.getSearchType(),e=a.getValue("zgs20_gsFilterQueryBox");e=e.trim();var f={},g,h=a.getTargetElem("zgs20_gsModuleFilterWidgetFooter"),i=h.childNodes||[];for(var j=0;j<i.length;j++){var k=i[j],l=c(k).attr("gs");if(l=="mFilterWidgetHeader")g=j,f[g]=!1;else{var m=c(k).attr("fkey"),n=c(k).attr("value"),o=c(k).hasClass("zgs19_gsModuleSeleFilterElemNew");if(!a.isQueryValid(e))f[g]=!0,c(k).text(n).show();else{var p=n;b==d.MAILS&&m=="folders"&&(p=p.replace(new RegExp("(^.../)"),""),p=p.replace(new RegExp("(/$)"),""));var q=e.replace(a.gsautocomplete.regex_replacer,"\\$&"),r=new RegExp(q,"i"),s=p.search(r);if(s>-1&&!o){f[g]=!0;var t=n.search(r),u=n.substr(0,t),v=n.substr(t,e.length),w=n.substr(t+e.length,n.length),x={"class":"zgs19_gshighlight"},y=a.gssecurity.getHighlightTextNode(u,v,w,x);c(k).empty(),k.appendChild(y),c(k).show()}else c(k).text(n).hide()}}}for(var z in f){var A=f[z],B=i[z];if(B){var C=A?"block":"none";c(B).css("display",C)}}}},!0)}}(zgssearch,window),function(a,b){var c=b.document,d=b._jQueryGS;a.defaultMaxCount=3;var e=a.getGSConstantObj()||{};a.resToBeShown=a.resToBeShown||0,a.resultToBeShown=a.resultToBeShown||{},a.firstResultCallOutShown=!1,a.docsShared||(a.docsShared=[{title:a.getI18NMsg("gs.search.result.sharedwithme"),icon:"zgs19_SharedIcon"},{title:a.getI18NMsg("gs.search.result.sharedwithgroup"),icon:"zgs19_GroupSharedIcon"}]),a.discussionsType||(a.discussionsType={0:"discussions",1:"announcements",2:"questions",3:"ideas",4:"problems"}),a.createServiceTemplate=function(b){var c="",f="",g="";if(e.ALL===a.getSearchType()){var h=a.mappedServiceList[b],i=a.getI18NMsg("gs.search.sevice_view_all");c=d("<div>",{id:"zgs20_gs"+b+"Topband","class":"zgs19_gsServiceTopband"}).append(d("<div>",{"class":"zgs19_gsServiceBandName zgs19_gsOverflow zgs19_gsfl",service:b,gs:"serviceBand",title:h.displayName}).text(h.displayName));if(a.isServiceHasWidget(b)){var j=a.getWidgetKey(b);j=e.SUPPORT==b?"portals":j;var k=a.getFilterInfo(b,j,"dispname");c.append(d("<div>",{"class":"zgs19_gsServiceBandWidget zgs19_gsOverflow zgs19_gsfl",service:b,title:k,style:"max-width:60%;"}).text(" - "+k))}g=d("<div>",{id:"zgs20_gs"+b+"More","class":"zgs19_gsMoreOption zgs19_gsOverflow zgs19_gsDisplayNone",service:b,gs:"moreBand",title:i}).text(i),f=d("<div>",{id:"zgs20_gs"+b+"Template","class":"zgs19_gsServiceTemplate",service:b,gs:"ServiceTemplate"}).append(c).append(d("<div>",{id:"zgs20_gs"+b+"Results","class":"zgs19_gsSearchResults zgs19_gsAllSearchResults"})).append(g)}else{var l=a.isServiceHasFilter(b)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage";f=d("<div>",{id:"zgs20_gs"+b+"Template","class":"zgs19_gsModuleScrollPage zgs19_gsOverflowAuto "+l,service:b,gs:"serviceSpecificPage"}).append(d("<div>",{id:"zgs20_gs"+b+"Results","class":"zgs19_gspadBot30",service:b}))}if(e.ALL===a.getSearchType()){var m=a.getSiblingServiceElement(b);m!==""?d("#"+m).after(f):d("#zgs20_gsAllSearchResultPage").prepend(f)}else a.renderServiceFilterList(b),d("#zgs20_gsModuleSearchResultPage").append(f),a.setServiceResPaneHeight(b)},a.setServiceResPaneHeight=function(a){var b="zgs20_gs"+a+"Template",c=d("#zgs20_gsModuleSearchResultPage").height(),e=d("#zgs20_gsModuleFilterList").outerHeight(),f=c-e;d("#"+b).css("height",f+"px")},a.getSiblingServiceElement=function(b){var c="";if(a.orderedServiceList){var e=a.orderedServiceList.length;for(var f=0;f<e;f++){var g=a.orderedServiceList[f],h="zgs20_gs"+g+"Template";d("#"+h).length>0&&(c="zgs20_gs"+g+"Template");if(b===g)break}}return c},a.getResultMaxCount=function(b,c){var d=a.resultCount[c]?a.resultCount[c]:0;if(e.ALL===b){var f=a.fWeightage[c]||a.iWeightage[c]||a.defaultMaxCount;d>f&&(d=f)}return d},a.renderSearchResults=function(b,c,f){try{var g=0,h=a.getSearchType(),i="zgs20_gs"+b+"Results",j=a.resultObject[b],k=a.resultCount[b],l=a.getResultMaxCount(h,b);if(c)g=a.resultToBeShown[b];else if(f){g=a.resToBeShown;var m=a.resultCount.crm;l=m>g+25?g+25:m}else a.scrollSearch&&(g=a.resToBeShown);l=l-g>25?25:l;for(;g<l;g++){var n=b+g,o=j[n],p="",q="",r="",s="",t="",u=d("#zgs20_gsModuleSearchResultPage").width()-100;switch(b){case e.MAILS:var v=o.sender||"",w=o.display_time||"",x=o.folder_id||"",y=o.folder_name||"",z=o.has_attachment||"",A=a.getMailImageStatus(o.servImg),B=o.subject=a.replaceHTMLEntity(o.subject)||"",C=o.isBold==="true"?"zgs19_gsFtWeightBold":"zgs19_gsFtWeightNormal",D="";z==="1"&&(D=d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsfl"})),B||(B="("+a.getI18NMsg("gs.search.result.mail.subject")+")");var E="",F=a.getFilterInfo(e.MAILS,"folders","current");h===a.GSConstant.ALL||F==="allfolders"?E=d("<span>",{"class":"zgs19_hvr_underlineHeader"}).append(d("<span>",{"class":"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",title:a.getI18NMsg("gs.search.filter_through")+" "+y,gs:"mailfolder",fId:x}).text(y)):E=d("<span>",{"class":"zgs19_hvr_underlineHeader"}).append(d("<span>",{"class":"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",title:y}).text(y)),p=d("<div>",{id:i+"_"+g,"class":"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:g,service:b,gs:"searchResultTable"}).append(d("<div>",{"class":"zgs19_gsSearchResultRow"}).append(d("<div>",{"class":"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(d("<div>",{"class":"zgs19_gsUniIconHolder"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons "+A.image,title:A.title,gs:"resultMenuItem"})))).append(d("<div>",{"class":"zgs19_gsSearchResultCell2"}).append(d("<div>",{"class":"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(d("<span>",{title:w}).text(w))).append(d("<div>",{"class":"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(D).append(d("<span>",{"class":C,gs:"zgs20_gsUserTitle",title:B}).text(B))).append(d("<div>",{"class":"zgs19_gsResultFolder1 zgs19_gsMailFolder zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(E)).append(d("<div>",{"class":"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(d("<span>",{title:v}).text(v)))));break;case e.REPORTS:var G=o.auth||o.mBy,H=o.vN||"",I=o.time||"",J=o.ty||"",K=a.getReportsResTT(J);p=d("<div>",{id:i+"_"+g,"class":"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:g,service:b,gs:"searchResultTable"}).append(d("<div>",{"class":"zgs19_gsSearchResultRow"}).append(d("<div>",{"class":"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(d("<div>",{"class":"zgs19_gsUniIconHolder"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons "+K.image,title:K.title,gs:"resultMenuItem"})))).append(d("<div>",{"class":"zgs19_gsSearchResultCell2"}).append(d("<div>",{"class":"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(d("<span>",{title:I}).text(I))).append(d("<div>",{"class":"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(d("<span>",{gs:"zgs20_gsUserTitle",title:H}).text(H))).append(d("<div>",{"class":"zgs19_gsResultAuthor zgs19_gsRepResAuthor zgs19_gsOverflow"}).append(d("<span>",{title:G}).text(G)))));break;case e.CRM:var L=o.mod,M=a.getFilterInfo(e.CRM,"modules","data"),N=M[L]||"",O=a.generateCRMSearchResults(o,i);d("#zgs20_dummyCRMRes").remove();var P=O.resultCell,Q=O.customModule,R=a.getCRMModuleTT(L,Q,N);p=d("<div>",{id:i+"_"+g,"class":"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:g,service:b,gs:"searchResultTable"}).append(d("<div>",{"class":"zgs19_gsSearchResultRow"}).append(d("<div>",{"class":"zgs19_gsSearchResultCell1",gs:"zgs19_gsUserPhotoHolder"}).append(d("<div>",{"class":"zgs19_gsUniIconHolder"}).append(R))).append(P));break;case e.DOCUMENTS:var S=o.author||"",T=o.shared||"",U=o.doc_name||"",V=o.shared_type||"",I=o.display_time||"",W=o.servImg||"",X=T?V===3?1:0:"",K=a.getDocResTT(W),Y=X!==""?d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsfl "+a.docsShared[X].icon,title:a.docsShared[X].title}):"";p=d("<div>",{id:i+"_"+g,"class":"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:g,service:b,gs:"searchResultTable"}).append(d("<div>",{"class":"zgs19_gsSearchResultRow"}).append(d("<div>",{"class":"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(d("<div>",{"class":"zgs19_gsUniIconHolder"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons "+W,title:K,gs:"resultMenuItem"})))).append(d("<div>",{"class":"zgs19_gsSearchResultCell2"}).append(d("<div>",{"class":"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(d("<span>",{title:I}).text(I))).append(d("<div>",{"class":"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(d("<span>",{gs:"zgs20_gsUserTitle",title:U}).text(U))).append(d("<div>",{"class":"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsfl zgs19_gsOverflow",title:S,style:"max-width: 70%;"}).text(S)).append(Y))));break;case e.PEOPLE:var Z=o.phone||"",$=o.extn||"",_=o.mobile||"",ba=o.mailid||"",bb=o.zuid||"",bc=o.empFname||"";bc=bc+" "+o.empLname||"",bc=bc.trim(),Z=Z&&Z!=""&&Z!="NULL"?Z:"",_=_&&_!=""&&_!="NULL"?_:"",$=$&&$!=""&&$!="NULL"?$:"";var O=a.getContactUserDetails(b,u,ba,_,Z,$);q=o.cphoto||o.photo||"",q&&(q.indexOf("/api/viewEmployeePhoto?")!=-1?q=q.replace("/api/viewEmployeePhoto?","/viewPhoto?"):bb&&bb!=="-1"&&(q=e.GS_CONTACTS_URL+"/file?fs=stamp&t=user&ID="+bb+"&API=true")),t=a.getUserStatus(bb),s=t.name?t.name:"",p=d("<div>",{id:i+"_"+g,"class":"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:g,service:b,gs:"searchResultTable"}).append(d("<div>",{"class":"zgs19_gsSearchResultRow"}).append(d("<div>",{"class":"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(d("<div>",{"class":"zgs19_gsUniIconHolder "+s}).append(d("<img>",{"class":"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:a.gsspacer})))).append(d("<div>",{"class":"zgs19_gsSearchResultCell2"}).append(d("<div>",{"class":"zgs19_gsResultTitle zgs19_gsResultTitle97 zgs19_gsOverflow"}).append(d("<span>",{gs:"zgs20_gsUserTitle",title:bc}).text(bc))).append(O.cell1).append(O.cell2)));break;case e.ORGCONTACTS:case e.PERSONALCONTACTS:var Z=o.phone||"",bb=o.zuid||"",ba=o.email||"",_=o.mobile||"",bc=o.full_name||"";Z=Z&&Z!=""&&Z!="NULL"?Z:"",_=_&&_!=""&&_!="NULL"?_:"";var O=a.getContactUserDetails(b,u,ba,_,Z),bd=o.type;bd==="personal"?q=o.stamp+"?API=true":bb&&bb!=="-1"&&(q=e.GS_CONTACTS_URL+"/file?fs=stamp&t=user&ID="+bb+"&API=true"),t=a.getUserStatus(bb),s=t.name?t.name:"",p=d("<div>",{id:i+"_"+g,"class":"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:g,service:b,gs:"searchResultTable"}).append(d("<div>",{"class":"zgs19_gsSearchResultRow"}).append(d("<div>",{"class":"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(d("<div>",{"class":"zgs19_gsUniIconHolder "+s}).append(d("<img>",{"class":"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:a.gsspacer})))).append(d("<div>",{"class":"zgs19_gsSearchResultCell2"}).append(d("<div>",{"class":"zgs19_gsResultTitle zgs19_gsResultTitle97 zgs19_gsOverflow"}).append(d("<span>",{gs:"zgs20_gsUserTitle",title:bc}).text(bc))).append(O.cell1).append(O.cell2)));break;case e.CHAT:var be=e.cuz||"",bf=o.ownerid||"",bg=o.display_time||"",bh=o.display_name||"",bi=o.title=a.replaceHTMLEntity(o.title)||"";bh=be==bf?a.getI18NMsg("gs.search.result.chat.callout.me"):bh;var bj="",bk={},bl=0,bm=!1,bn=0,bo="zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl";o.hasOwnProperty("participants_count")&&(bl=parseInt(o.participants_count)),o.hasOwnProperty("recent_participants")&&(bk=a.jsonParse(o.recent_participants),bn=Object.keys(bk).length),o.hasOwnProperty("group_id")&&(bj=o.group_id);if(bj&&bj!=="-1"&&bj!=="null")bm=!0,q=e.GS_CONTACTS_URL+"/file?fs=stamp&t=group&ID="+bj+"&width=38&height=38"+"&API=true",r=e.GS_CONTACTS_URL+"/file?fs=thumb&t=group&ID="+bj+"&width=38&height=38"+"&API=true";else if(bl>2||bn===2&&!bk.hasOwnProperty(be))bm=!0,bo="zgs19_gsResultsUniIcons zgs19_gsChatGroupIcon";else if(bn>0){bn<=2&&bk.hasOwnProperty(be)&&delete bk[be];for(var bp in bk)t=a.getUserStatus(bp),q=e.GS_CONTACTS_URL+"/file?fs=stamp&t=user&ID="+bp+"&API=true",r=e.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+bp+"&API=true"}else bf!=="-1"&&(t=a.getUserStatus(bf),q=e.GS_CONTACTS_URL+"/file?fs=stamp&t=user&ID="+bf+"&API=true",r=e.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+bf+"&API=true");s=t.name?t.name:"",p=d("<div>",{id:i+"_"+g,"class":"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:g,service:b,gs:"searchResultTable"}).append(d("<div>",{"class":"zgs19_gsSearchResultRow"}).append(d("<div>",{"class":"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(d("<div>",{"class":"zgs19_gsUniIconHolder "+s}).append(d("<img>",{"class":bo,gs:"gsUserPhoto",group:bm,src:a.gsspacer,calloutphoto:r})))).append(d("<div>",{"class":"zgs19_gsSearchResultCell2"}).append(d("<div>",{"class":"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(d("<span>",{title:bg}).text(bg))).append(d("<div>",{"class":"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(d("<span>",{gs:"zgs20_gsUserTitle",title:bi}).text(bi))).append(d("<div>",{"class":"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(d("<span>",{title:bh}).text(bh)))));break;case e.SUPPORT:var bq=a.getSupportResObj(o),br=bq.sTime||"",bs=bq.sTitle||"",bt=bq.module||"",bu=bq.sAuthor||"",bv=o.doc_id;o.encryptedId=a.docIdsVsEncryptedIds[bv];var bw="",bx=o.DEP_NAME||"",by=o.module_id||"",bz=o.DEP_ID||"",bA=o.ATTACHMENT_NAMES||"";bA&&(bw=d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsfl"}));var bB="",bC={},bD="zgs19_gsResultTitle75",bE="",bF="",bG={cell1:"",cell2:""},bH="",bI=a.gssupport.getModuleName(by),bJ=a.getFilterInfo(e.SUPPORT,"modules","current");bI&&(u-=u*25/100,bJ=="0"?bH=d("<div>",{"class":"zgs19_gsResultFolder1 zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(d("<span>",{"class":"zgs19_hvr_underlineHeader"}).append(d("<span>",{"class":"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",title:a.getI18NMsg("gs.search.filter_through")+" "+bI,gs:"deskModules",fId:by}).text(bI))):bH=d("<div>",{"class":"zgs19_gsResultFolder1 zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(d("<span>",{"class":"zgs19_hvr_underlineHeader"}).append(d("<span>",{"class":"zgs19_gsOverflow zgs19_hvr_underline_filter1 zgs19_gsCurDefault",title:bI}).text(bI))));if(by=="1"||by=="2"){var bK={author_width:u},bL=a.getI18NMsg("gs.search.result.support.in"),bM=a.getFilterInfo(e.SUPPORT,"departments","current");bC.author_width=bu;var bN=d("<span>",{"class":"zgs19_gsResIntxt zgs19_gsResIntxt1 zgs19_gsOverflow zgs19_gsfl",title:bL}).text(bL);u-=20,bC.dept_width=bx,bK=a.getDynamicElemWidth(bC,u,u/2),bx&&bM=="0"?bF=d("<div>",{"class":"zgs19_gsDeskDept zgs19_gsfl zgs19_gsOverflow",style:"max-width:"+bK.dept_width+"px;"}).append(d("<span>",{title:a.getI18NMsg("gs.search.filter_through")+" "+bx,"class":"zgs19_hvr_underline",gs:"deskDept",gsfilter:"deptName",fId:bz}).text(bx)):bF=d("<div>",{"class":"zgs19_gsDeskDept zgs19_gsfl zgs19_gsOverflow",style:"max-width:"+bK.dept_width+"px;"}).append(d("<span>",{title:bx,"class":"zgs19_gsOverflow zgs19_hvr_underline_filter1 zgs19_gsCurDefault"}).text(bx)),bE=d("<div>",{"class":"zgs19_gsResultSupportAuthor zgs19_gsfl zgs19_gsOverflow",style:"max-width:"+bK.author_width+"px;"}).append(d("<span>",{title:bu}).text(bu)),bB=d("<div>").append(bE).append(bN).append(bF).append(bH)}else if(by=="3"||by=="4"){var bO=o.WEBSITE||"",bP=o.PHONE||"",bQ=o.EMAIL||"";bD="zgs19_gsResultTitle97",bG=a.getContactUserDetails(b,u,bQ,bP,bO),bB=d("<div>").append(bG.cell1).append(bG.cell2).append(bH)}p=d("<div>",{id:i+"_"+g,"class":"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:g,service:b,gs:"searchResultTable"}).append(d("<div>",{"class":"zgs19_gsSearchResultRow"}).append(d("<div>",{"class":"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(d("<div>",{"class":"zgs19_gsUniIconHolder"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons "+bq.image,title:bt,gs:"resultMenuItem"})))).append(d("<div>",{"class":"zgs19_gsSearchResultCell2"}).append(d("<div>",{"class":"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(d("<span>",{title:br}).text(br))).append(d("<div>",{"class":"zgs19_gsResultTitle zgs19_gsOverflow "+bD}).append(bw).append(d("<span>",{gs:"zgs20_gsUserTitle",title:bs}).text(bs))).append(bB)));break;case e.CONNECT:var bR=o.zuid||"",bS=o.type||"",bT=o.time||"",bU=o.author||"",bV=o.eventStartTime||"",bW=o.hasAttach=="true"?!0:!1,bX=o.title=a.replaceHTMLEntity(o.title)||a.getI18NMsg("gs.search.service_connect.callout.noTitle");bR&&bR!=="-1"&&(q=e.GS_CONTACTS_URL+"/file?fs=stamp&t=user&ID="+bR+"&API=true",r=e.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+bR+"&API=true");var bY="";bW&&(bY=d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsfl"}));var bZ="",b$="zgs19_gsDisplayNone";bS=="POLL"?(b$="",bZ="zgs19_gsPollIcon",bV=a.getI18NMsg("gs.search.service_connect.poll")):bV&&bV!=""&&(b$="",bZ="zgs19_gsEventIcon");var b_="",ca="",cb={},cc="",cd="";if(bS=="FORUMS"){var ce=o.url||"",cf=ce.indexOf("?isNative=true");cf>-1&&(o.url=ce.substr(0,cf)),cb={auth:"max-width:250px;"}}else{var cg=a.getConnectPartitionElem(o,"zgs19_gsConnResApost"),ch=d(cg[0])[0];cc=d(cg[1])[0],cd=d(cg[2])[0],cb=a.getPulseFooterElemsWidth(bU,ch),ca=d("<span>",{"class":"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl",style:"margin-left:5px;margin-right: 5px"}).text(a.getI18NMsg("gs.search.result.support.in")),b_=d("<div>",{"class":"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl",style:cb.name}).append(ch)}t=a.getUserStatus(bR),s=t.name?t.name:"",p=d("<div>",{id:i+"_"+g,"class":"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:g,service:b,gs:"searchResultTable"}).append(d("<div>",{"class":"zgs19_gsSearchResultRow"}).append(d("<div>",{"class":"zgs19_gsSearchResultCell1",gs:"zgs19_gsUserPhotoHolder"}).append(d("<div>",{"class":"zgs19_gsUniIconHolder "+s}).append(d("<img>",{"class":"zgs19_gsUserPhoto",gs:"gsUserPhoto",src:a.gsspacer,pTitle:bi,cPhotoURL:r})))).append(d("<div>",{"class":"zgs19_gsSearchResultCell2"}).append(d("<div>",{"class":"zgs19_width100 zgs19_gsfl"}).append(d("<div>",{"class":"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(d("<span>",{title:bT}).text(bT))).append(d("<div>",{"class":"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(bY).append(d("<span>",{gs:"zgs20_gsUserTitle",title:bX}).text(bX)))).append(d("<div>",{"class":"zgs19_width100 zgs19_gsfl zgs19_gsConnectFooterTxt"}).append(d("<div>",{"class":"zgs19_gsContactEmail zgs19_gsOverflow zgs19_gsfl",style:cb.auth}).append(d("<span>",{title:bU}).text(bU))).append(ca).append(b_).append(cc).append(cd).append(d("<div>",{"class":"zgs19_gsConnEventTime zgs19_gsOverflow zgs19_gsfr "+b$}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsfl "+bZ,title:bV}))))));break;case e.DISCUSSIONS:var ci=o.auth||"",cj=o.dN||"",ck=o.dT||"",cl=a.getDiscTopicTT(o.ty);p=d("<div>",{id:i+"_"+g,"class":"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:g,service:b,gs:"searchResultTable"}).append(d("<div>",{"class":"zgs19_gsSearchResultRow"}).append(d("<div>",{"class":"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(d("<div>",{"class":"zgs19_gsUniIconHolder"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons "+cl.image,title:cl.title,gs:"resultMenuItem"})))).append(d("<div>",{"class":"zgs19_gsSearchResultCell2"}).append(d("<div>",{"class":"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(d("<span>",{title:ck}).text(ck))).append(d("<div>",{"class":"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(d("<span>",{gs:"zgs20_gsUserTitle",title:cj}).text(cj))).append(d("<div>",{"class":"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(d("<span>",{title:ci}).text(ci)))));break;case e.WIKI:var cm=o.dN||"",cn=o.dT||"",co=a.replaceHTMLEntity(o.title);co=o.title=a.replaceHTMLEntity(co);if(cm==undefined||cm==null||cm==""||cm=="null")cm=o.dN=o.auth;var cp=o.sImg,cq=a.getDocResTT(cp),cr="";o.ty==1&&(cr=d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsfl"})),p=d("<div>",{id:i+"_"+g,"class":"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem",index:g,service:b,gs:"searchResultTable"}).append(d("<div>",{"class":"zgs19_gsSearchResultRow"}).append(d("<div>",{"class":"zgs19_gsSearchResultCell1",gs:"gsUserPhotoHolder"}).append(d("<div>",{"class":"zgs19_gsUniIconHolder"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons "+cp,title:cq,gs:"resultMenuItem"})))).append(d("<div>",{"class":"zgs19_gsSearchResultCell2"}).append(d("<div>",{"class":"zgs19_gsResultDate zgs19_gsfr zgs19_gsOverflow"}).append(d("<span>").text(cn))).append(d("<div>",{"class":"zgs19_gsResultTitle zgs19_gsResultTitle75 zgs19_gsOverflow"}).append(cr).append(d("<span>",{gs:"zgs20_gsUserTitle",title:co}).text(co))).append(d("<div>",{"class":"zgs19_gsResultAuthor zgs19_gsOverflow"}).append(d("<span>").text(cm)))))}p=a.setServiceResDivElemsWidth(p,b,i);var cs="zgs20_dummy"+b+"Res";d("#"+cs).remove(),d("#"+i).append(p),a.gskeyboard.insertNewNode(b,i+"_"+g,g),q?a.updateUserPhoto(i+"_"+g,q):bm||a.loadResNoPhotoImg(i+"_"+g)}if(e.ALL===h){a.resultToBeShown[b]=l,c||a.SetweightServices(b);var ct=a.getOrderedServiceList();!a.scrollSearch&&b==ct[1]&&(a.firstResultCallOutShown=!0)}else{a.firstResultCallOutShown=!0,a.resToBeShown=l;if(a.resToBeShown===a.searchResultsLimit||k%a.fetchResCount!=0)a.noMoreResults=!0}if(a.firstResultCallOutShown&&!a.curSelectedEle&&a.curSelectedEle==""){var cu=a.gskeyboard.getFirstDataNode();d("#"+cu).click()}}catch(cv){}},a.setServiceResDivElemsWidth=function(b,c,d){switch(c){case e.CONNECT:b=a.setConnectResDivElemsWidth(b,c,d)}return b},a.setConnectResDivElemsWidth=function(a,b,c){var e="zgs20_dummy"+b+"Res",f=d("<div>",{id:e,"class":"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem zgs19_VHidden"}).append(a);d("#"+c).append(f);var g=d(f).find(".zgs19_width100"),h=g[1],i=d(h).children(),j=d(h).width();d(i).each(function(a){var b=i[a];j=d(b).hasClass("zgs19_gsContactEmail")?j:j-d(b).outerWidth(!0)});var k=d(f).find(".zgs19_gsContactEmail"),l=k[0],m=k[1],n=j/2;return d(l).css("max-width",n),d(m).css("max-width",n),a},a.updateUserPhoto=function(b,e){try{var f=new Image;f.src=e,f.setAttribute("gs",b),f.className="zgs19_gsDisplayNone";var g=c.addEventListener?"":"on",h=c.addEventListener?"addEventListener":"attachEvent";f[h](g+"load",function(){var b=this,c=a.getTargetElem(b.getAttribute("gs"));c&&(a.setGSTagElems(c),c.gsUserPhoto&&(d(c.gsUserPhoto).attr("src",b.src),d(c.gsUserPhoto).removeClass("zgs19_gsFetchImgLoader zgs19_gsResFetchLoader").addClass("zgs19_gsUserPhoto"))),a.removeEle(b)},!0),f[h](g+"error",function(){var b=this;a.loadResNoPhotoImg(b.getAttribute("gs"))},!0)}catch(i){}},a.loadResNoPhotoImg=function(b){var c=a.getTargetElem(b);if(c){a.setGSTagElems(c);if(c.gsUserPhoto){var e=d(c.gsUserPhoto).attr("group"),f=e=="true"?"zgs19_gsChatGroupIcon":"zgs19_gsResNoUserPhoto";d(c.gsUserPhoto).attr("src",a.gsspacer),d(c.gsUserPhoto).removeClass("zgs19_gsFetchImgLoader zgs19_gsResFetchLoader").addClass("zgs19_gsResultsUniIcons "+f)}}},a.getSupportResObj=function(a){var b={},c=a.module_id;switch(c){case"1":b.module="Request",b.image="zgs19_gsSuppRequestIcon",b.sTime=a.display_time||"",b.sAuthor=a.CONTACTNAME||"",b.sTitle=a.support_title||"";break;case"2":b.module="FAQ",b.image="zgs19_gsSuppSolutionIcon",b.sTime=a.display_time||"",b.sAuthor=a.TOPIC_NAME||"",b.sTitle=a.support_title||"";break;case"3":b.module="Contacts",b.image="zgs19_gsSuppContactIcon",b.sAuthor=a.EMAIL||"",b.sTitle=a.support_title||"";break;case"4":b.module="Accounts",b.image="zgs19_gsSuppAccountIcon",b.sAuthor=a.EMAIL||"",b.sTitle=a.support_title||""}return b},a.getFileExtn=function(a){switch(a){case"zwriter":return"zoho writer";case"zslides":return"zoho presentation";case"zsheet":return"zoho sheet"}return a},a.getContactUserDetails=function(b,c,f,g,h,i){var j="",k="";if(h){var l="";b!=e.SUPPORT&&(l=d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})),j=d("<div>",{"class":"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(l).append(d("<span>",{title:h}).text(h))}g&&(k=j,j=d("<div>",{"class":"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsContactMobileImg zgs19_gsfl"})).append(d("<span>",{title:g}).text(g))),i&&(k=j,j=d("<div>",{"class":"zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg zgs19_gsfl"})).append(d("<span>",{title:i}).text(i))),f&&(k=j,j=d("<div>",{"class":"zgs19_gsContactEmail zgs19_gsfl zgs19_gsOverflow"}).append(d("<span>",{title:f}).text(f))),d(j).css("maxWidth",c);if(k){var m={};m.cell1_width=d(j).text(),m.cell2_width=d(k).text();var n=25,o=c/2-n,p=a.getDynamicElemWidth(m,c,o);d(j).css("maxWidth",p.cell1_width+n),d(k).css("maxWidth",p.cell2_width+n),d(k).css("margin-left","8px")}return{cell1:j,cell2:k}},a.getMailImageStatus=function(b){var c={};switch(b){case 0:c.servImg=1,c.image="zgs19_gsMailUnReadIcon",c.toBeImage="zgs19_gsMailReadIcon",c.title=a.getI18NMsg("gs.search.result.mail.status.unread"),c.toBeTitle=a.getI18NMsg("gs.search.result.mail.status.read");break;case 1:c.servImg=0,c.image="zgs19_gsMailReadIcon",c.toBeImage="zgs19_gsMailUnReadIcon",c.title=a.getI18NMsg("gs.search.result.mail.status.read"),c.toBeTitle=a.getI18NMsg("gs.search.result.mail.status.unread");break;case 2:c.servImg=3,c.image="zgs19_gsMailUnReadReplyIcon",c.toBeImage="zgs19_gsMailReadReplyIcon",c.title=a.getI18NMsg("gs.search.result.mail.status.unreadreply"),c.toBeTitle=a.getI18NMsg("gs.search.result.mail.status.readreply");break;case 3:c.servImg=2,c.image="zgs19_gsMailReadReplyIcon",c.toBeImage="zgs19_gsMailUnReadReplyIcon",c.title=a.getI18NMsg("gs.search.result.mail.status.readreply"),c.toBeTitle=a.getI18NMsg("gs.search.result.mail.status.unreadreply");break;case 4:c.servImg=5,c.image="zgs19_gsMailUnReadForwardIcon",c.toBeImage="zgs19_gsMailReadForwardIcon",c.title=a.getI18NMsg("gs.search.result.mail.status.unreadforward"),c.toBeTitle=a.getI18NMsg("gs.search.result.mail.status.readforward");break;case 5:c.servImg=4,c.image="zgs19_gsMailReadForwardIcon",c.toBeImage="zgs19_gsMailUnReadForwardIcon",c.title=a.getI18NMsg("gs.search.result.mail.status.readforward"),c.toBeTitle=a.getI18NMsg("gs.search.result.mail.status.unreadforward")}return c},a.getDocResTT=function(b){return a.isSetTT||(a.isSetTT=!0,a.docsImgObj={zgs19_explorer:a.getI18NMsg("gs.search.result.document.explorer"),zgs19_writer:a.getI18NMsg("gs.search.result.document.writer"),zgs19_sheet:a.getI18NMsg("gs.search.result.document.sheet"),zgs19_show:a.getI18NMsg("gs.search.result.document.show"),zgs19_undefinedtype:a.getI18NMsg("gs.search.result.document.undefinedtype"),zgs19_pdf:a.getI18NMsg("gs.search.result.document.pdf"),zgs19_video:a.getI18NMsg("gs.search.result.document.video"),zgs19_image:a.getI18NMsg("gs.search.result.document.image"),zgs19_html:a.getI18NMsg("gs.search.result.document.html"),zgs19_music:a.getI18NMsg("gs.search.result.document.music"),zgs19_zip:a.getI18NMsg("gs.search.result.document.zip"),zgs19_folder:a.getI18NMsg("gs.search.result.document.folder"),zgs19_wiki:a.getI18NMsg("gs.search.result.document.wiki"),zgs19_word:a.getI18NMsg("gs.search.result.document.word"),zgs19_power:a.getI18NMsg("gs.search.result.document.powerpoint"),zgs19_xl:a.getI18NMsg("gs.search.result.document.xl"),zgs19_txt:a.getI18NMsg("gs.search.result.document.txt")}),a.docsImgObj[b]?a.docsImgObj[b]:""},a.getReportsResTT=function(b){var c={};switch(b){case"Dashboard":c.image="zgs19_dashboard",c.title=a.getI18NMsg("gs.search.result.reports.dashboard");break;case"Table":c.image="zgs19_table",c.title=a.getI18NMsg("gs.search.result.reports.table");break;case"AnalysisView":c.image="zgs19_analysisview",c.title=a.getI18NMsg("gs.search.result.reports.analysisview");break;case"QueryTable":c.image="zgs19_querytable",c.title=a.getI18NMsg("gs.search.result.reports.querytable");break;case"Report":c.image="zgs19_tableview",c.title=a.getI18NMsg("gs.search.result.reports.tableview");break;case"SummaryView":c.image="zgs19_summaryview",c.title=a.getI18NMsg("gs.search.result.reports.summaryview");break;case"Pivot":c.image="zgs19_pivot",c.title=a.getI18NMsg("gs.search.result.reports.pivot")}return c},a.getDocsImageStatus=function(a,b){switch(a){case"zgs19_folder":return"Folder";case"zgs19_explorer":case"zgs19_undefinedtype":return"Unknown File"}switch(b){case"zwriter":return"Writer";case"zsheet":return"Sheet";case"zslides":return"Presentation";default:return b}},a.getPulseFooterElemsWidth=function(a,b){var c=150;d("#zgs20_gsResultsHolder").append(d("<span>",{"class":"zgs19_fontsize14 zgs19_gsDisplayNone",id:"zgs20_gsConnectTempSpan"})),d("#zgs20_gsConnectTempSpan").text("").text(a);var e=d("#zgs20_gsConnectTempSpan").width()+10;d("#zgs20_gsConnectTempSpan").empty().append(b);var f=d("#zgs20_gsConnectTempSpan").width()+40;return d("#zgs20_gsConnectTempSpan").remove(),e>=c&&f<c?e=c+(c-f):e<c&&f>=c?f=c+(c-e):e=f=c,{auth:"max-width:"+e+"px;color:#606060;",name:"max-width:"+f+"px;color:#606060;"}},a.getConnectPartitionElem=function(b,c){var f="",g="",h=e.cuz||null,i="",j="";b.hasOwnProperty("pname")?(f=a.replaceHTMLEntity(b.pname),g=b.pzuid?b.pzuid:""):(f=b.author?b.author:"",g=b.zuid?b.zuid:"");var k=d("<span>",{title:f}).text(f);return g!=""&&g!="-1"&&(h==g?f=a.getI18NMsg("gs.search.service_connect.mywall"):(i=d("<span>",{"class":c}).text(a.getI18NMsg("gs.search.service_connect.apostrophe")),j=d("<span>").text(a.getI18NMsg("gs.search.service_connect.wall")))),[k,i,j]},a.getDiscTopicTT=function(b){var c={};switch(b){case"0":c.image="zgs19_gsDiscDiscussions",c.title=a.getI18NMsg("gs.search.result.discussions.topic.discussion");break;case"1":c.image="zgs19_gsDiscAnnouncements",c.title=a.getI18NMsg("gs.search.result.discussions.topic.announcement");break;case"2":c.image="zgs19_gsDiscQuestions",c.title=a.getI18NMsg("gs.search.result.discussions.topic.question");break;case"3":c.image="zgs19_gsDiscIdeas",c.title=a.getI18NMsg("gs.search.result.discussions.topic.idea");break;case"4":c.image="zgs19_gsDiscProblems",c.title=a.getI18NMsg("gs.search.result.discussions.topic.problem")}return c},a.getUserStatus=function(b,c){var d="",e="",f="",g=a.isWMSChatPaused();if(b&&b!=="-1"&&!g){var h=a.getWMSUserContacts(),i=c=="big"?"zgs19_gsWMSUserStatusBig":"zgs19_gsWMSUserStatus";if(h.hasOwnProperty(b)){var j=h[b];f=j.STATUS,f==0?(d=i+" zgs19_gsWMSOffline",e=a.getI18NMsg("gs.search.iam.offline")):f==1?(d=i+" zgs19_gsWMSOnline",e=a.getI18NMsg("gs.search.iam.online")):f==2?(d=i+" zgs19_gsWMSInvisible",e=a.getI18NMsg("gs.search.iam.invisible")):f==3?(d=i+" zgs19_gsWMSBusy",e=a.getI18NMsg("gs.search.iam.busy")):f==4&&(d=i+" zgs19_gsWMSIdle",e=a.getI18NMsg("gs.search.iam.idle"))}}return{name:d,tip:e,status:f}},a.renderGenericValuesForModule=function(b,c,e,f){var g=a.renderGenericValues(b,c,e,f),h=g.field1,i=g.field2,j=g.seperator;return d("<div>",{"class":""}).append(h).append(j).append(i)},a.renderGenericValues=function(b,c,f,g){var h={},i="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw45",j="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw90";g===e.CRM_ALL_MODULES&&(i="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw35",j="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw70");var k="",l="",m="",n={},o=new Array,p=new Array,q=new Array,r=new Array,s=new Array,t=new Array,u=new Array,v=new Array,w=a.crmDataObj[e.CRM+"_"+b],x=a.crmDispObj[e.CRM+"_"+b],y=a.crmMandName[e.CRM+"_"+b];for(var z in c){var A=c[z];if(f[A]!=="null"){var B=w[A];y!==A&&(B==="phone"&&o.push(A),B==="email"&&p.push(A),B==="picklist"&&s.push(A),B==="lookup"&&q.push(A),B==="ownerlookup"&&r.push(A),B==="text"&&t.push(A),B==="currency"&&u.push(A),B==="autonumber"&&v.push(A))}}var C=emailClass=pickListFieldClass=lookupClass=ownerlookupClass=textFieldClass=currencyClass=auoNumberClass=j,D="zgs19_gsResultsUniIcons zgs19_gsContactMobileImg",E=p.length>0?a.getProperValueFromDataTypeForCRM(w,f,p[0]):"",F=o.length>0?a.getProperValueFromDataTypeForCRM(w,f,o[0]):"",G=s.length>0?a.getProperValueFromDataTypeForCRM(w,f,s[0]):"",H=q.length>0?a.getProperValueFromDataTypeForCRM(w,f,q[0]):"",I=r.length>0?a.getProperValueFromDataTypeForCRM(w,f,r[0]):"",J=t.length>0?a.getProperValueFromDataTypeForCRM(w,f,t[0]):"",K=u.length>0?a.getProperValueFromDataTypeForCRM(w,f,u[0]):"",L=v.length>0?a.getProperValueFromDataTypeForCRM(w,f,v[0]):"";J!==""&&(n.text=d("<div>",{"class":textFieldClass}).append(d("<span>",{title:x[t[0]]+" : "+J}).text(J))),K!==""&&(n.currency=d("<div>",{"class":currencyClass}).append(d("<span>",{title:x[u[0]]+" : "+K}).text(K))),L!==""&&(n.autonumber=d("<div>",{"class":auoNumberClass}).append(d("<span>",{title:x[v[0]]+" : "+L}).text(L))),G!==""&&(n.picklist=d("<div>",{"class":pickListFieldClass}).append(d("<span>",{title:x[s[0]]+" : "+G}).text(G))),I!==""&&(n.owner=d("<div>",{"class":ownerlookupClass}).append(d("<span>",{title:x[r[0]]+" : "+I}).text(I))),H!==""&&(n.lookup=d("<div>",{"class":lookupClass}).append(d("<span>",{title:x[q[0]]+" : "+H}).text(H))),F!==""&&(n.phone=d("<div>",{"class":C}).append(d("<span>",{"class":D,src:a.spacerURL})).append(d("<span>",{title:x[o[0]]+" : "+F,gs:"contactPhone"}).text(F))),E!==""&&(n.email=d("<div>",{"class":emailClass}).append(d("<span>",{title:x[p[0]]+" : "+E}).text(E))),n.hasOwnProperty("email")&&(k=n.email),n.hasOwnProperty("phone")&&(k===""?k=n.phone:l===""&&(l=n.phone)),n.hasOwnProperty("lookup")&&(k===""?k=n.lookup:l===""&&(l=n.lookup)),n.hasOwnProperty("owner")&&(k===""?k=n.owner:l===""&&(l=n.owner)),n.hasOwnProperty("picklist")&&(k===""?k=n.picklist:l===""&&(l=n.picklist)),n.hasOwnProperty("text")&&(k===""?k=n.text:l===""&&(l=n.text)),n.hasOwnProperty("currency")&&(k===""?k=n.currency:l===""&&(l=n.currency)),n.hasOwnProperty("autonumber")&&(k===""?k=n.autonumber:l===""&&(l=n.autonumber)),m=k!==""&&l!==""?d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";if(k!==""&&l!==""){var M=Math.max(d(k).outerWidth(!0)+" === "+d(l).outerWidth(!0));d(k).removeClass().addClass(i),d(l).removeClass().addClass(i)}return h.field1=k,h.field2=l,h.seperator=m,h.mandColName=y,h},a.renderCRMHeader=function(b,c){var d=a.crmMandName[e.CRM+"_"+c];return a.checkUndefined(b[d])},a.addFooterFieldsToArray=function(a,b,c,d,e){var f=new Array;return a!==undefined&&a&&f.push(a),b!==undefined&&b&&f.push(b),c!==undefined&&c&&f.push(c),d!==undefined&&d&&f.push(d),e!==undefined&&e&&f.push(e),f},a.getCRMFieldsArr=function(b,c){var d=new Array,e=new Array,f={},g=a.getCRMModuleFields(b);for(var h in c)a.isArrayContain(h,g)?e.push(h):h!=="id"&&h!=="mod"&&d.push(h);return f.obtainedFieldArr=e,f.extraFieldsArr=d,f},a.getCRMModuleFields=function(a){switch(a){case"Leads":return["Full_Name","Company","Email","Phone","Lead_Status"];case"Contacts":return["Full_Name","Account_Name","Email","Phone","Mobile"];case"Accounts":return["Account_Name","Account_Type","Website","Phone"];case"Potentials":return["Potential_Name","Potential_Owner","Account_Name","Stage"];case"Deals":return["Deal_Name","Deal_Owner","Account_Name","Stage","Amount"];case"Events":return["Event_Title","Start_DateTime","End_DateTime","Venue"];case"Calls":return["Subject","Call_Start_Time","Call_Type","Call_Purpose"];case"Tasks":return["Subject","Task_Owner","Status"];case"Cases":return["Subject","Type","Product_Name","Status"];case"Quotes":return["Subject","Quote_Owner","Quote_Stage"];case"PurchaseOrders":case"Purchase_Orders":return["Subject","Purchase_Order_Owner","Vendor_Name","Status"];case"SalesOrders":case"Sales_Orders":return["Subject","Sales_Order_Owner","Account_Name","Status"];case"PriceBooks":case"Price_Books":return["Price_Book_Name","Price_Book_Owner","Active"];case"Products":return["Product_Name","Product_Owner","Vendor_Name","Product_Active"];case"Vendors":return["Vendor_Name","Email","Website","Phone"];case"Campaigns":return["Campaign_Name","Status","Type","Start_Date","End_Date"];case"Solutions":return["Solution_Title","Solution_Owner","Status","Product_Name"];case"Invoices":return["Subject","Invoice_Owner","Status"];case"Notes":return["Note_Title","Note_Content"]}},a.removeStartsWithClass=function(a,b){if(a!==undefined){var c=d(a).attr("class").split(" "),e=[];for(var f=0;f<c.length;f++)r=c[f].search(b),r&&(e[e.length]=c[f]);d(a).removeClass().addClass(e.join(" "))}return a},a.getCRMElemsWidth=function(b,c,f,g){var h=f,i=a.getCRMModuleTT(c,h,""),j=d("<div>",{id:"zgs20_dummyCRMRes","class":"zgs19_gsSearchResultTable zgs19_gsUnSelectedElem zgs19_VHidden"}).append(d("<div>",{"class":"zgs19_gsSearchResultRow"}).append(d("<div>",{"class":"zgs19_gsSearchResultCell1"}).append(d("<div>",{"class":"zgs19_gsUniIconHolder"}).append(i))).append(b));d("#"+g).append(j);var k=d("#zgs20_dummyCRMRes div.zgs19_gsSearchResultCell2").children(),l=k[0],m=d(l).width(),n=k[1],o=d(n).width(),p=d(l).find(".zgs19_gs_ResultFooterSeperator")[0]!==undefined?d(d(l).find(".zgs19_gs_ResultFooterSeperator")[0]).outerWidth(!0):0;m-=p;var q=d(n).find(".zgs19_gsResultFolder1")[0];a.removeStartsWithClass(q,"zgs19_gs_CRMw");var r=d(n).find(".zgs19_gsResultFolder1")[0]!==undefined?d(d(n).find(".zgs19_gsResultFolder1")[0]).outerWidth(!0):0,s=d(d(d(n).find(".zgs19_gsResultFolder1")[0]).find(".zgs19_hvr_underline_filter")).width()+20,t=d(n).find(".zgs19_gs_ResultFooterSeperator")[0]!==undefined?d(d(n).find(".zgs19_gs_ResultFooterSeperator")[0]).outerWidth(!0):0;o-=r+t+20;var u=Math.floor(o*.4),v=Math.floor(m*.6),w=Math.floor(m*.3),x=d(l).find(".zgs19_gsCRMResultTitle"),y=d(n).find(".zgs19_gsCRMResultField"),z=a.removeStartsWithClass(d(x)[0],"zgs19_gs_CRMw"),A=a.removeStartsWithClass(d(x)[1],"zgs19_gs_CRMw"),B=a.removeStartsWithClass(d(y)[0],"zgs19_gs_CRMw"),C=a.removeStartsWithClass(d(y)[1],"zgs19_gs_CRMw"),D=z!==undefined?d(z).width():0,E=A!==undefined?d(A).width():0,F=B!==undefined?d(B).width():0,G=C!==undefined?d(C).width():0;F=d(B).children().length>1?F-d(d(B).children()[0]).width():F,G=d(C).children().length>1?G-d(d(C).children()[0]).width():G;var H=0,I=0,J=0,K=0,L=0;if(D<=v&&E<=w||D>=v&&E>=w)L=v-D+(w-E),H=v,I=w;else if(D<=v&&E>=w){L+=v-D,H=D;var M=w+L,N=H+M;I=N>m?m-H:M,L=0}else if(D>=v&&E<=w){L+=w-E,I=E;var M=v+L,N=I+M;H=N>m?m-I:M,L=0}var O=0;F<=u&&G<=u||F>=u&&G>=u?(O=u-F+(u-G),J=u,K=u):F<=u&&G>=u?(O+=u-F,J=F,K=u+O):F>=u&&G<=u&&(O+=u-G,K=G,J=u+O);if(O>0&&r<s){var P=s,q=d(n).find(".zgs19_gsResultFolder1")[0];d(q).width(P)}return d(z).css("max-width",H),d(A).css("max-width",I),d(B).css("max-width",J),d(C).css("max-width",K),c===e.CONNECT&&(d(B).css("color","#606060"),d(C).css("color","#606060")),b},a.generateCRMSearchResults=function(b,c){var f={},g=!1,h=b.mod,i=a.crmDataObj[e.CRM+"_"+h],j=a.crmDispObj[e.CRM+"_"+h],k="",l="zgs19_gsCRMResultTitle zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw20 zgs19_crmAccColor",m="zgs19_gsCRMResultTitle zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw70",n="zgs19_gsCRMResultTitle zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw75",o="zgs19_gsCRMResultTitle zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw90",p="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw20",q="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw25",r="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw30",s="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw28",t="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw45",u="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw90",v="zgs19_gsCRMResultField  zgs19_gsContactNumber zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw45",w="zgs19_gs_CRM_status",x="zgs19_width100 zgs19_gsfl",y="zgs19_gsSearchResultCell2",z="zgs19_gsResultsUniIcons zgs19_gsContactMobileImg",A="zgs19_gsResultsUniIcons zgs19_gsContactPhoneImg",B="",C="",D="",E="",F="",G="",H="",I=o,J=a.getFilterInfo(e.CRM,"modules","data"),K=J[h]||"",L=a.getFilterInfo(e.CRM,"modules","current"),M="",N="";L===e.CRM_ALL_MODULES&&K!==undefined&&K!=="undefined"?(M=d("<div>",{"class":"zgs19_gs_CRMw20 zgs19_gsResultFolder1 zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(d("<span>",{"class":"zgs19_hvr_underlineHeader"}).append(d("<span>",{"class":"zgs19_hvr_underline zgs19_gsOverflow zgs19_hvr_underline_filter",title:a.getI18NMsg("gs.search.filter_through")+" "+K,gs:"crmmod",mod:h}).text(K))),t="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw35",u="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw70",r="zgs19_gsCRMResultField zgs19_gsfl zgs19_gsOverflow zgs19_gs_CRMw22"):M=d("<div>",{"class":"zgs19_gs_CRMw20 zgs19_gsResultFolder1 zgs19_gsfr zgs19_gsOverflow",gs:"gsOverflowFooter"}).append(d("<span>",{"class":"zgs19_hvr_underlineHeader"}).append(d("<span>",{"class":"zgs19_gsOverflow zgs19_hvr_underline_filter zgs19_gsCurDefault",title:K}).text(K)));if(h==="Leads"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,Q=a.checkUndefined(b.Full_Name),R=a.getProperValueFromDataTypeForCRM(i,b,"Company"),S=a.getProperValueFromDataTypeForCRM(i,b,"Email"),T=a.getProperValueFromDataTypeForCRM(i,b,"Phone"),U=a.getProperValueFromDataTypeForCRM(i,b,"Lead_Status"),V="",W=S!==""?!0:!1,X=T!==""?!0:!1,Y=U!==""?!0:!1;R!==""&&(I=m);var Z=P.length;!W&&!X&&!Y&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L));var $=bt=bj=u;W&&Y&&($=bt=t),F=(W||X)&&Y?d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"",(!W||!Y)&&X&&($=bt=bj=t,bj=!W&&!Y?u:t,E=W?d("<span>",{"class":"zgs19_spaceW3 zgs19_gsfl"}):"",V=X?d("<span>",{"class":v}).append(d("<span>",{"class":z,src:a.spacerURL})).append(d("<span>",{title:j.Phone+" : "+T,gs:"contactPhone"}).text(T)):"");var _=W?d("<span>",{"class":$,title:j.Email+" : "+S}).text(S):"",ba=Y?d("<span>",{"class":bt+" "+w,title:j.Lead_Status+" : "+U}).text(U):"",bb=d("<div>",{"class":I,title:j.Full_Name+" : "+Q}).text(Q),bc=R!==""?d("<span>",{"class":l,title:j.Company+" : "+R}).text(R):"",bd=R!==""?d("<span>",{"class":"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"";B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(bb).append(bd).append(bc)).append(d("<div>",{"class":x}).append(_).append(E).append(V).append(F).append(ba).append(k).append(M))}else if(h==="Accounts"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,be=a.getProperValueFromDataTypeForCRM(i,b,"Account_Name"),bf=a.getProperValueFromDataTypeForCRM(i,b,"Owner"),T=a.getProperValueFromDataTypeForCRM(i,b,"Phone"),bg=a.getProperValueFromDataTypeForCRM(i,b,"Account_Type"),bh="",bi="",bj="";bh=bj=bi=u;var bk=T!==""?!0:!1,bl=bf!==""?!0:!1,bm=bg!==""?!0:!1;!bk&&!bl&&!bm&&P.length>0&&(k=a.renderGenericValuesForModule(h,P,b,L));if(bk&&bl||bm&&bl||bk&&bm)bh=bj=bi=t;E=bk&&bl?d("<span>",{"class":"zgs19_spaceW3 zgs19_gsfl"}):"",F=E===""&&(bk||bl)&&bm?d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var bn=bl?d("<div>",{"class":bh}).append(d("<span>",{title:j.Owner+" : "+bf}).text(bf)):"",V=bk?d("<div>",{"class":bj}).append(d("<span>",{"class":z,src:a.spacerURL})).append(d("<span>",{title:j.Phone+" : "+T,gs:"contactPhone"}).text(T)):"",bo=bm&&(!bl||!bk)?d("<span>",{"class":bi,title:j.Account_Type+" : "+bg}).text(bg):"",bp=d("<span>",{"class":I,title:j.Account_Name+" : "+be}).text(be);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(bp)).append(d("<div>",{"class":x}).append(bn).append(E).append(V).append(F).append(bo).append(k).append(M))}else if(h==="Contacts"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,Q=a.checkUndefined(b.Full_Name),bq=a.getProperValueFromDataTypeForCRM(i,b,"Owner"),R=a.getProperValueFromDataTypeForCRM(i,b,"Account_Name"),T=a.getProperValueFromDataTypeForCRM(i,b,"Phone"),br=a.getProperValueFromDataTypeForCRM(i,b,"Mobile"),bs="",$="",bt="",bj="";R!==""&&(I=n);var bu=bq!==""?!0:!1,bv=R!==""?!0:!1,bw=T!==""?!0:!1,bx=br!==""?!0:!1,Z=P.length;!bu&&!bv&&!bw&&!bx&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L)),$=bt=bj=u,bu&&(bw||bx)&&($=bt=bj=t,E=d("<span>",{"class":"zgs19_spaceW3 zgs19_gsfl"}));if(bw||bx){var by=bw?T:br,bz=bw?j.Phone:j.Mobile,bA=bw?A:z;bs=d("<div>",{"class":bj}).append(d("<span>",{"class":bA,src:a.spacerURL})).append(d("<span>",{title:bz+" : "+by,gs:"contactPhone"}).text(by))}var bn=bu?d("<div>",{"class":$}).append(d("<span>",{title:j.Owner+" : "+bq}).text(bq)):"",bb=d("<div>",{"class":I,title:j.Full_Name+" : "+Q}).text(Q),bc=R!==""?d("<span>",{"class":l,title:j.Account_Name+" : "+R}).text(R):"",bd=R!==""?d("<span>",{"class":"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"";B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(bb).append(bd).append(bc)).append(d("<div>",{"class":x}).append(bn).append(E).append(bs).append(k).append(M))}else if(h==="Deals"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,bB=a.getProperValueFromDataTypeForCRM(i,b,"Deal_Name"),bC=a.getProperValueFromDataTypeForCRM(i,b,"Owner"),bD=a.getProperValueFromDataTypeForCRM(i,b,"Closing_Date"),bE=a.getProperValueFromDataTypeForCRM(i,b,"Stage"),bh="",bF="",bG="";bh=bF=bG=u,bC!==""&&bE!==""&&(bh=bF=bG=t);var Z=P.length;bC===""&&bE===""&&bD===""&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L)),G=bE===""||bD===""&&bC===""?"":d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;");var bH=bD!==""&&bC===""?d("<span>",{"class":bF,title:j.Closing_Date+" : "+bD}).text(bD):"",bI=bE!==""?d("<span>",{"class":bG+" "+w,title:j.Stage+" : "+bE}).text(bE):"",bJ=bC!==""?d("<span>",{"class":bh,title:j.Owner+" : "+bC}).text(bC):"",bK=d("<span>",{"class":I,title:j.Deal_Name+" : "+bB}).text(bB);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(bK)).append(d("<div>",{"class":x}).append(bJ).append(F).append(bH).append(G).append(bI).append(k).append(M))}else if(h==="Tasks"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,bL=a.getProperValueFromDataTypeForCRM(i,b,"Subject"),bM=a.getProperValueFromDataTypeForCRM(i,b,"Status"),bN=a.getProperValueFromDataTypeForCRM(i,b,"Owner"),bO="",bh="";bO=bh=u,bM!==""&&bN!==""&&(bO=bh=t);var Z=P.length;bM===""&&bN===""&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L)),C=bM!==""&&bN!==""?d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var bP=bM!==""?d("<span>",{title:j.Status+" : "+bM,"class":bO+" "+w}).text(bM):"",bn=bN!==""?d("<span>",{title:j.Owner+" : "+bN,"class":bh}).text(bN):"",bQ=d("<span>",{title:j.Subject+" : "+bL,"class":I}).text(bL);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(bQ)).append(d("<div>",{"class":x}).append(bn).append(C).append(bP).append(k).append(M))}else if(h==="Events"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,bR=a.getProperValueFromDataTypeForCRM(i,b,"Event_Title"),bS=a.getProperValueFromDataTypeForCRM(i,b,"Start_DateTime"),bT=a.getProperValueFromDataTypeForCRM(i,b,"End_DateTime"),bU=a.getProperValueFromDataTypeForCRM(i,b,"Venue"),bV="",bW="";bU!==""&&(bV=d("<span>",{"class":"zgs19_crmModule zgs19_gsResultsUniIcons zgs19_crm_location",src:a.spacerURL}),bW=d("<span>",{"class":r,title:j.Venue+" : "+bU}).text(bU)),C=bU===""||bS===""&&bT===""?"":d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;");var Z=P.length;bS===""&&bT===""&&bU===""&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L));var bX=bU!==""?s:t;L===e.CRM_ALL_MODULES&&bU!==""&&(bX=p);var bY=bS!==""?d("<div>",{"class":bX}).append(d("<span>",{title:j.Start_DateTime+" : "+bS}).text(bS)):"",bZ=bT!==""?d("<div>",{"class":bX}).append(d("<span>",{title:j.End_DateTime+" : "+bT}).text(bT)):"",b$=bS!==""?d("<div>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterIN zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp; to &nbsp;&nbsp;"):"",b_=d("<span>",{"class":I,title:j.Event_Title+" : "+bR}).text(bR);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(b_)).append(d("<div>",{"class":x}).append(bV).append(bW).append(C).append(bY).append(b$).append(bZ).append(k).append(M))}else if(h==="Calls"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,bL=a.getProperValueFromDataTypeForCRM(i,b,"Subject"),ca=a.getProperValueFromDataTypeForCRM(i,b,"Call_Start_Time"),bN=a.getProperValueFromDataTypeForCRM(i,b,"Owner"),E=bN!==""&&ca!==""?d("<span>",{"class":"zgs19_spaceW3 zgs19_gsfl"}):"",cb="",bh="";cb=bh=u,bN!==""&&ca!==""&&(cb=bh=t);var Z=P.length;ca===""&&bN===""&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L));var bn=bN!==""?d("<span>",{"class":bh,title:j.Owner+" : "+bN}).text(bN):"",cc=ca!==""?d("<span>",{"class":cb,title:j.Call_Start_Time+" : "+ca}).text(ca):"",cd=d("<span>",{"class":I,title:j.Subject+" : "+bL}).text(bL);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(cd)).append(d("<div>",{"class":x}).append(bn).append(E).append(cc).append(k).append(M))}else if(h==="Campaigns"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,ce=a.getProperValueFromDataTypeForCRM(i,b,"Campaign_Name"),bN=a.getProperValueFromDataTypeForCRM(i,b,"Owner"),bM=a.getProperValueFromDataTypeForCRM(i,b,"Status"),bS=a.getProperValueFromDataTypeForCRM(i,b,"Start_Date"),bT=a.getProperValueFromDataTypeForCRM(i,b,"End_Date");F=bN===""||bM===""&&bS===""&&bT===""?"":d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;");var cf="",cg="",bO="",bh="";cf=cg=bO=bh=u,bS!==""&&bT!==""&&bN!==""?cf=cg=bh=r:cf=cg=bh=t;var ch=!1;bN===""?(ch=!0,G=bM===""||bS===""&&bT===""?"":d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"),bO=G===""?t:r):bS===""&&bT===""?ch=!0:ch=!1;var bP="";bM!==""&&ch&&(bP=d("<span>",{"class":bO+" "+w,title:j.Status+" : "+bM}).text(bM));var Z=P.length;bN===""&&bM===""&&bT===""&&bS===""&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L));var bn=bN!==""?d("<span>",{"class":bh,title:j.Owner+" : "+bN}).text(bN):"",bY=bS!==""?d("<div>",{"class":cf}).append(d("<span>",{title:j.Start_Date+" : "+bS}).text(bS)):"",b$=bT!==""&&bS!==""?d("<div>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterIN zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp; to &nbsp;&nbsp;"):"",bZ=bT!==""?d("<div>",{"class":cg}).append(d("<span>",{title:j.End_Date+" : "+bT}).text(bT)):"",ci=d("<span>",{"class":I,title:j.Campaign_Name+" : "+ce}).text(ce);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(ci)).append(d("<div>",{"class":x}).append(bn).append(F).append(bY).append(b$).append(bZ).append(G).append(bP).append(k).append(M))}else if(h==="Cases"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,bL=a.getProperValueFromDataTypeForCRM(i,b,"Subject"),cj=a.getProperValueFromDataTypeForCRM(i,b,"Product_Name"),bM=a.getProperValueFromDataTypeForCRM(i,b,"Status"),bN=a.getProperValueFromDataTypeForCRM(i,b,"Owner"),bO="",bh="";bO=bh=u,bN!==""&&bM!==""&&(bO=bh=t);var Z=P.length;bN===""&&bM===""&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L));var bn=bN!==""?d("<span>",{"class":bh,title:j.Owner+" : "+bN}).text(bN):"",bP=bM!==""?d("<div>",{"class":bO+" "+w}).append(d("<span>",{title:j.Status+" : "+bM}).text(bM)):"";F=bn!==""&&bM!==""?d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var bQ=d("<span>",{"class":I,title:j.Subject+" : "+bL}).text(bL);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(bQ)).append(d("<div>",{"class":x}).append(bn).append(F).append(bP).append(k).append(M))}else if(h==="Solutions"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,ck=a.getProperValueFromDataTypeForCRM(i,b,"Solution_Title"),bM=a.getProperValueFromDataTypeForCRM(i,b,"Status"),cj=a.getProperValueFromDataTypeForCRM(i,b,"Product_Name"),bO="",cl="";bO=cl=u,cj!==""&&bM!==""&&(bO=cl=t);var Z=P.length;cj===""&&bM===""&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L));var cm=cj!==""?d("<span>",{"class":cl,title:j.Product_Name+" : "+cj}).text(cj):"",bP=bM!==""?d("<div>",{"class":bO+" "+w}).append(d("<span>",{title:j.Status+" : "+bM}).text(bM)):"";F=cj!==""&&bM!==""?d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var cn=d("<span>",{"class":I,title:j.Solution_Title+" : "+ck}).text(ck);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(cn)).append(d("<div>",{"class":x}).append(cm).append(F).append(bP).append(k).append(M))}else if(h==="Products"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,co=a.getProperValueFromDataTypeForCRM(i,b,"Product_Name"),cp=a.getProperValueFromDataTypeForCRM(i,b,"Vendor_Name"),bN=a.getProperValueFromDataTypeForCRM(i,b,"Owner"),Z=P.length,bh="",cl="";bh=cl=u,bN!==""&&cp!==""&&(bh=cl=t),cp===""&&bN===""&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L));var bn=bN!==""?d("<span>",{"class":bh,title:j.Owner+" : "+bN}).text(bN):"",cq=cp!==""?d("<span>",{"class":cl,title:j.Vendor_Name+" : "+cp}).text(cp):"";F=bN!==""&&cp!==""?d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var cr=d("<span>",{"class":I,title:j.Product_Name+" : "+co}).text(co);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(cr)).append(d("<div>",{"class":x}).append(bn).append(F).append(cq).append(k).append(M))}else if(h==="Vendors"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,cp=a.getProperValueFromDataTypeForCRM(i,b,"Vendor_Name"),T=a.getProperValueFromDataTypeForCRM(i,b,"Phone"),S=a.getProperValueFromDataTypeForCRM(i,b,"Email"),bj=$=u;T!==""&&S!==""&&(bj=$=t),E=S!==""&&T!==""?d("<span>",{"class":"zgs19_spaceW3 zgs19_gsfl"}):"";var Z=P.length;T===""&&S===""&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L));var cs=S!==""?d("<span>",{"class":$,title:j.Email+" : "+S}).text(S):"",ct=T!==""?d("<div>",{"class":bj}).append(d("<span>",{"class":z,src:a.spacerURL})).append(d("<span>",{title:j.Phone+" : "+T,gs:"contactPhone"}).text(T)):"",cu=d("<span>",{"class":I,title:j.Vendor_Name+" : "+cp}).text(cp);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(cu)).append(d("<div>",{"class":x}).append(cs).append(E).append(ct).append(k).append(M))}else if(h==="PriceBooks"||h==="Price_Books"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,cv=a.getProperValueFromDataTypeForCRM(i,b,"Price_Book_Name"),cw=a.getProperValueFromDataTypeForCRM(i,b,"Owner"),cx=a.getProperValueFromDataTypeForCRM(i,b,"Active"),cy="",cz=bh=u;cx!==""&&cw!==""&&(bh=t,cz=q),cx!==""&&(cy=cx==="true"?"Active":"InActive",D=d("<span>",{"class":cz,title:j.Active+" : "+cy}).text(cy));var Z=P.length;cx===""&&cw===""&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L)),F=cw!==""&&cx!==""?d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var cA=cw!==""?d("<span>",{"class":bh,title:j.Owner+" : "+cw}).text(cw):"",cB=d("<span>",{"class":I,title:j.Price_Book_Name+" : "+cv}).text(cv);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(cB)).append(d("<div>",{"class":x}).append(cA).append(F).append(D).append(k).append(M))}else if(h==="Quotes"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,cC=a.getProperValueFromDataTypeForCRM(i,b,"Owner"),cD=a.getProperValueFromDataTypeForCRM(i,b,"Quote_Stage"),bL=a.getProperValueFromDataTypeForCRM(i,b,"Subject"),Z=P.length,bG=bh=u;cD!==""&&cC!==""&&(bh=bG=t),cC===""&&cD===""&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L)),F=cC!==""&&cD!==""?d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var cE=cC!==""?d("<span>",{"class":bh,title:j.Owner+" : "+cC}).text(cC):"",cF=cD!==""?d("<span>",{"class":bG+" "+w,title:j.Quote_Stage+" : "+cD}).text(cD):"",bQ=d("<span>",{"class":I,title:j.Subject+" : "+bL}).text(bL);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(bQ)).append(d("<div>",{"class":x}).append(cE).append(F).append(cF).append(k).append(M))}else if(h==="SalesOrders"||h==="Sales_Orders"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,bL=a.getProperValueFromDataTypeForCRM(i,b,"Subject"),cG=a.getProperValueFromDataTypeForCRM(i,b,"Owner"),be=a.getProperValueFromDataTypeForCRM(i,b,"Account_Name"),bM=a.getProperValueFromDataTypeForCRM(i,b,"Status"),bh="",bO="";bh=bO=u,cG!==""&&bM!==""&&(bh=bO=t),be!==""&&(I=m);var Z=P.length;bL===""&&be===""&&cG===""&&bE===""&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L));var cH=cG!==""?d("<span>",{"class":bh,title:j.Owner+" : "+cG}).text(cG):"",bP=bM!==""?d("<div>",{"class":bO+" "+w}).append(d("<span>",{title:j.Status+" : "+bM}).text(bM)):"";G=bM!==""&&cG!==""?d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var bQ=d("<span>",{"class":I,title:j.Subject+" : "+bL}).text(bL),cI=be!==""?d("<span>",{"class":q,title:j.Account_Name+" : "+be}).text(be):"",bd=be!==""?d("<span>",{"class":"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"";B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(bQ).append(bd).append(cI)).append(d("<div>",{"class":x}).append(cH).append(G).append(bP).append(k).append(M))}else if(h==="PurchaseOrders"||h==="Purchase_Orders"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,bL=a.getProperValueFromDataTypeForCRM(i,b,"Subject"),bM=a.getProperValueFromDataTypeForCRM(i,b,"Status"),cJ=a.getProperValueFromDataTypeForCRM(i,b,"Vendor_Name"),bh="",cK="",bO="";cJ!==""&&bM!==""?bh=cK=bO=r:bh=cK=bO=t;var Z=P.length;bL===""&&bM===""&&cJ===""&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L));var cL=cJ!==""?d("<span>",{"class":cK,title:j.Vendor_Name+" : "+cJ}).text(cJ):"",bP=bM!==""?d("<div>",{"class":bO+" "+w}).append(d("<span>",{title:j.Status+" : "+bM}).text(bM)):"";F=cJ!==""&&bM!==""?d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"):"";var bQ=d("<span>",{"class":I,title:j.Subject+" : "+bL}).text(bL);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(bQ)).append(d("<div>",{"class":x}).append(cL).append(F).append(bP).append(k).append(M))}else if(h==="Invoices"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,R=a.getProperValueFromDataTypeForCRM(i,b,"Account_Name"),cM=a.getProperValueFromDataTypeForCRM(i,b,"Owner"),bL=a.getProperValueFromDataTypeForCRM(i,b,"Subject"),bM=a.getProperValueFromDataTypeForCRM(i,b,"Status");R!==""&&(I=m);var bh=bO=u;cM!==""&&bM!==""&&(bh=bO=t,F=d("<span>",{"class":"zgs19_gs_ResultFooter12 zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;|&nbsp;&nbsp;"));var Z=P.length;cM===""&&bM===""&&Z>0&&(k=a.renderGenericValuesForModule(h,P,b,L));var bP=bM!==""?d("<span>",{title:j.Status+" : "+bM,"class":bO+" "+w}).text(bM):"",cN=cM!==""?d("<span>",{title:j.Owner+" : "+cM,"class":bh}).text(cM):"",bQ=d("<span>",{title:j.Subject+" : "+bL,"class":I}).text(bL),bc=R!==""?d("<span>",{"class":l,title:j.Company+" : "+R}).text(R):"",bd=R!==""?d("<span>",{"class":"zgs19_gs_ResultFooterSeperator zgs19_gsfl"}).html("&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"):"";B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(bQ).append(bd).append(bc)).append(d("<div>",{"class":x}).append(cN).append(F).append(bP).append(k).append(M))}else if(h==="Notes"){var O=a.getCRMFieldsArr(h,b),P=O.extraFieldsArr,cO=a.getProperValueFromDataTypeForCRM(i,b,"Note_Title"),cP=a.getProperValueFromDataTypeForCRM(i,b,"Note_Content"),cQ=a.getProperValueFromDataTypeForCRM(i,b,"Owner"),cR="",cS=u;cP!==""?cR=d("<span>",{title:j.Note_Content+" : "+cP,"class":cS+" "+w}).text(cP):cQ!==""&&(cR=d("<span>",{title:j.Owner+" : "+cQ,"class":cS}).text(cQ)),cO=cO===""?" --- No Title --- ":cO,b.Note_Title=cO;var cT=d("<span>",{"class":I,title:j.Note_Title+" : "+cO}).text(cO);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(cT)).append(d("<div>",{"class":x}).append(cR).append(M))}else{g=!0;var P=Object.keys(b);a.crmCustomMod[e.CRM+"_"+h]=g;var k=a.renderGenericValues(h,P,b,L),cU=k.field1,cV=k.field2;H=k.seperator;var cW=k.mandColName,cX=b[cW],bb=d("<div>",{"class":o,title:j[cW]+" : "+cX}).text(cX);B=d("<div>",{"class":y}).append(d("<div>",{"class":x}).append(bb)).append(d("<div>",{"class":x}).append(cU).append(H).append(cV).append(M))}return B=a.getCRMElemsWidth(B,h,g,c),f.resultCell=B,f.customModule=g,f},a.getCRMModuleTT=function(a,b,c){var e="";if(b){var f=a.charAt(0).toUpperCase();e=d("<span>",{"class":"zgs19_circleText zgs19_gsfl",title:c,gs:"resultMenuItem"}).text(f)}else if(a!==""){var g=a.toLowerCase();e=d("<span>",{"class":"zgs19_crmModule zgs19_gsResultsUniIcons zgs19_crm_"+g,title:c,gs:"resultMenuItem"})}return e}}(zgssearch,window),function(a,b){var c=b.document,d=b._jQueryGS;a.sseHolder=[],a.total_no_of_results=0;var e=a.getGSConstantObj()||{};a.iWeightage=a.iWeightage||{},a.fWeightage=a.fWeightage||{},a.resultCount=a.resultCount||{},a.resultObject=a.resultObject||{},a.weightServices=a.weightServices||[],a.docIdsVsEncryptedIds=a.docIdsVsEncryptedIds||{},e.timeoutSSE=e.timeoutSSE?a.jsonParse(e.timeoutSSE):150,a.crmDataObj={},a.crmDispObj={},a.crmMandName={},a.crmCustomMod={},a.onSuccessFunction=function(b,c){var d=a.jsonParse(c);switch(b){case"IWEIGHT":a.initialWeightage(d);break;case"WEIGHT":a.finalWeightage(d);break;case"RESULT":a.hasSearchResults(d),a.toggleSearchResultsForSSE(d);break;case"NONSSE":a.hasSearchResultsNonSSE(d),a.handleNonSSESearchResult(d),a.closeMsg="CLOSE",a.closeConnection();break;case"VERSION":a.gsversion.handleVersionChanges(d);break;case"CLOSE":case"ERROR":a.closeSSEAction(b)}},a.closeSSEAction=function(b){a.closeMsg=b,a.removeEventSource(),e.ALL===a.getSearchType()?a.toggleSearchResultsForSSE({closeSSEAction:!0}):a.closeConnection()},a.hasSearchResults=function(b){a.scrollSearch?a.total_no_of_results=b.no_of_results||0:a.total_no_of_results+=b.no_of_results||0},a.hasSearchResultsNonSSE=function(b){for(var c in b)c!=="weightage"&&a.hasSearchResults(b[c])},a.closeConnection=function(){a.hideSearchPageLoader();var b=a.getSearchType(),c=e.ALL===b?"zgs20_gsAllSearchResultPage":"zgs20_gsModuleSearchResultPage";if(a.total_no_of_results===0)a.noMoreResults=!0,a.scrollSearch?(a.removeScrollLoader(),a.closeMsg=="ERROR"&&a.errorResultPage("zgs20_gs"+b+"Template")):(a.displayResultPage(),a.displayAllResultPage(),e.ALL!==b&&(a.displayModuleResultPage(),a.renderServiceFilterList(b),a.setScrollTop(".zgs19_gsModuleScrollPage",0)),a.closeMsg==="CLOSE"?a.zeroResultsPage(c):a.errorResultPage(c));else if(!a.scrollSearch){a.enableSortFilter();if(!a.firstResultCallOutShown&&!a.curSelectedEle&&a.curSelectedEle==""){var f=a.gskeyboard.getFirstDataNode();d("#"+f).click()}}a.scrollSearch=!1},a.zeroResultsPage=function(b){var c=a.getSearchType(),e=a.getI18NMsg("gs.search.error.no_result_match_for_search"),f=a.getI18NMsg("gs.search.error.no_result_match_for_search_try_different"),g=a.isServiceHasFilter(c)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage";d("#"+b).append(d("<div>",{"class":g+" zgs19_gsOverflowAuto"}).append(d("<div>",{"class":"zgs19_gsNoResults zgs19_gsOverflow"}).append(d("<span>").text(e))).append(d("<div>",{"class":"zgs19_gsTryDifferent zgs19_gsOverflow"}).append(d("<span>").text(f))))},a.errorResultPage=function(b){var c=a.getSearchType(),e=a.getI18NMsg("gs.search.error.generic_error_messege"),f=a.isServiceHasFilter(c)?"zgs19_gsServiceSpecificPage":"zgs19_gsNonWidgetServicePage";d("#"+b).append(d("<div>",{"class":f+" zgs19_gsOverflowAuto"}).append(d("<div>",{"class":"zgs19_gsNoResults zgs19_gsOverflow"}).append(d("<span>").text(e))))},a.clearOldSelectedEle=function(){var b=a.curSelectedEle;b&&d(b).css("background-color","#fff")},a.changeBGClass=function(a,b,c){a&&d(a).removeClass(b).addClass(c)},a.initialWeightage=function(b){a.iWeightage=b,a.weightServices=[]},a.finalWeightage=function(b){a.fWeightage=b,a.fillEmptySlots()},a.SetweightServices=function(b){a.weightServices.push(b),a.fillEmptySlots()},a.fillEmptySlots=function(){var b=a.fWeightage||{},c=a.resultToBeShown||{},d=a.getServiceList()||[],e=a.weightServices.length;for(var f=0;f<e;f++){var g=a.weightServices[f];if(b.hasOwnProperty(g)&&c.hasOwnProperty(g)&&a.isArrayContain(g,d)){var h=b[g],i=c[g];a.weightServices[f]="",h>i&&(a.renderSearchResults(g,!0),a.handleMoreOptionforWeightage(g))}}},a.handleMoreOptionforWeightage=function(b){var c=a.getServiceList();if(a.isArrayContain(b,c)){var d=a.resultCount[b],e=a.resultToBeShown[b];d<=e&&a.hideResMoreOption("",b)}},a.toggleSearchResultsForSSE=function(b){e.ALL===a.getSearchType()?(a.startResultTimer(),a.handleSearchResult(b)):a.scrollSearch?(a.removeScrollLoader(),a.generateSearchResult(b)):(a.displayResultPage(),a.displayModuleResultPage(),a.generateSearchResult(b),a.setScrollTop(".zgs19_gsModuleScrollPage",0))},a.startResultTimer=function(){a.isBrowserSupportSSE&&(a.timerEnabled||(a.timerEnabled=!0,a.sseWaitingTime=!0,setTimeout(function(){a.sseWaitingTime=!1,a.displayResultPage(),a.displayAllResultPage(),a.loadSSEHolderSearchResults()},e.timeoutSSE)))},a.loadSSEHolderSearchResults=function(){var b=a.sseHolder.length;if(b>0){for(var c=0;c<b;c++){var d=a.sseHolder[c];a.generateSearchResult(d)}a.sseHolder=[]}},a.handleSearchResult=function(b){a.sseWaitingTime?a.sseHolder.push(b):a.generateSearchResult(b)},a.handleNonSSESearchResult=function(b){a.gsversion.isVersionChanged(b)?a.gsversion.handleVersionChanges(b):a.toggleSearchResultsForNonSSE(b)},a.toggleSearchResultsForNonSSE=function(b){var c=a.getSearchType();if(e.ALL===c){a.displayResultPage(),a.displayAllResultPage(),b.hasOwnProperty("weightage")?a.finalWeightage(b.weightage):"";for(var d in b)d!=="weightage"&&a.generateSearchResult(b[d])}else if(a.scrollSearch)for(var d in b)a.removeScrollLoader(),a.generateSearchResult(b[d]);else for(var d in b)a.displayResultPage(),a.displayModuleResultPage(),a.generateSearchResult(b[d]),a.setScrollTop(".zgs19_gsModuleScrollPage",0)},a.displayResultPage=function(){a.hideWelcomePage(),a.hideCalloutHolder(),a.gsversion.toggleRefreshPage("block"),d(".zgs19_gsSearchResultAreaChild").hide(),d("#zgs20_gsSearchResultMiddle").show(),d("#zgs20_gsSearchResultRight").show(),d("#zgs20_gsResultsHolder").show()},a.displayAllResultPage=function(){d("#zgs20_gsModuleSearchResultPage").empty().hide(),d("#zgs20_gsAllSearchResultPage").empty().show(),a.setScrollTop("#zgs20_gsAllSearchResultPage",0)},a.displayModuleResultPage=function(){d("#zgs20_gsAllSearchResultPage").empty().hide(),d("#zgs20_gsModuleSearchResultPage").empty().show()},a.setScrollTop=function(a,b){d(a).scrollTop(b)},a.updateCurrentAccountDetails=function(b){var c=b.service_name;if(a.isWidgetService(c)&&b.hasOwnProperty("result_objects"))if(c===e.SUPPORT){a.docIdsVsEncryptedIds=b.docIdsVsEncryptedIds;if(b.hasOwnProperty("account_id")&&b.hasOwnProperty("department_id")){a.updateFilterInfo(c,"portals","current",b.account_id),a.updateFilterInfo(c,"departments","current",b.department_id);var d=a.getFilterData(c,"portals","data",b.account_id),f=a.getFilterData(c,"departments","data",b.department_id);a.updateFilterInfo(c,"portals","dispname",d),a.updateFilterInfo(c,"departments","dispname",f)}}else if(c===e.CRM){var g=a.getFilterInfo(c,"modules","data");g&&g!=""&&g.hasOwnProperty(b.account_name)&&(a.updateFilterInfo(c,"modules","current",b.account_name),a.updateFilterInfo(c,"modules","dispname",g[b.account_name]))}else{var h=a.getWidgetKey(c);a.updateFilterInfo(c,h,"dispname",b.account_name),a.updateFilterInfo(c,h,"current",b.account_id),c===e.CONNECT?(a.pulseNetworkId=b.networkId,a.pulseNetworkURL=b.networkURL):c===e.DISCUSSIONS&&(a.discussionsURL=b.sURL)}},a.storeResultObject=function(b){var c=0,d={},f=b.service_name,g=b.no_of_results,h=b.result_objects;a.isArrayContain(f,a.serviceList)||a.serviceList.push(f),a.updateCurrentAccountDetails(b),a.scrollSearch&&(c=a.resultCount[f],d=a.resultObject[f]);for(var i=0;i<g;i++,c++)d[f+c]=h[i];a.resultCount[f]=c,a.resultObject[f]=d;if(f===e.CRM){var j=b.all_search;for(var k in j)a.assignCRMMetaDetails(k,j[k])}},a.assignCRMMetaDetails=function(b,c){a.crmDataObj[e.CRM+"_"+b]=c.search_data_type_columns,a.crmDispObj[e.CRM+"_"+b]=c.search_display_columns,a.crmMandName[e.CRM+"_"+b]=c.mand_col},a.getProperValueFromDataTypeForCRM=function(b,c,d){var e=c[d];return a.checkUndefined(e)!==""?e:""},a.checkUndefined=function(a){return a===undefined||a==="undefined"||a==="null"?"":a},a.generateSearchResult=function(b){if(b.closeSSEAction)a.closeConnection();else{var c=b.service_name,d=b.no_of_results,e=a.getServiceList()||[];d>0&&a.isArrayContain(c,e)?(a.storeResultObject(b),a.scrollSearch||a.createServiceTemplate(c),a.renderSearchResults(c),a.jqueryMouseEvent()):a.scrollSearch&&(a.noMoreResults=!0)}},a.loadSearchResults=function(b){a.displayResultPage(),a.displayModuleResultPage(),a.updateSearchType(b),a.createServiceTemplate(b),a.renderSearchResults(b),a.setScrollTop(".zgs19_gsModuleScrollPage",0),a.jqueryMouseEvent(),a.enableSortFilter()},a.setGSTagElems=function(a){d(a).find("*").each(function(){var b=d(this).attr("gs");b&&(a[b]=this)})},a.getResultObject=function(b,c){if(a.isArrayContain(b,a.serviceList)){var d=a.resultObject[b]||"";if(d){var e=b+c;if(d.hasOwnProperty(e))return d[e]}}return{}},a.getCookie=function(a){var b=a+"=",d=c.cookie.split(";");for(var e=0;e<d.length;e++){var f=d[e].trim();if(f.indexOf(b)===0)return f.substring(b.length,f.length)}return""},a.findPosY=function(a,b){var c=0;if(a)if(a.offsetParent){while(a.offsetParent!=b)c+=a.offsetTop,a=a.offsetParent;c==0&&(c+=a.offsetTop)}else a.y?c+=a.y:c+=a.offsetTop;return c},a.findPosX=function(a,b){var c=0;if(a)if(a.offsetParent){while(a.offsetParent!=b)c+=a.offsetLeft,a=a.offsetParent;c==0&&(c+=a.offsetLeft)}else a.x?c+=a.x:c+=a.offsetLeft;return c},a.endsWith=function(a,b){return a.match(b+"$")==b},a.hasOwnProperty("onSuccessFunction")&&a.hasOwnProperty("serviceList")&&a.loadResultsFromHolder(),a.showBiggerSearch=function(){d("#zgs20_globalsearch").show(),a.focus("zgs20_gsQueryBox"),d("#zgs20_zohosearchLoader").hide()},a.setGSElemSize=function(){var c=d(b).height()-28,e=d(b).width(),f=d("#zgs20_gsSearchResultLeft").width(),g=parseInt(d("#zgs20_gsSearchResultMiddle").css("max-width").replace("px","")),h=e-(f+g);d("#zgs20_gsSearchResultRight").css("width",h+"px"),d("#zgs20_zohosearch").css("height",c+"px"),d("#zgs20_zohosearch").css("width",e+"px"),c=d("#zgs20_zohosearch").outerHeight(!0)-d("#zgs20_gsSearchTopBandHolder").outerHeight(!0),d("#zgs20_globalsearch").css("height",c+"px"),d("#zgs20_globalsearch").css("width",e+"px"),d("#zgs20_zohosearchLoader").css("height",c+"px"),d("#zgs20_zohosearchLoader").css("width",e+"px"),e=d("#zgs20_gsResultsHolder").width()-f;var i=Math.floor(e*.4),j=i<=g?i:g,k=e-j,l=e,m=k;e=d("#zgs20_gsQueryBoxHolder").outerWidth(!0)-(d("div#zgs20_gsQueryBoxHolder > .zgs19_gsSearchIconOuter").width()+d("div#zgs20_gsQueryBoxHolder > .zgs19_searchbtnOuter").outerWidth(!0)),d("div#zgs20_gsQueryBoxHolder > .zgs19_gsqryinnerdiv").css("width",e+"px"),c=d("#zgs20_gsSearchBottomHolder").height()-d("#zgs20_gsSearchBox").outerHeight(!0),d("#zgs20_gsSearchResultsArea").css("height",c+"px"),a.isMaxCalloutOpen||d("#zgs20_gsSearchResultMiddle").css("width",j+"px"),a.isMaxCalloutOpen||d("#zgs20_gsSearchResultRight").css("width",k+"px");var n=(c-d("#zgs20_gsWelcomePage").height())/2,o=n>0?n:0;a.isZohoSearch||d("#zgs20_gsWelcomePage").css("marginTop",o+"px"),a.setResultPreviewWidth(l,m)},a.setResultPreviewWidth=function(b,c){a.maxPrevPane=typeof a.maxPrevPane!=undefined?b:a.maxPrevPane,a.minPrevPane=typeof a.minPrevPane!=undefined?c:a.minPrevPane},a.setAllServiceEleSize=function(){var b=d(a.curSelectedEle).attr("service"),c=d("#zgs20_gsSearchResultMiddle").height(),f="zgs20_gsAllSearchResultPage",g=a.searchType,h=0;if(g!==e.ALL){f="zgs20_gs"+g+"Template";var i=d("#zgs20_gsModuleFilterList").height()||0;h=c-i}else h=c;switch(b){case e.MAILS:a.gsmails.setServiceEleSize(f,h);break;case e.REPORTS:a.gsreports.setServiceEleSize(f,h);break;case e.CRM:a.gscrm.setServiceEleSize(f,h);break;case e.DOCUMENTS:a.gsdocs.setServiceEleSize(f,h);break;case e.PEOPLE:case e.ORGCONTACTS:case e.PERSONALCONTACTS:a.gscontacts.setServiceEleSize(f,h);break;case e.CHAT:a.gschat.setServiceEleSize(f,h);break;case e.SUPPORT:a.gssupport.setServiceEleSize(f,h);break;case e.CONNECT:a.gsconnect.setServiceEleSize(f,h);break;case e.DISCUSSIONS:a.gsdisc.setServiceEleSize(f,h);break;case e.WIKI:a.gswiki.setServiceEleSize(f,h)}},a.appendGlobalSearch=function(){var d=c.domain.indexOf("localzoho.com");d>-1&&(WebMessanger.appendGlobalSearch=function(){if(!_isGSearchAppended){var d=c.getElementsByTagName("head");if(!d||d.length==0)d=[],d[0]=c.createElement("head"),c.insertBefore(doc.body,d[0]);if(WMSUI.globalsearchenabled&&wmsUserConfig.gsv!=undefined){var e=WebMessanger?WebMessanger.cssstaticdomain||"":"",f=WebMessanger?WebMessanger.jsstaticdomain||"":"",g=b.location.protocol+"//"+e+"+/"+a.gsserver+"/"+a.gsv+"/css/gshome.css",h=b.location.protocol+"//"+f+"/"+a.gsserver+"/"+a.gsv+"/js/gshome.js",i=c.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=g,d[0].appendChild(i);var j=c.createElement("script");j.defer=!0,j.type="text/javascript";var k=c.createElement("script");k.defer=!0,k.type="text/javascript";function l(){c.getElementById("wmsglobalsearch").style.display="block"}EventsUtil.attachonload.call(j,l),j.src=h,d[0].appendChild(j)}_isGSearchAppended=!0}})},!_WMSEMPTYBAR&&!WebMessanger.registerAnnonUser&&setTimeout(function(){a.appendGlobalSearch()},1),a.isZohoSearch&&(a.setGSElemSize(),a.showBiggerSearch(),a.gszohosearch.triggerBiggerZOSUI())}(zgssearch,window),function(a,b){var c=b._jQueryGS,d=a.getGSConstantObj()||{};a.gskeyboard=function(b){return b=a.gskeyboard||{},b.count=b.count||0,b.head=b.head||null,b.tail=b.tail||null,b.initialize=function(){b.count=0,b.index={},b.head=null,b.tail=null},b.newNode=function(a,c,d){return b.count++,{data:c,prev:null,next:null,index:d,service:a}},b.getFirstDataNode=function(){return b.head?b.head.data:null},b.findDataNode=function(a,c){var d=b.head;while(d!==null){var e=d.service,f=d.index;if(a==e&&c==f)return d;d=d.next}return null},b.findPrevDataNode=function(c,d){var e=null,f=b.head,g=a.getOrderedServiceList(),h=g.indexOf(c);while(f!==null){var i=f.service,j=f.index;if(d===0){var k=g.indexOf(i);k<h&&(e=f)}else c===i&&d-1===j&&(e=f);f=f.next}return e},b.insertNewNode=function(a,c,d){var e=b.newNode(a,c,d);if(b.head===null&&b.tail===null)b.head=b.tail=e;else{var f=b.findPrevDataNode(a,d);f===null?(e.next=b.head,b.head.prev=e,b.head=e):(e.next=f.next,f.next!==null&&(f.next.prev=e),f.next=e,e.prev=f)}b.setIndex()},b.setIndex=function(){var a=0;b.index={};var c=b.head;while(c!==null)b.index[c.data]=a++,c=c.next},b.keyUpAndDownAction=function(b){var d=null,e=b===38?"prev":"next";if(!a.curSelectedEle)d=a.gskeyboard.getFirstDataNode();else{var f=c(a.curSelectedEle).attr("service"),g=c(a.curSelectedEle).attr("index"),h=a.gskeyboard.findDataNode(f,g);h&&(e==="prev"?h.prev&&(d=h.prev.data):h.next&&(d=h.next.data))}a.highlightRes(d,e)},a.highlightRes=function(e,f){if(e){var g=a.getTargetElem(e);a.hideAllDropdownList(g),a.changeBGClass(a.curSelectedEle,"zgs19_gsSelectedElem","zgs19_gsUnSelectedElem"),a.changeBGClass(g,"zgs19_gsUnSelectedElem","zgs19_gsSelectedElem"),a.calloutEventHanlder(g);var h=a.getSearchType(),i=0,j="zgs20_gsAllSearchResultPage";h!=d.ALL&&(j="zgs20_gs"+h+"Template",i=c("#zgs20_gsModuleFilterList").height()||0);var k=a.getTargetElem(j),l=a.getTargetElem("zgs20_gsSearchResultMiddle"),m=a.findPosY(g,l),n=c(g).outerHeight(),o=c(k).height(),p=c(k).scrollTop(),q=p+o;p<=m&&q>=m+n||(f==="prev"?c("#"+j).scrollTop(m-i):g.scrollIntoView(!1));var r=c(g).attr("service");h===d.ALL&&a.curMoreService!==r&&a.hideResMoreOption(g,a.curMoreService),a.showResMoreOption(g);var s=b.index[e],k=a.getTargetElem(j);s===0?c(k).scrollTop(0):s===b.count-1&&c(k).scrollTop(k.scrollHeight);var t=c("#zgs20_gsSearchResultRight").width();a.minPrevPane!=t&&c("#zgs20_gsSearchResultRight").stop(!0).animate({width:a.minPrevPane,"z-index":1},{duration:200})}},b.isCurElementInViewPort=function(b,d){var e=a.getTargetElem(d),f=c(e).scrollTop(),g=c(e).scrollTop()+c(e).height(),h=a.getTargetElem("zgs20_globalsearch"),i=parseInt(a.findPosY(b,h))-c("#zgs20_gsSearchBoxHolder").outerHeight(),j=i+c(b).outerHeight();return g>=j&&f<=i?!0:!1},b.keyboardNavgForAutoSugg=function(b){var d=a.gsautocomplete.currselecelem,e=d?c(d).attr("index"):"-1",f=c("#zgs20_gsQuerySugg .zgs19_gsAutoSuggChild").length,g=c(".zgs19_gsAutoSuggChild:first").attr("index");e=parseInt(e),g=parseInt(g),f=g+parseInt(f),e==-1?e=b==a.specialkeys.UP?f-1:g:b==a.specialkeys.UP?(e-=1,e=e<g?f-1:e):(e+=1,e=e>=f?g:e);var h="zgs20_gsAutoSuggCHild"+e,i=a.getTargetElem(h);a.gsautocomplete.currselecelem=i,a.gsautocomplete.updatesuggtext(),i.scrollIntoView(!1),c(".zgs19_gsAutoSuggChild").removeClass("zgs19_gsAutoSuggChildIn"),c(".zgs19_gsAutoSuggChild .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold");var j=c(i).attr("id");c(i).addClass("zgs19_gsAutoSuggChildIn"),c("#"+j+" .zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold")},b.keyboardNavgForFilters=function(d,e){var f=a.currFilterselecelem||"",g=f?c(f).attr("index"):"-1",h=c("#zgs20_gsModuleFilterWidgetFooter .zgs19_gsFilterQuerySelection").length,i=c(".zgs19_gsFilterQuerySelection:first").attr("index");g=parseInt(g),i=parseInt(i),h=i+parseInt(h),g==-1?g=d==a.specialkeys.UP?h-1:i:d==a.specialkeys.UP?(g-=1,g=g<i?h-1:g):(g+=1,g=g>=h?i:g);var j="zgs20_gsFilterQuerySelection"+g,k=a.getTargetElem(j);if(k){a.currFilterselecelem=k;var l=c(k).css("display");l=="none"?e!=k&&(e=e?e:k,b.keyboardNavgForFilters(d,e)):(k.scrollIntoView(!1),c(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),c(k).addClass("zgs19_gsAutoSuggChildIn"))}},b.keyboardNavgForEditFields=function(b){var d=a.currEditFieldselecelem||"",e=d?c(d).attr("index"):"-1",f=c("#zgs20_gsEditFieldsFooter .zgs19_gsEditFieldsChild").length,g=c(".zgs19_gsEditFieldsChild:first").attr("index");e=parseInt(e),g=parseInt(g),f=g+parseInt(f),e==-1?e=b==a.specialkeys.UP?f-1:g:b==a.specialkeys.UP?(e-=1,e=e<g?f-1:e):(e+=1,e=e>=f?g:e);var h="zgs20_gsEditFieldsChild"+e,i=a.getTargetElem(h);i&&(i.scrollIntoView(!1),a.currEditFieldselecelem=i,c(".zgs19_gsEditFieldsRadio").prop("checked",!1),c(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn"),c(i).find(".zgs19_gsEditFieldsRadio").prop("checked",!0),c(i).addClass("zgs19_gsAutoSuggChildIn"))},b}(undefined)}(zgssearch,window),function(a,b){var c=b.document,d=b.navigator,e=b._jQueryGS,f=a.getGSConstantObj()||{};a.GET="GET",a.POST="POST",a.currcurpos=a.currcurpos||0,a.nextScrollValue=a.nextScrollValue||0,a.searchResultsLimit=a.searchResLimit||500,a.mousewheelevt=/Firefox/i.test(d.userAgent)?"DOMMouseScroll":"mousewheel",a.isCalloutActionListOpened=!1,a.currHoverRes="",a.handleKeydownAction=function(b){var c=b.keyCode?b.keyCode:b.which,d=a.getValue("zgs20_gsQueryBox"),f=a.getSearchType();if(c==a.specialkeys.ENTER){if(a.isFilterListDisplay){var g=a.currFilterselecelem;g&&a.clickActionForWidgetList(g)}else if(a.isMoreInnerFilterListDisplay){var g=a.currFilterselecelem;g&&(a.clickActionForMoreInnerList(g),a.hideMoreInnerFilterList())}else if(a.isQueryFocused){var h=a.gsautocomplete.currselecelem;if(a.gsautocomplete.isAutoSuggDisplay&&h)a.gsautocomplete.updateautosugges(h);else{a.removeQuerySugg(),a.gsautocomplete.checkQueryFilterExists("services"),a.gsautocomplete.checkQueryFilterExists("users");var i=a.addserviceFilters(f);d=a.gsautocomplete.getautosearchQuery(d),a.isValidSearchQuery(d,i)?a.handleUserSearchQuery(d,i):f!=i&&(a.updateSearchType(i),a.updateCurrentPage(i))}a.stopEvent(b)}}else if(c==a.specialkeys.ESC)a.isDatePickerDisplay?a.hideDatePicker():a.isFilterListDisplay?a.hideFilterList():a.isMoreInnerFilterListDisplay?(a.hideMoreInnerFilterList(),a.handleViewportFocus()):a.isMoreFilterListDisplay?(a.hideMoreFilterList(),a.hideMoreInnerFilterList()):a.isCalloutActionListOpened?a.hideCalloutActionList():a.isEditFieldsDisplay?a.hideEditFieldsList():a.gsautocomplete.isAutoSuggDisplay?a.removeQuerySugg():a.isZohoSearch?typeof a.gszohosearch!="undefined"&&a.gszohosearch.isFeedbackOpened&&a.gszohosearch.toggleFeedback():a.toggleGlobalsearch(),a.stopEvent(b);else if(c==a.specialkeys.TAB){if(a.gsautocomplete.isAutoSuggDisplay){var h=a.gsautocomplete.currselecelem;if(!h){var j=e(".zgs19_gsAutoSuggChild:first").attr("id");h=a.getTargetElem(j)}a.gsautocomplete.updateautosugges(h),a.stopEvent(b)}}else if(c==a.specialkeys.RIGHT){var k=a.getCursorPos(),d=a.getValue("zgs20_gsQueryBox");if(k==d.length&&a.gsautocomplete.isAutoSuggDisplay){var h=a.gsautocomplete.currselecelem;if(!h){var j=e(".zgs19_gsAutoSuggChild:first").attr("id");h=a.getTargetElem(j)}a.gsautocomplete.updateautosugges(h),a.stopEvent(b)}}else if(c==a.specialkeys.UP||c==a.specialkeys.DOWN)a.isFilterListDisplay||a.isMoreInnerFilterListDisplay?a.gskeyboard.keyboardNavgForFilters(c):a.isEditFieldsDisplay?a.gskeyboard.keyboardNavgForEditFields(c):a.gsautocomplete.isAutoSuggDisplay?a.gskeyboard.keyboardNavgForAutoSugg(c):a.gskeyboard.keyUpAndDownAction(c),a.stopEvent(b)},a.handleKeyUpAction=function(b){var c=b.keyCode?b.keyCode:b.which;a.isGSOpened||a.isZohoSearch?a.isGSOpenedKeyUp=!0:a.isGSOpenedKeyUp&&(a.isGSOpenedKeyUp=!1,c==a.specialkeys.ESC&&a.stopEvent(b))},a.handleOverlayAction=function(){a.isGSOpenedKeyUp&&(a.isGSOpenedKeyUp=!1)},a.handleViewportFocus=function(){e("#zgs20_gsHolder").focusin(function(){e(this).attr("tabindex",5)}),e("#zgs20_gsHolder").focus()},a.moduleSearchResultPage=function(b){a.gsautocomplete.checkQueryFilterExists("services",b),a.gsautocomplete.checkQueryFilterExists("users");var c=a.getValue("zgs20_gsQueryBox"),d=a.gsautocomplete.getautosearchQuery(c);a.isQueryValid(d)||a.isQueryHasFilters()?a.handleUserSearchQuery(d,b):(a.clearPrevSearchAction(),a.loadSearchResults(b))},a.moreSearchResultPage=function(b){var c=a.getValue("zgs20_gsQueryBox"),d=a.gsautocomplete.getautosearchQuery(c),e=a.gsautocomplete.getautosearchQuery(a.searchedQuery);a.gsautocomplete.checkQueryFilterExists("services",b),a.gsautocomplete.checkQueryFilterExists("users"),a.focus("zgs20_gsQueryBox");var f=a.getValue("zgs20_gsQueryBox");a.searchedQuery=f,a.isQueryValid(d)&&e!=d?a.handleUserSearchQuery(d,b):(a.clearPrevSearchAction(),a.loadSearchResults(b))},a.toggleCalloutActionList=function(b){if(!a.isCalloutActionListOpened){var c=e(b).width(),d=e(b).height(),f=e(b).position(),g=e("#zgs20_gsCalloutActionList").width(),h=f.top+d,i=f.left+c-g;e("#zgs20_gsCalloutActionList").css("top",h),e("#zgs20_gsCalloutActionList").css("left",i),e(b).addClass("zgs19_gsBorderCCC"),e("#zgs20_gsCalloutActionList").show(),a.isCalloutActionListOpened=!0}else e(b).removeClass("zgs19_gsBorderCCC"),e("#zgs20_gsCalloutActionList").hide(),a.isCalloutActionListOpened=!1},a.toggleBacktoTop=function(b){var c=e("#"+b).scrollTop();c>0?a.showScrollTopIcon():a.hideScrollTopIcon()},a.showScrollTopIcon=function(){e("#zgs20_gsBackToTop").show()},a.hideScrollTopIcon=function(){e("#zgs20_gsBackToTop").hide()},a.modulePageScrollEvent=function(b,c){var d=parseInt(a.nextScrollValue),e=parseInt(a.searchResultsLimit);if(d<e){var g=a.getSearchType(),h=a.getValue("zgs20_gsQueryBox"),i=!1;if(g===f.CRM&&f.CRM_FETCH_ALL_RECORDS=="true"){var j=a.getFilterInfo(g,"modules","current");j&&j===f.CRM_ALL_MODULES&&(i=!0)}a.gsautocomplete.checkQueryFilterExists("services"),a.gsautocomplete.checkQueryFilterExists("users"),g=a.addserviceFilters(g),h=a.gsautocomplete.getautosearchQuery(h);if((a.isQueryValid(h)||a.isQueryHasFilters())&&a.isBottomReached(b))if(a.isValidSearchQuery(h,g))a.handleUserSearchQuery(h,g);else if(i){var k=a.resultCount.crm,l=a.nextScrollValue;k>l&&a.renderSearchResults(g,!1,!0)}else if(!a.noMoreResults){var m=encodeURIComponent(h);d+=a.fetchResCount;var n=a.domainURL+a.getServiceSpecificURL(g);n+="&query="+m+"&search_type="+g+"&start="+d+"&is_scroll=true&gs_module=gsnewservice&no_of_results="+a.fetchResCount+a.addqueryFilters(),a.scrollSearch||(a.scrollSearch=!0,a.nextScrollValue=d,a.removeEventSource(),a.hideSearchPageLoader(),a.addScrollLoader(b),a.getSearchResults(n))}}a.stopEvent(c)},a.isBottomReached=function(b){var c=a.getTargetElem(b);if(c){var d=c.scrollTop+c.offsetHeight,e=c.scrollHeight,f=e-d;if(f<300||d===e)return!0}return!1},a.addScrollLoader=function(b){a.removeScrollLoader();var c=a.getFourDotLoader("zgs20_gsScrollLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsScrollLoader");e("#"+b).append(c)},a.removeScrollLoader=function(){var a=e("#zgs20_gsScrollLoader").length;a>0&&e("#zgs20_gsScrollLoader").remove()},a.handleUserSearchQuery=function(b,c){a.clearOldSearchData(c);var d=encodeURIComponent(b),e=a.domainURL+a.getServiceSpecificURL(c);e+="&query="+d+"&search_type="+c+"&is_scroll=false&gs_module=gsnewservice&no_of_results="+a.fetchResCount+a.addqueryFilters();var f=a.getValue("zgs20_gsQueryBox");a.searchedQuery=f,a.updateSearchType(c),a.displayDefaultPage(),a.showSearchPageLoader(),a.getSearchResults(e)},a.addqueryFilters=function(){var b="",c=a.gsautocomplete.queryFilters;return e.isEmptyObject(c)||c.hasOwnProperty("users")&&(b="&mentionedids="+c.users),b},a.addserviceFilters=function(b){var c=a.gsautocomplete.queryFilters;return!e.isEmptyObject(c)&&c.hasOwnProperty("services")?c.services:b},a.clearPrevSearchAction=function(){a.closeMsg="",a.nonsearchcall="",a.curSelectedEle="",a.nextScrollValue=0,a.scrollSearch=!1,a.timerEnabled=!1,a.noMoreResults=!1,a.isMaxCalloutOpen=!1,a.firstResultCallOutShown=!1,a.hideHomeIcon(),a.hideWelcomePage(),a.removeIframeHolder(),a.hideCalloutLoader(),a.removeEventSource(),a.hideScrollTopIcon(),a.removeScrollLoader(),a.removeScrollLoader(),a.hideSearchPageLoader(),a.gskeyboard.initialize()},a.removeIframeHolder=function(){e("#zgs20_gsDocsPreviewHolder").empty(),e("#zgs20_gsDocsPreviewHolder").css("visibility","hidden");var b=e("#zgs20_gsSearchResultRight").width();a.minPrevPane!=b&&e("#zgs20_gsSearchResultRight").stop(!0).animate({width:a.minPrevPane,"z-index":1},{duration:200})},a.clearOldSearchData=function(b){a.clearPrevSearchAction(),a.total_no_of_results=0,a.searchedQuery="",f.ALL===b?(a.resultCount={},a.resultObject={},a.iWeightage={},a.fWeightage={},a.resultToBeShown={}):(a.resultCount[b]=0,a.resultObject[b]={},a.iWeightage[b]=0,a.fWeightage[b]=0,a.resultToBeShown[b]=0)},a.isValidSearchQuery=function(b,c,d){var e=!1;a.isArrayContain(c,a.serviceList)&&(e=a.isValidSearchForWidgetService(c,d));if(a.isQueryValid(b)||a.isQueryHasFilters()){var f=a.getValue("zgs20_gsQueryBox");if(a.searchedQuery!==f||a.getSearchType()!==c)e=!0}else e=!1;return e},a.isQueryHasFilters=function(){var b=a.gsautocomplete.queryFilters;return!e.isEmptyObject(b)&&b.hasOwnProperty("users")?!0:!1},a.updateSearchType=function(b){var c=a.getSearchType();a.updateServiceFilters(c,b);var d="zgs20_gsServicePanelList"+c;e("#"+d).removeClass("zgs19_gsSelectedServicepanelNew zgs19_gsBGC2f").addClass("zgs19_gsUnServiceLeftPanel");var f="zgs20_gsServicePanelList"+b;e("#"+f).removeClass("zgs19_gsUnServiceLeftPanel zgs19_gsBGC2f").addClass("zgs19_gsSelectedServicepanelNew");var g=a.getTargetElem(f);g&&!a.gskeyboard.isCurElementInViewPort(g,"zgs20_gsServListHolder")&&g.scrollIntoView(!1),a.hideWelcomePage(),a.setSearchType(b),a.setSearchBoxPlaceHolder()},a.setSearchBtnAndVal=function(){e("#zgs20_gsSearchBtn").val(a.getI18NMsg("gs.search.service")),e("#zgs20_gsSearchBtn").show()},a.setSearchBoxPlaceHolder=function(){var b=a.getI18NMsg("gs.search");if(f.ALL==a.getSearchType()){b=a.getI18NMsg("gs.search_across_zoho");if(d&&!a.isZohoSearch){var c=d.platform.toUpperCase().indexOf("MAC")>=0?!0:!1;c?b+=" ( "+a.getI18NMsg("gs.search_across_zoho_cmd")+" + / )":b+=" ( "+a.getI18NMsg("gs.search_across_zoho_ctrl")+" + / )"}}e("#zgs20_gsQueryBox").attr("placeholder",b)},a.setPosForToList=function(b,c){if(c=="tolink")e("#zgs20_gsDropdownToList").css("top",59),e("#zgs20_gsDropdownToList").css("left",68);else if(c=="moreBlogCategory"){var d=a.getTargetElem("zgs20_gsConnectCallout"),f=a.findPosX(b,d)+e(b).width();f-=e("#zgs20_gsBlogCategoryList").width(),e("#zgs20_gsBlogCategoryList").css("top",58),e("#zgs20_gsBlogCategoryList").css("left",f)}},a.hideAllDropdownList=function(b){var c=e(b).attr("gs");c!=="advFilter"&&e("#zgs20_gsMenuOption").hide(),c!=="actionlist"&&a.hideCalloutActionList();var d=a.getParentNode(b,"tolink"),f=a.getParentNode(b,"toDDList");!d&&!f&&(e("#zgs20_gsDropdownToList").hide(),e("#zgs20_gsCalloutDDList1").removeClass("zgs19_gsBorderCCC")),d=a.getParentNode(b,"moreBlogCategory"),f=a.getParentNode(b,"blogCategoryList"),!d&&!f&&(e("#zgs20_gsBlogCategoryList").hide(),e("#zgs20_gsBlogCategoryMore").removeClass("zgs19_gsBorderCCC"));if(a.isDatePickerDisplay){var g=a.getParentNode(b,"gsDateRangePickerElem"),h=a.getNoteByAttr(b,"datatype","dueDateChange");!g&&!h&&a.hideDatePicker()}else if(a.isFilterListDisplay){f=a.getParentNode(b,"mFilterWidget");var i=a.getParentNode(b,"gsFilterWidgetHeader");c!=="mFilterWidgetHeader"&&!f&&!i&&a.hideFilterList()}else if(a.isMoreFilterListDisplay||a.isMoreInnerFilterListDisplay){f=a.getParentNode(b,"more_filters");var i=a.getParentNode(b,"moreFilterHolder"),j=a.getParentNode(b,"moreInnerFilterHolder");!f&&!i&&!j&&a.hideMoreFilterList(),f=a.getParentNode(b,"moreFilterList");var i=a.getParentNode(b,"moreInnerFilterHolder");(c=="moduleInnerFilterChild"||!f&&!i)&&a.hideMoreInnerFilterList()}else a.isEditFieldsDisplay&&(d=a.getParentNode(b,"CalloutEditFields"),f=a.getParentNode(b,"editFieldsList"),i=a.getParentNode(b,"editFieldsHeader"),!d&&!f&&!i&&a.hideEditFieldsList())},a.getNoteByAttr=function(b,c,d){var f=b,g=a.getTargetElem("zgs20_globalsearch");while(f&&f!==g){var h=e(f).attr(c);if(d===h)return f;var f=f.parentNode}return null},a.getParentNode=function(b,c){var d=b,f=a.getTargetElem("zgs20_globalsearch");while(d&&d!==f){var g=e(d).attr("gs");if(c===g)return d;var d=d.parentNode}return null},a.showResMoreOption=function(b){var c=a.getServiceList();e(".zgs19_gsMoreOption").hide();var d=e(b).attr("service");if(a.isArrayContain(d,c)){var f=a.resultCount[d],g=a.resultToBeShown[d];f>g&&(a.curMoreService=d,e("#zgs20_gs"+d+"More").show())}},a.hideResMoreOption=function(b,c){var d=a.getServiceList(),f=e(b).attr("service");c=c?c:f,a.isArrayContain(c,d)&&(a.curMoreService="",e("#zgs20_gs"+c+"More").hide())},a.clearSearchresults=function(){var b=a.getValue("zgs20_gsQueryBox");if(b==""&&(a.total_no_of_results>0||a.noMoreResults)){var c=a.getSearchType();a.clearOldSearchData(c),a.updateCurrentPage(c)}},a.removeQuerySugg=function(){e(".zgs19_gssuggtext").remove(),e("#zgs20_gsQuerySugg").hide().empty(),a.gsautocomplete.currselecelem="",a.gsautocomplete.showLoadingIcon=!1,a.gsautocomplete.isAutoSuggDisplay=!1},a.getCursorPos=function(){var a=e("#zgs20_gsQueryBox").get(0);return a.selectionStart},a.getCursorEndPos=function(){var a=e("#zgs20_gsQueryBox").get(0);return a.selectionEnd},a.setCursorPos=function(a){var b=e("#zgs20_gsQueryBox").get(0);b.selectionEnd=a,b.selectionStart=a},a.getQueryScrollLeft=function(c){if(a.isBrowserSupportSSE)return e(c).scrollLeft();if(c.hasOwnProperty("createTextRange")){var d=c.createTextRange(),f=b.getComputedStyle(c,undefined),g=parseFloat(f.paddingLeft),h=d.getBoundingClientRect(),i=c.getBoundingClientRect().left+c.clientLeft+g-h.left;return i}},a.updateQueryDiv=function(){var b=a.getValue("zgs20_gsQueryBox");e("#zgs20_gsQueryDiv").empty().text(b),a.removeQuerySugg(),a.gsautocomplete.updateSearchBox(b),a.gsautocomplete.parseQueryDiv(),a.gsautocomplete.updatesuggtext(),a.gsautocomplete.storeIndexOfSugg()},a.mouseEnterEvent=function(b,c){try{if(a.isGSOpened||a.isZohoSearch)switch(c){case"ServiceTemplate":a.showResMoreOption(b)}}catch(d){}},a.mouseLeaveEvent=function(b,c){try{if(a.isGSOpened||a.isZohoSearch)switch(c){case"ServiceTemplate":a.hideResMoreOption(b)}}catch(d){}},a.appendFilterIcon=function(b){var c=a.currHoverRes,d=e(c).attr("service");switch(d){case f.CRM:case f.MAILS:case f.SUPPORT:a.setGSTagElems(c);var g=e(b).attr("gsfilter")==="deptName"?e(a.currHoverRes).attr("class").indexOf("zgs19_gsSelectedElem")>-1?"zgs19_gsModuleFilterIcon3":"zgs19_gsModuleFilterIcon2":"zgs19_gsModuleFilterIcon1",h=e("<span>",{id:"zgs20_gsHoverFilter","class":"zgs19_gsResultsUniIcons "+g});e(h).insertBefore(b)}},a.removeFilterIcon=function(a){e(a).css("max-width",""),e("#zgs20_gsHoverFilter").remove()},a.setCurrentHoveredRes=function(b){a.currHoverRes=b},a.removeCurrentHoveredRes=function(){a.currHoverRes=""},a.jqueryMouseEvent=function(){e(".zgs19_gsSearchResultTable").off().on({mouseenter:function(){a.setCurrentHoveredRes(this)},mouseleave:function(){a.removeCurrentHoveredRes()}}),e(".zgs19_hvr_underline").off().on({mouseenter:function(){a.appendFilterIcon(this)},mouseleave:function(){a.removeFilterIcon(this)}}),e(".zgs19_gsServiceTemplate").off().on({mouseenter:function(){a.mouseEnterEvent(this,"ServiceTemplate")},mouseleave:function(){a.mouseLeaveEvent(this,"ServiceTemplate")}}),e("#zgs20_gsSearchResultLeft").off().on({mouseenter:function(){a.mouseEnterEvent(this,"serviceLeftPanel")},mouseleave:function(){a.mouseLeaveEvent(this,"serviceLeftPanel")}}),e(".zgs19_gsServiceMenu").off().on({mouseenter:function(){a.mouseEnterEvent(this,"serviceLeftPanelMenu")}}),e("#zgs20_gsQuerySugg").off().on({mouseleave:function(){var a=e(".zgs19_gsAutoSuggChild:first").attr("id");e("#"+a+" .zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold")}}),e(".zgs19_gsAutoSuggChild").off().on({mousemove:function(){a.handleMouseMoveEvent();if(a.gsautocomplete.currselecelem!=this){a.gsautocomplete.currselecelem=this,a.gsautocomplete.updatesuggtext(),e(".zgs19_gsAutoSuggChild").removeClass("zgs19_gsAutoSuggChildIn"),e(".zgs19_gsAutoSuggChild .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold");var b=e(this).attr("id");e(this).addClass("zgs19_gsAutoSuggChildIn"),e("#"+b+" .zgs19_gsAutoSuggChildName").addClass("zgs19_gsFtWeightBold")}},mouseleave:function(){if(!a.isMouseStopped){var b=e(this).attr("id");e(this).removeClass("zgs19_gsAutoSuggChildIn"),e("#"+b+" .zgs19_gsAutoSuggChildName").removeClass("zgs19_gsFtWeightBold"),a.gsautocomplete.currselecelem="",a.gsautocomplete.updatesuggtext()}},mousedown:function(){a.gsautocomplete.mousedown=!0,a.gsautocomplete.updateautosugges(this)}})},a.jqueryMouseEvent(),a.addEventForSearchBox=function(){e("#zgs20_gsQueryBox").off().on({focus:function(b){a.isQueryFocused=!0,a.hideAllDropdownList(""),a.gsmousewheelevent(b)},blur:function(b){a.isQueryFocused=!1,a.gsmousewheelevent(b),a.gsautocomplete.isAutoSuggDisplay&&a.removeQuerySugg(),a.gsautocomplete.mousedown&&(a.stopEvent(b),a.focus("zgs20_gsQueryBox"),a.gsautocomplete.mousedown=!1)},input:function(b){a.clearSearchresults(),a.triggerAutoSuggestCall(b)},keydown:function(b){var c=b.keyCode?b.keyCode:b.which;(c==a.specialkeys.BACKSPACE||c==a.specialkeys.DELETE||(b.ctrlKey||b.metaKey)&&c==a.specialkeys.CUT)&&a.gsautocomplete.removeFullSugg(b)},click:function(b){a.checkCurrCurPos(b)},keyup:function(b){a.checkCurrCurPos(b)}},!0)},a.addEventForSearchBox(),a.hideFilterList=function(){a.currFilterselecelem="",a.isFilterListDisplay=!1,e("#zgs20_gsModuleFilterWidgetList").remove(),e(".zgs19_gsModuleFilterNameHolderNew").removeClass("zgs19_gsboxholder"),e(".zgs19_gsModuleSortNameHolderNew").removeClass("zgs19_gsBColorEC"),a.hideFilterElemIcon(a.oldFilterElemIcon)},a.hideMoreFilterList=function(){a.curMoreFiltersList={},a.curMoreDateFiltersList={},a.isMoreFilterListDisplay=!1,e("#zgs20_gsMoreFilterWidgetList").remove(),a.hideMoreFilterElemIcon(a.oldFilterElemIcon)},a.hideMoreInnerFilterList=function(){a.isMoreInnerFilterListDisplay=!1,e("#zgs20_gsMoreFilterInnerList").remove(),e(".zgs19_gsModuleMoreFilterElemHolder").removeClass("zgs19_gsboxholder"),a.hideMoreFilterElemIcon(a.oldFilterElemIcon)},a.hideCalloutActionList=function(){a.isCalloutActionListOpened=!1,e("#zgs20_gsCalloutActionList").hide(),e(".zgs19_gsCalloutActionMenu").removeClass("zgs19_gsBorderCCC")},a.hideEditFieldsList=function(){a.currEditFieldselecelem="",a.isEditFieldsDisplay=!1,e("#zgs20_gsEditFieldsHolder").remove(),e(".zgs19_gsEditFieldsNameHolder").removeClass("zgs19_gsboxholder zgs19_gsboxholderbot")},a.hideFilterElemIcon=function(b){var c=e(b).attr("fkey"),d=e("#zgs20_gsModuleFilterWidgetList").attr("fkey");if(!a.isFilterListDisplay||a.isFilterListDisplay&&c!=d){var f=e(a.curDatePickerElem).attr("fkey");(!a.isDatePickerDisplay||a.isDatePickerDisplay&&c!=f)&&e(b).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")}else a.oldFilterElemIcon=b},a.hideMoreFilterElemIcon=function(b){var c=e(b).attr("fkey"),d=e("#zgs20_gsMoreFilterInnerList").attr("fkey");if(!a.isMoreInnerFilterListDisplay||a.isMoreInnerFilterListDisplay&&c!=d){var f=e(a.curDatePickerElem).attr("fkey");(!a.isDatePickerDisplay||a.isDatePickerDisplay&&c!=f)&&e(b).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")}else a.oldFilterElemIcon=b},a.handleMouseMoveEvent=function(){a.isMouseStopped=!1,clearTimeout(a.setMouseTimer),a.setMouseTimer=setTimeout(function(){a.isMouseStopped=!0,clearTimeout(a.setMouseTimer)},100)},a.addEventForFilterElem=function(){e("#zgs20_gsModuleFilterDataHolder .zgs19_gsModuleFilterElemHolder").off().on({mousemove:function(){var a=e(this).attr("soid");a&&e(this).find(".zgs19_gsModuleFilterElemIcon").removeClass("zgs19_gsVisibleHidden")},mouseleave:function(){var b=e(this).attr("soid");b&&a.hideFilterElemIcon(this)}})},a.addMoreEventForFilterElem=function(){e("#zgs20_gsMoreFilterWidgetList .zgs19_gsModuleMoreFilterElemHolder").off().on({mousemove:function(){var a=e(this).attr("soid");a&&e(this).find(".zgs19_gsModuleFilterElemIcon").removeClass("zgs19_gsVisibleHidden")},mouseleave:function(){var b=e(this).attr("soid");b&&a.hideMoreFilterElemIcon(this)}})},a.addEventForEditFieldsQueryBox=function(){e("#zgs20_gsEditFieldsFooter .zgs19_gsEditFieldsChild").off().on({mousemove:function(){a.handleMouseMoveEvent(),e(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn"),e(this).addClass("zgs19_gsAutoSuggChildIn")},mouseleave:function(){a.isMouseStopped||e(this).removeClass("zgs19_gsAutoSuggChildIn")},click:function(){a.currEditFieldselecelem=this,e(".zgs19_gsEditFieldsRadio").prop("checked",!1),e(this).find(".zgs19_gsEditFieldsRadio").prop("checked",!0)}}),e("#zgs20_gsEditFieldsQrybox").off().on({focus:function(){e("#zgs20_gsEditFieldsQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocusOut").addClass("zgs19_gsModuleFilterWidgetFocus")},blur:function(){e("#zgs20_gsEditFieldsQryHolder").removeClass("zgs19_gsModuleFilterWidgetFocus").addClass("zgs19_gsModuleFilterWidgetFocusOut")},input:function(){a.searchForEditFields()}}),e("#zgs20_gsEditFieldsQrybox").focus()},a.addEventForMoreFilterQueryBox=function(b){e("#"+b+" .zgs19_gsFilterQuerySelection").off().on({mousemove:function(){a.handleMouseMoveEvent(),a.currFilterselecelem!=this&&(a.currFilterselecelem=this,e(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),e(this).addClass("zgs19_gsAutoSuggChildIn"))},mouseleave:function(){a.isMouseStopped||(e(this).removeClass("zgs19_gsAutoSuggChildIn"),a.currFilterselecelem="")},mousedown:function(){a.currMoreFilterClickelem=this,a.isCurrMoreFilterClickelem=!0}}),a.filterSearchQueryAction()},a.moreFilterCheckBoxAction=function(b,c){var d=e(c).attr("fkey"),f=e(c).find("input").prop("checked");f=b&&b.tagName=="INPUT"?f:!f,e(c).find("input").prop("checked",f),a.curMoreFiltersList[d]=f},a.addEventForFilterQueryBox=function(b){e("#"+b+" .zgs19_gsFilterQuerySelection").off().on({mousemove:function(){a.handleMouseMoveEvent(),a.currFilterselecelem!=this&&(a.currFilterselecelem=this,e(".zgs19_gsFilterQuerySelection").removeClass("zgs19_gsAutoSuggChildIn"),e(this).addClass("zgs19_gsAutoSuggChildIn"))},mouseleave:function(){a.isMouseStopped||(e(this).removeClass("zgs19_gsAutoSuggChildIn"),a.currFilterselecelem="")},mousedown:function(){a.currFilterClickelem=this,a.isCurrFilterClickelem=!0}}),a.filterSearchQueryAction()},a.checkCurrCurPos=function(b){var c=a.currcurpos,d=a.getCursorPos(),e=a.getCursorEndPos();d==e?d!=c&&a.triggerAutoSuggestCall(b):a.removeQuerySugg()},a.triggerAutoSuggestCall=function(b){a.currcurpos=a.getCursorPos(),a.hasOwnProperty("gsautocomplete")&&(a.updateQueryDiv(),a.gsmousewheelevent(b)),a.hasOwnProperty("gsusercontacts")&&a.gsusercontacts.checkOrgThresholdLimit()},a.globalClickEventForOverlay=function(b){a.isZohoSearch||(a.toggleGlobalsearch(),a.hasOwnProperty("handleOverlayAction")&&a.handleOverlayAction(b))},b.removeEventListener("resize",a.gsresizepage,!1),a.gsresizepage=function(b){a.hideDatePicker();if(a.isZohoSearch){a.hidetooltip();var c;c||(c=setTimeout(function(){c=null,a.setGSElemSize(),a.setAllServiceEleSize(),a.setServicesFilterWidth()},70))}},b.addEventListener("resize",a.gsresizepage,!1),b.removeEventListener(a.mousewheelevt,a.gsmousewheelevent,!0),a.gsmousewheelevent=function(b){if(a.isGSOpened||a.isZohoSearch){a.hidetooltip();var c=e(b.target).attr("gs");switch(c){case"gsQueryBox":setTimeout(function(){var c=a.getQueryScrollLeft(b.target);e("#zgs20_gsQueryDiv").css("left",-Math.abs(c))},10)}}},b.addEventListener(a.mousewheelevt,a.gsmousewheelevent,!0),b.removeEventListener("message",a.receiveMessage,!0),a.receiveMessage=function(b){var c=b.origin||b.originalEvent.origin;if(c===f.GS_MAIL_URL){var d=b.data;d&&d.hasOwnProperty("close")&&d.close==1&&(e("#zgs20_gsMailActionHolder").empty().hide(),e("#zgs20_gsMailCallout").show(),a.focus("zgs20_gsQueryBox"))}},b.addEventListener("message",a.receiveMessage,!0),b.removeEventListener("click",a.globalClickEvent,!0),a.globalClickEvent=function(b){try{var c=b.which||"";if((a.isGSOpened||a.isZohoSearch)&&c==1){var d=b.target;a.hideAllDropdownList(d);var f=e(d).attr("gs");switch(f){case"feedback":a.gszohosearch.toggleFeedback();break;default:var g=a.getParentNode(d,"feedbackData");if(!g&&a.gszohosearch.isFeedbackOpened){a.gszohosearch.toggleFeedback();return}}}}catch(h){}},b.addEventListener("click",a.globalClickEvent,!0),a.gsKeydown=function(b){var c=b.keyCode?b.keyCode:b.which;a.isZohoSearch&&c===a.specialkeys.ESC&&typeof a.gszohosearch!="undefined"&&a.gszohosearch.isFeedbackOpened&&a.gszohosearch.toggleFeedback()},a.searchViewport.addEventListener("keydown",a.gsKeydown),a.searchViewport.removeEventListener("scroll",a.scrollEvent,!0),a.scrollEvent=function(b){try{if(a.isGSOpened||a.isZohoSearch){a.hidetooltip();var c=e(b.target).attr("gs");switch(c){case"serviceSpecificPage":var d=e(b.target).attr("service");a.toggleBacktoTop("zgs20_gs"+d+"Template"),a.modulePageScrollEvent("zgs20_gs"+d+"Template",b);break;case"calloutFooter":var f=a.getTargetElem("zgs20_gsMailCallout");f&&(a.setGSTagElems(f),a.setPosForToList(f.tolink,"tolink"));break;default:var g=a.getParentNode(b.target,"servListHolder");if(g){var h=a.getTargetElem("zgs20_gsServListHolder"),i=h.scrollHeight,j=e(g).scrollTop()+e(g).height(),k=j>=i?"none":"block";e("#zgs20_gsSerPanelShadow").css("display",k)}}a.stopEvent(b)}}catch(l){}},a.searchViewport.addEventListener("scroll",a.scrollEvent,!0),a.searchViewport.removeEventListener("click",a.clickEvent,!0),a.clickEvent=function(c){try{var d="",g=c.which||"";if((a.isGSOpened||a.isZohoSearch)&&g==1){var h=c.target;a.hideAllDropdownList(h);var i=a.getCurrentResObj(),j=e(h).attr("gs");switch(j){case"sendFeedback":a.gszohosearch.sendFeedbackValidation();break;case"myaccounts":a.gstopband.openAccount();break;case"userDetails":a.gstopband.toggleUserDetails();break;case"hamburger":a.gstopband.toggleHamburger();break;case"gsoverlay":a.globalClickEventForOverlay(c);break;case"moveToAttachArea":var k=e(h).attr("service"),l=a.mappedServiceList[k].callout;a[l].moveToViewPort();break;case"ctitle":a.clickActionForCalloutTitle(h);break;case"actionlist":a.toggleCalloutActionList(h);break;case"mailsAcionList":a.mailActionListOptions(h,i);break;case"docsAcionList":a.docsActionListOptions(h,i);break;case"crmActionList":case"crmEditaction":a.crmActionListOptions(h,i);break;case"reportsAcionList":a.reportsActionListOptions(h,i);break;case"contactsAcionList":case"chatAcionList":case"supportAcionList":case"connectAcionList":case"discAcionList":case"wikiAcionList":a.actionListOptions(h,i);break;case"attachtitle":var k=e(h).attr("service"),l=a.mappedServiceList[k].callout;a[l].downloadAttachment(h);break;case"maxpreview":var k=e(h).attr("service");a.maxCalloutPreview(k,i);break;case"minpreview":var k=e(h).attr("service");a.minCalloutPreview(k,i);break;case"docsdownload":a.gsdocs.downloadDocument(i);break;case"wikidownload":a.gswiki.openWikiResult(i,!0);break;case"backToTop":var m=a.getSearchType();e("#zgs20_gs"+m+"Template").stop(!0).animate({scrollTop:0},250);break;case"serviceBand":var k=e(h).attr("service");a.isArrayContain(k,a.serviceList)&&a.moreSearchResultPage(k);break;case"moreBand":var k=e(h).attr("service");if(a.isArrayContain(k,a.serviceList)){var n=a.resultCount[k],o=a.resultToBeShown[k];n>o&&a.moreSearchResultPage(k)}break;case"contactsMore":var k=e(h).attr("service"),l=a.mappedServiceList[k].callout;f.PEOPLE==k?a[l].getPeopleMoreInfo(i):a[l].getContactsMoreInfo(i);break;case"contactsurl":d=e(h).attr("url"),b.open(d),a.stopEvent(c);break;case"continuechat":case"connectcontinuechat":a.chatAction(h,"continue");break;case"sendMail":var p=e(h).attr("email");b.open("mailto:"+p),a.stopEvent(c);break;case"peopleprofile":d=f.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(i.pkid||""),b.open(d);break;case"peopledept":d=f.GS_PEOPLE_URL+"/hr#organization/department/searchdepts-deptId:"+(i.deptid||""),b.open(d);break;case"advFilter":a.displayMenuOption();break;case"menuoption":a.clickActionForMenuOption(h);break;case"refreshPage":a.renderServiceList(),e("#zgs20_gsSearchResultLeft").attr("rkey","refresh"),a.gsversion.checkRefreshOption();break;case"ext_img_text":a.gsmails.loadExtImg();break;case"gswmschat":a.chatAction(h,"chat");break;case"gswmsinvite":case"gswmsinvitezoho":a.chatAction(h,j);break;case"backToHome":a.showWelcomePage(),a.displayDefaultPage();break;case"crmmod":var q=e(h).attr("mod");a.filterThroughOptions(a.GSConstant.CRM,q,"modules","1",h);break;case"mailfolder":var r=e(h).attr("fId");a.filterThroughOptions(a.GSConstant.MAILS,r,"folders","4",h);break;case"deskModules":var s=e(h).attr("fId");a.filterThroughOptions(a.GSConstant.SUPPORT,s,"modules","3",h);break;case"deskDept":var s=e(h).attr("fId");a.filterThroughOptions(a.GSConstant.SUPPORT,s,"departments","3",h);break;default:var t=a.getParentNode(h,"searchResultTable");if(t&&t!==a.curSelectedEle){a.highlightRes(t.id);return}t=a.getParentNode(h,"serviceLeftPanelMenu");if(t){var k=e(t).attr("service");a.clickActionForServiceList(k),a.focus("zgs20_gsQueryBox");return}t=a.getParentNode(h,"defsearchicon");if(t){a.handleDefaultSearch();return}t=a.getParentNode(h,"tolink");if(t){var u=e("#zgs20_gsDropdownToList").css("display");u==="none"?(a.setPosForToList(h,"tolink"),e("#zgs20_gsDropdownToList").show(),e(t).addClass("zgs19_gsBorderCCC"),e("#zgs20_gsDropdownToList").scrollTop(0),e("#zgs20_gsDropdownToList").scrollLeft(0)):(e("#zgs20_gsDropdownToList").hide(),e(t).removeClass("zgs19_gsBorderCCC"))}t=a.getParentNode(h,"moreBlogCategory");if(t){var u=e("#zgs20_gsBlogCategoryList").css("display");u==="none"?(a.setPosForToList(h,"moreBlogCategory"),e("#zgs20_gsBlogCategoryList").show(),e(t).addClass("zgs19_gsBorderCCC"),e("#zgs20_gsBlogCategoryList").scrollTop(0),e("#zgs20_gsBlogCategoryList").scrollLeft(0)):(e("#zgs20_gsBlogCategoryList").hide(),e(t).removeClass("zgs19_gsBorderCCC"))}t=a.getParentNode(h,"mFilterWidget");if(t){a.renderModuleFilterWidgetList(t);return}t=a.getParentNode(h,"more_filters"),t&&a.renderMoreFilterWidgetList(t),t=a.getParentNode(h,"moreFilterList"),t&&a.renderMoreFilterInnerList(t),t=a.getParentNode(h,"moreFilterEditFields");if(t){a.filterEditFieldsAction(t);return}t=a.getParentNode(h,"moreFiltercheckbox");if(t){a.moreFilterCheckBoxAction(h,t);return}t=a.getParentNode(h,"CalloutEditFields"),t=t?t:a.getParentNode(h,"ticketAction");if(t){a.calloutEditFieldsAction(t);return}t=h.nodeName;if(t=="A"){var v=e(h).attr("href");if(v.indexOf("mailto:")==0||v.indexOf("http")==0){var w=b.open();w.opener=null,w.location=v,a.stopEvent(c);return}}if(a.isCurrFilterClickelem){a.isCurrFilterClickelem=!1,a.clickActionForWidgetList(a.currFilterClickelem);return}if(a.isCurrMoreFilterClickelem){a.isCurrMoreFilterClickelem=!1,a.clickActionForMoreInnerList(a.currMoreFilterClickelem);return}t=a.getParentNode(h,"hamburger");var x=a.getParentNode(h,"hamburgerData");(t||!x&&a.gstopband.isAllappsOpened)&&a.gstopband.toggleHamburger(),t=a.getParentNode(h,"userDetails"),x=a.getParentNode(h,"userData"),(t||!x&&a.gstopband.isUserDetailsOpened)&&a.gstopband.toggleUserDetails()}}}catch(y){}},a.searchViewport.addEventListener("click",a.clickEvent,!0),a.handleDefaultSearch=function(){a.focus("zgs20_gsQueryBox");var b=a.getSearchType(),c=a.getValue("zgs20_gsQueryBox"),d=a.gsautocomplete.getautosearchQuery(c);if(a.isQueryValid(d)||a.isQueryHasFilters()){var e=a.addserviceFilters(b);a.handleUserSearchQuery(d,e)}else a.renderServiceFilterList(b),a.enableSortFilter()},a.filterThroughOptions=function(b,c,d,f,g){e(g).attr("key",c),e(g).attr("fkey",d),e(g).attr("ftype",f);var h=a.getSearchType(),i="zgs20_gsServicePanelList"+h;e("#"+i).removeClass("zgs19_gsSelectedServicepanelNew zgs19_gsBGC2f").addClass("zgs19_gsUnServiceLeftPanel"),a.setSearchType(b),a.clickActionForWidgetList(g)},a.getServiceName=function(a){var b="";return"writer"===a?b=f.GS_WRITER_URL:"sheet"===a?b=f.GS_SHEET_URL:"show"===a?b=f.GS_SHOW_URL:"explorer"===a&&(b=f.GS_EXPLORER_URL),b},a.isSupportedOpenFormat=function(a){return"image"===a||"docs"===a||"spreadsheet"===a||"presentation"===a?!0:!1},a.clickActionForCalloutTitle=function(c){var d="",g=a.getCurrentResObj(),h=e(c).attr("service");switch(h){case f.MAILS:var i=g.account_id,j=g.message_id;if(typeof zmList=="object"&&zmList.hasOwnProperty("getMailData"))try{zmList.getMailData({msgId:j,opentype:2,type:"lt",src:"external"}),a.toggleGlobalsearch();return}catch(k){}d=f.GS_MAIL_URL+"/mail/popMail.do?fos=yes&zm1="+i+"&zm2="+j;break;case f.DOCUMENTS:var l=g.docid,m=g.shared,n=g.doc_type,o=g.service,p=""+g.is_resource_id,q=a.getServiceName(o);if(p==="true")o==="show"||o==="writer"?d="/"+o+"/open/"+l:o==="explorer"?n==="folder"?d="/"+n+"/"+l:d="/file/"+l:o==="sheet"&&(d="/"+o+"/ropen.do?rid="+l),q=a.getServiceName("explorer");else if(o==="writer")d="/index.do?docId="+l;else if(o==="show")d="/Edit.do?P_ID="+l;else if(o==="sheet")d="/open.do?docid="+l;else if(o==="explorer"){var r=g.doc_name,s=g.zuid;a.isSupportedOpenFormat(n)?m=="false"?d="/viewuploadeddoc.do?docId="+l+"&ftype="+n+"&filename="+r+"&view=view":d="/viewshareduploadeddoc.do?docId="+l+"&ftype="+n+"&filename="+r+"&authorId="+s:n==="folder"?d="/"+n+"/"+l:d="/file/"+l}d=q+d;break;case f.PEOPLE:d=f.GS_PEOPLE_URL+"/hr#home/dashboard/profile-userId:"+(g.pkid||"");break;case f.CHAT:a.chatAction(c,"continue");break;case f.SUPPORT:var t=g.module_id,u=a.gssupport.getUrlModuleName(t),v=t=="2"?g.doc_id:g.encryptedId,w=a.getFilterInfo(f.SUPPORT,"portals","dispname");d=f.GS_SUPPORT_URL+"/support/"+encodeURIComponent(w)+"/ShowHomePage.do#"+u+"/dv/"+v;break;case f.CONNECT:d=g.url;break;case f.DISCUSSIONS:var x=a.discussionsURL,y=g.fTId;d=x+"?ftid="+y;break;case f.WIKI:a.gswiki.openWikiResult(g,!1);break;case f.CRM:d=a.crmRecordOpen(g);break;case f.REPORTS:d=a.gsreports.openReportsResult(g)}d?b.open(d):""},a.crmRecordOpen=function(b){var c=b.mod,d=b.id,e=a.getFilterInfo(f.CRM,"modules","crm_modules");if(c==="Notes"){var g=a.gscrm.crmImpFieldsData.related_record;for(var h in g)d=g[h],c=h}var i=e[c+"_url"];return f.GS_CRM_URL+"/crm/EntityInfo.do?module="+i+"&id="+d},a.mailActionListOptions=function(b,c){var d=c.account_id,f=c.message_id,g=a.curSelectedEle;a.setGSTagElems(g);var h=e(b).attr("value");switch(h){case"open":a.clickActionForCalloutTitle(b);break;case"reply":case"replyall":case"fwdi":a.gsmails.mailReplyActionHandler(d,f,h);break;case"read":a.gsmails.toggleMailStatus(g,c,"markAsRead",b);break;case"unread":a.gsmails.toggleMailStatus(g,c,"markAsUnread",b)}},a.docsActionListOptions=function(b,c){var d=a.curSelectedEle;a.setGSTagElems(d);var f=e(b).attr("value");switch(f){case"open":a.clickActionForCalloutTitle(b);break;case"download":a.gsdocs.downloadDocument(c)}},a.crmActionListOptions=function(b,c){var d=a.curSelectedEle;a.setGSTagElems(d);var f=e(b).attr("value");switch(f){case"open":a.clickActionForCalloutTitle(b);break;case"edit":a.gscrm.EditCRMRecord(c)}},a.reportsActionListOptions=function(b,c){var d=a.curSelectedEle;a.setGSTagElems(d);var f=e(b).attr("value");switch(f){case"open":a.clickActionForCalloutTitle(b)}},a.actionListOptions=function(c,d){var f=e(c).attr("value");switch(f){case"open":a.clickActionForCalloutTitle(c);break;case"continue":a.chatAction(c,"continue");break;case"pcontinue":a.chatAction(c,"chat");break;case"download":a.gswiki.openWikiResult(d,!0);break;case"sendMail":var g=e(c).attr("email");b.open("mailto:"+g);break;case"audio":case"video":var h=a.isWMSChatPaused();if(!h){if(typeof WebMessanger!="undefined"){var i=d.zuid;i&&i!="-1"&&(a.toggleGlobalsearch(),f=="audio"?WebMessanger.startAudioCall(i):WebMessanger.startVideoCall(i))}}else a.showbannertip({ty:0,msg:a.getI18NMsg("gs.search.callout.chat.pause")})}},a.chatAction=function(b,c){var d=a.isWMSChatPaused(),g=e(b).attr("chatid");if(c=="continue")if(!d){var h=a.getCurrentResObj(),i=h.chat_id;a.toggleGlobalsearch(),Chat.isExists(i)?WMSUI.handleChatExist(i):WebMessanger.continueChat(i)}else a.showbannertip({ty:0,msg:a.getI18NMsg("gs.search.callout.chat.pause")});else if(c=="chat")d?a.showbannertip({ty:0,msg:a.getI18NMsg("gs.search.callout.chat.pause")}):(a.toggleGlobalsearch(),WebMessanger.chat(g));else if(c=="gswmsinvite"||c=="gswmsinvitezoho"){var j=f.cuz,k=a.getCurrentResObj();if(k.hasOwnProperty("contact_id")){var l="/zgssearch/api/v1/accounts/"+j+"/contacts/"+k.contact_id+"/invite";a.uri(a.POST,l,"","",function(b){var d=a.jsonParse(b);if(d.status_code==200){var f=a.getTargetElem("zgs20_gsContactsCallout");a.setGSTagElems(f),e(".zgs19_gswmschat").hide(),c=="gswmsinvitezoho"?(k.status="-11",e(f.gswmspendzoho).show()):(k.status="-1",e(f.gswmspend).show())}})}else if(!d){var j=f.cuz;WmsContacts.add("zoho",g,j);var m=a.getTargetElem("zgs20_gsContactsCallout");a.setGSTagElems(m),e(".zgs19_gswmschat").hide(),e(m.gswmspend).show()}}},a.setSearchBoxPlaceHolder(),a.setSearchBtnAndVal()}(zgssearch,window),function(a,b){var c=b.document,d=b._jQueryGS,e=a.getGSConstantObj()||{};a.gsautocomplete=function(b){return b=a.gsautocomplete||{},b.modifiers=b.modifiers||{},b.queryFilters=b.queryFilters||{},b.queryFiltersMap=b.queryFiltersMap||{},b.queryFiltersIndex=b.queryFiltersIndex||{},b.lastSavedIndex=b.lastSavedIndex||-1,b.userphotoindex=b.userphotoindex||-1,b.querymodifiers=["services","users"],b.modifiers.services={symbol:"#",msg:"gs.search.sugg.service"},b.modifiers.users={symbol:"@",msg:"gs.search.sugg.user"},b.encode_suggestion={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},b.decode_suggestion={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&#39;":"'"},b.encode_sugg_regex=/[<>&"']/g,b.decode_sugg_regex=/&lt;|&gt;|&amp;|&quot;|&#39;/g,b.regex_replacer=/[!@#$%^&*()+=\-[\]\\';,./{}|":<>?~_]/gi,b.add=function(a,c){b[a]=c},b.get=function(a){return b[a]||[]},b.setQryFilters=function(a,c){b.queryFilters[a]=c},b.setQryFiltersMap=function(a,c){b.queryFiltersMap[a]=c},b.initServiceList=function(){if(a.hasOwnProperty("getServiceList")){var c={},d=a.getServiceList()||[],f=a.getMappedServiceList()||{},g=a.getOrderedServiceList()||{};for(var h=0;h<g.length;h++){var i=g[h];a.isArrayContain(i,d)&&f.hasOwnProperty(i)&&(c[i]=f[i].displayName)}b.add("services",c);if(e.cun||e.cue){var j={};j[e.cuz]={USERID:e.cuz,DNAME:e.cun||"",EMAILID:e.cue||"",UC:0},b.add("users",j)}}},b.findMatchedData=function(a,c){return a=="users"?b.contactssearch(a,c):b.defaultsearch(a,c)},b.defaultsearch=function(a,c){var d={},e=b.get(a);if(c==b.modifiers.services.symbol)return b.defaultservicelist(e);var f=c.substr(1,c.length),g=f.replace(b.regex_replacer,"\\$&"),h=new RegExp("(^"+g+"|\\s"+g+")","i");for(var i in e){var j=e[i],k=j,l=k.search(h);l>-1&&(d[i]=l)}return b.getSortedMatches(d)},b.contactssearch=function(c,e){var f=10,g=b.get(c),h=e.substr(1,e.length),i=a.gsusercontacts.getUserContacts(),j=d.extend({},i,g),k=b.usersearch(h,j,{},f),l=k.length;if(l<10){var m=f-l,n=a.gsusercontacts.getOrgContactsList(),o=b.usersearch(h,n,j,m);k=[].concat(k,o)}var p=k.length;return p=p>f?f:p,k=k.slice(0,p),k.length>0&&k.length<10&&h.length>2&&a.gsusercontacts.fetchFromServer(h),k},b.usersearch=function(c,e,f,g){var h=[],i=[];if(!d.isEmptyObject(e)){var j=b.getSortedByUsgaeCount(e);for(var k=0;k<j.length;k++){var l=j[k][0];if(!isNaN(l)&&!f.hasOwnProperty(l)){var m=e[l];if(m.DNAME&&m.EMAILID){var n=a.replaceHTMLEntity(m.DNAME),o=a.replaceHTMLEntity(m.EMAILID),p=c.replace(b.regex_replacer,"\\$&"),q=new RegExp("(^"+p+"|\\s"+p+")","i"),r=n.search(q);if(r>-1)h.push([l,r]);else{var s=new RegExp(p,"i");r=o.search(s),r>-1&&i.push([l,r])}if(h.length==g)break}}}}return[].concat(h,i)},b.getSortedMatches=function(a){var b=[];if(!d.isEmptyObject(a)){for(var c in a)b.push([c,a[c]]);b.sort(function(a,b){return a[1]>b[1]?1:a[1]<b[1]?-1:0})}return b},b.getSortedByUsgaeCount=function(a){var b=[];if(!d.isEmptyObject(a)){for(var c in a){var e=a[c].UC||"0";b.push([c,parseInt(e)])}b.sort(function(a,b){return b[1]>a[1]?1:b[1]<a[1]?-1:0})}return b},b.defaultservicelist=function(a){var b=[];for(var c in a)b.push([c,0]);return b},b.gethighlighttext=function(a,c,d){var e={prefix:a,isMatched:!1},f=c.length,g=c.substr(1,f);if(f>0){var h=g.replace(b.regex_replacer,"\\$&"),i=d?new RegExp(h,"i"):new RegExp("(^"+h+"|\\s"+h+")","i"),j=a.search(i);j>-1&&a.replace(i,function(b){e.isMatched=!0,e.prefix=a.substr(0,j),e.match=a.substr(j,b.length),e.suffix=a.substr(j+b.length,a.length)})}return e},b.renderDefaultHeader=function(){var b=a.getValue("zgs20_gsQueryBox"),c=a.getI18NMsg("gs.search.service_search_for"),e=a.getI18NMsg("gs.search.service_search_enter");d("#zgs20_gsQuerySugg").append(d("<div>",{"class":"zgs19_gsDefaultHeader zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsDefaultLabel zgs19_gsfl zgs19_gsOverflow",title:c}).text(c)).append(d("<span>",{"class":"zgs19_gsfl",style:"font-weight:bold"}).text('"')).append(d("<span>",{"class":"zgs19_gsDefaultQuery zgs19_gsfl zgs19_gsOverflow",title:b}).text(b)).append(d("<span>",{"class":"zgs19_gsfl",style:"font-weight:bold"}).text('"')).append(d("<span>",{"class":"zgs19_gsDefaultEnter zgs19_gsfr zgs19_gsOverflow",title:e}).text(e)))},b.renderSectionHeader=function(c){var e=b.modifiers[c].symbol,f=b.modifiers[c].msg,g=a.getI18NMsg(f);d("#zgs20_gsQuerySugg").append(d("<div>",{"class":"zgs19_gsSectionHeader"}).append(d("<span>",{title:g}).text(g)))},b.renderAutoSuggList=function(a,c,d,e,f,g){a=="services"?b.rendersuggestList(a,c,d,e,f,g):a=="users"&&b.renderUsersuggestList(a,c,d,e,f,g)},b.rendersuggestList=function(c,e,f,g,h,i){var j=b.get(c);for(var k=0;k<i;k++){var l=f[k],m=l[0];if(j.hasOwnProperty(m)){var n=j[m],o=b.getUserPhotoIndex(),p=b.gethighlighttext(n,g,!1),q=p.suffix?p.suffix:"",r=k==0?"zgs19_gsFtWeightBold":"";d("#zgs20_gsQuerySugg").append(d("<div>",{id:"zgs20_gsAutoSuggCHild"+o,"class":"zgs19_gsAutoSuggChild zgs19_gsQuerySuggch zgs19_gsBorderBox zgs19_gsCurPointer",index:o,key:c,hold:e,unhigh:q,value:m}).append(d("<span>",{id:"zgs20_gsAutoSuggChildName"+o,"class":"zgs19_gsAutoSuggChildName "+r,title:n})));var s={"class":"zgs19_gshighlight"},t=a.gssecurity.getHighlightTextNode(p.prefix,p.match,p.suffix,s),u=a.getTargetElem("zgs20_gsAutoSuggChildName"+o);u.appendChild(t)}}b.locateAutoSuggList(h)},b.renderLoadingIcon=function(c){b.showLoadingIcon=!0;var e=a.getFourDotLoader("zgs20_gsAutoSuggestLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader");d("#zgs20_gsQuerySugg").empty().append(e),b.locateAutoSuggList(c)},b.renderUsersuggestList=function(c,f,g,h,i,j){var k=b.get("users"),l=a.gsusercontacts.getUserContacts(),m=a.gsusercontacts.getOrgContactsList(),n=d.extend({},m,l,k);for(var o=0;o<j;o++){var p=g[o],q=p[0],r=b.getUserPhotoIndex();if(n.hasOwnProperty(q)){var s=a.replaceHTMLEntity(n[q].DNAME),t=a.replaceHTMLEntity(n[q].EMAILID),u=b.gethighlighttext(s,h,!1),v=u.suffix?u.suffix:"",w=d(".zgs19_gsAutoSuggChild").length,x=o==0&&w<=0?"zgs19_gsFtWeightBold":"",y=d("<div>",{id:"zgs20_gsAutoSuggCHild"+r,"class":"zgs19_gsAutoSuggChild zgs19_gsQuerySugguser zgs19_gsCurPointer",index:r,key:c,hold:f,unhigh:v,value:q}).append(d("<div>",{"class":"zgs19_gsSearchResultRow"}).append(d("<div>",{"class":"zgs19_gsSuggUserCell1"}).append(d("<div>",{"class":"zgs19_gsUniIconHolder"}).append(d("<img>",{"class":"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:a.gsspacer})))).append(d("<div>",{"class":"zgs19_gsSuggUserCell2"}).append(d("<div>",{"class":"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(d("<span>",{id:"zgs20_gsAutoSuggChildName"+r,"class":"zgs19_gsAutoSuggChildName "+x,title:s}))).append(d("<div>",{"class":"zgs19_gsSuggUserAuthor zgs19_gsOverflow"}).append(d("<span>",{id:"zgs20_gsAutoSuggChildEmail"+r,title:t})))));d("#zgs20_gsQuerySugg").append(y);var z={"class":"zgs19_gshighlight"},A=a.gssecurity.getHighlightTextNode(u.prefix,u.match,u.suffix,z),B=a.getTargetElem("zgs20_gsAutoSuggChildName"+r);B.appendChild(A);var C=u.isMatched==0?b.gethighlighttext(t,h,!0):{prefix:t},D=a.gssecurity.getHighlightTextNode(C.prefix,C.match,C.suffix,z),E=a.getTargetElem("zgs20_gsAutoSuggChildEmail"+r);E.appendChild(D);var F="";q&&q!=="-1"?(F=e.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+q+"&API=true",a.updateUserPhoto("zgs20_gsAutoSuggCHild"+r,F)):a.loadResNoPhotoImg("zgs20_gsAutoSuggCHild"+r)}}b.locateAutoSuggList(i)},b.getUserPhotoIndex=function(){return b.userphotoindex++,b.userphotoindex>500&&(b.userphotoindex=0),b.userphotoindex},b.locateAutoSuggList=function(c){b.isAutoSuggDisplay=!0,d("#zgs20_gsQuerySugg").show(),d("#zgs20_gsQuerySugg").scrollTop(0),d("#zgs20_gsQuerySugg").scrollLeft(0),d("#zgs20_gsQuerySugg").css("overflow-y","auto"),d("#zgs20_gsQuerySugg").css("overflow-x","hidden"),a.jqueryMouseEvent(),d("#zgs20_gsResultsHolder").append(d("<span>",{id:"zgs20_gsDummyQueryDiv","class":"zgs19_gsDummyDiv zgs19_gsDisplayNone"}).text(c));var e=d("#zgs20_gsQuerySugg").width(),f=d("#zgs20_gsQueryBox").outerWidth(),g=d("#zgs20_gsDummyQueryDiv").width(),h=a.getTargetElem("zgs20_gsQueryBox"),i=a.getQueryScrollLeft(h),j=g-i;j=f<j+e?f-e:j,d("#zgs20_gsQuerySugg").css("left",j),d("#zgs20_gsDummyQueryDiv").remove()},b.updatesuggtext=function(){var c=a.getCursorPos();d(".zgs19_gssuggtext").remove();var e=d(".zgs19_gsAutoSuggChild").length,f=a.getValue("zgs20_gsQueryBox"),g=f.length;if(c==g&&e>0&&b.isAutoSuggDisplay){var h=b.currselecelem;if(!h){var i=d(".zgs19_gsAutoSuggChild:first").attr("id");h=a.getTargetElem(i)}var j=d(h).attr("unhigh"),k=a.getI18NMsg("gs.search.sugg.tab"),l="  ("+a.getI18NMsg("gs.search.sugg.press")+" ",m=" "+a.getI18NMsg("gs.search.sugg.toselect")+")",n=d("<span>",{"class":"zgs19_gssuggtext zgs19_gsBorderBox",style:"font-size: 14px;"}).append(d("<span>").text(l)).append(d("<span>",{"class":"zgs19_gssuggtab"}).text(k)).append(d("<span>").text(m));d("#zgs20_gsQueryDiv").append(d("<span>",{"class":"zgs19_gssuggtext zgs19_gsBorderBox"}).text(j)).append(n)}},b.updateautosugges=function(c){var e=d(c).attr("key"),f=d(c).attr("hold"),g=d(c).attr("value"),h=a.getValue("zgs20_gsQueryBox"),i=b.get(e),j=b.modifiers[e].symbol;if(e=="users"){var k=a.gsusercontacts.getUserContacts(),l=a.gsusercontacts.getOrgContactsList();i=d.extend({},l,k,i)}if(i.hasOwnProperty(g)){var m=a.getCursorPos(),n=h.substr(0,m),o=b.getLastSavedIndex(n,f),p=e=="users"?a.replaceHTMLEntity(i[g].DNAME):i[g],q=j+p;o>=0&&(h[o]==" "&&o<m&&(o+=1),q=h[o]!=" "?" "+q:q,o!=0&&(q=h[o-1]!=" "?" "+q:q),q=h[m]!=" "?q+" ":q,q=h[m+1]!=" "?q+" ":q);var r=o>-1?o+q.length:q.length;h=h.substr(0,o)+q+h.substr(m,h.length),d("#zgs20_gsQueryBox").val(h),d("#zgs20_gsQueryDiv").text(h),b.setQryFilters(e,g),b.setQryFiltersMap(e,p),b.parseQueryDiv(),a.setCursorPos(r),a.removeQuerySugg()}},b.getautosearchQuery=function(a){var c=b.queryFilters,d=b.queryFiltersMap;for(var e in c){var f=b.modifiers[e].symbol;if(d.hasOwnProperty(e)){var g=d[e],h=f+g,i=h.replace(b.regex_replacer,"\\$&"),j=new RegExp("(^"+i+"\\s|\\s"+i+"\\s|\\s"+i+"$|^"+i+"$)");a=a.replace(j," ")}}return a},b.checkQueryFilterExists=function(c,e){var f=a.getCursorEndPos(),g=b.queryFilters,h=b.queryFiltersMap,i=b.modifiers[c].symbol,j=a.getValue("zgs20_gsQueryBox");if(g.hasOwnProperty(c)&&h.hasOwnProperty(c)){var k=h[c],l=i+k,m=l.replace(b.regex_replacer,"\\$&"),n=new RegExp("(^"+m+"\\s|\\s"+m+"\\s|\\s"+m+"$|^"+m+"$)","i");if(j.search(n)>-1){if(e){var o=b.get(c);if(o.hasOwnProperty(e)){var p=o[e];j=j.replace(n,function(a){return b.setQryFilters(c,e),b.setQryFiltersMap(c,p),a.replace(new RegExp(m,"i"),"#"+p)})}}}else delete g[c],delete h[c]}d("#zgs20_gsQueryBox").val(j),d("#zgs20_gsQueryDiv").text(j),a.setCursorPos(f),b.parseQueryDiv()},b.parseQueryDiv=function(){b.storeIndexOfSugg();var d=b.getSortQryFilters(),e=c.createDocumentFragment(),f=a.getValue("zgs20_gsQueryBox"),g=0,h=d.length;for(var i=0;i<h;i++){var j=d[i],k=j[0],l=j[1],m=j[2],n=f.substr(g,l-g),o=f.substr(l,m-l),p={"class":"zgs19_gsmatchwordNew zgs19_gsuserselnone zgs19_gsBorderBox",gs:"gsmatchword",key:k},q=a.gssecurity.getHighlightTextNode(n,o,"",p);e.appendChild(q),g=m}var r=f.length;if(r>g){var s=f.substr(g,r-g),q=a.gssecurity.getHighlightTextNode(s,"","","");e.appendChild(q)}var t=a.getTargetElem("zgs20_gsQueryDiv");t.innerHTML="",t.appendChild(e)},b.getSortQryFilters=function(){var a=[],c=b.queryFiltersIndex;if(!d.isEmptyObject(c)){for(var e in c){var f=c[e];a.push([e,f.ascurpos,f.aecurpos])}a.sort(function(a,b){return a[1]>b[1]?1:a[1]<b[1]?-1:0})}return a},b.updateSearchBox=function(c,d){var e=a.getCursorPos(),f=c.substr(0,e);b.checkQueryFilterExists("users"),b.checkQueryFilterExists("services");var g=-1,h=b.queryFilters,i=b.querymodifiers,j=!1,k=i.length;for(var l=0;l<k&&!j;l++){var m=i[l],n=b.modifiers[m].symbol,o=f.lastIndexOf(n);if(o>-1&&!h.hasOwnProperty(m)){var p=o==0||f[o-1]==" "?!0:!1;if(p){var q=f.substr(0,o-1),r=f.substr(o,e),s=b.findMatchedData(m,r),t=s.length;t>0&&(j=!0,b.renderSectionHeader(m),b.renderAutoSuggList(m,n,s,r,q,t),b.setLastSavedIndex(o))}}}var u=b.getLastSavedIndex(),v=b.getLastIndexOfFilters(),w=v<=u&&u<=e?u:v;if(w>=e){var x=f.lastIndexOf(" ");x=x>-1?x:0,v=v<=x&&x<=e?x:v}else v=w;var p=v==0||f[v]==" "?!0:!1;v=f[v]==" "?v+1:v;var y=f.substr(v,e);if(!j&&p){var z=[];if(a.isQueryValid(y))for(var A=0;A<k;A++){var m=i[A],n=b.modifiers[m].symbol;if(!h.hasOwnProperty(m)){var r=n+y,s=b.findMatchedData(m,r);s.length>0&&z.push([m,s])}}var B=z.length;if(B>0){j=!0,g=f.lastIndexOf(y);var q=f.substr(0,g),r=" "+y;for(var C=0;C<B;C++){var D=z[C],m=D[0],E=D[1];b.renderSectionHeader(m),b.renderAutoSuggList(m," ",E,r,q,E.length)}g=v==0||f[g]==" "?g:g-1,b.setLastSavedIndex(g)}}if(!j){a.removeQuerySugg();var F="",G=0,H=b.modifiers.users;d=="serverResponse"||d=="localResponse"?(g=f.lastIndexOf(" "),b.setLastSavedIndex(g),d=="serverResponse"&&b.updateSearchBox(c)):a.isQueryValid(y)&&(y[0]==H.symbol?(G=f.lastIndexOf(H.symbol),F=f.substr(0,G-1),y=y.substr(1,y.length)):(G=f.lastIndexOf(y),F=f.substr(0,G)),!a.gsusercontacts.isSearchReqCached(y)&&!h.hasOwnProperty("users")&&y.length>2?(b.renderLoadingIcon(F),a.gsusercontacts.fetchFromServer(y)):(g=f.lastIndexOf(" "),b.setLastSavedIndex(g),b.updateSearchBox(c,"localResponse")))}},b.getLastIndexOfFilters=function(){var c=a.getCursorPos(),d=b.queryFilters,e=b.queryFiltersMap,f=a.getValue("zgs20_gsQueryBox"),g=0;for(var h in d){var i=b.modifiers[h].symbol;if(e.hasOwnProperty(h)){var j=e[h],k=i+j,l=f.indexOf(k);l>-1&&(l+=k.length+1,g<=l&&l<=c&&(g=l))}}return g},b.setLastSavedIndex=function(a){b.lastSavedIndex=a},b.getLastSavedIndex=function(a,c){var d=b.lastSavedIndex;return c&&d==-1&&(d=a.lastIndexOf(c)),d},b.setFiltersIndex=function(a,c){b.queryFiltersIndex[a]=c},b.getFiltersIndex=function(){return b.queryFiltersIndex},b.storeIndexOfSugg=function(){var c=b.queryFilters,d=b.queryFiltersMap,e=a.getValue("zgs20_gsQueryBox");for(var f in c){var g={},h=b.modifiers[f].symbol;if(d.hasOwnProperty(f)){var i=d[f],j=h+i,k=j.replace(b.regex_replacer,"\\$&"),l=new RegExp("(^"+k+"\\s|\\s"+k+"\\s|\\s"+k+"$|^"+k+"$)"),m=e.search(l);m>-1&&e.replace(l,function(a){g.ascurpos=m,g.aecurpos=m+a.length,b.setFiltersIndex(f,g)})}}var n=b.getFiltersIndex();for(var f in n)c.hasOwnProperty(f)||delete n[f]},b.removeFullSugg=function(c){var d=-1,e=-1,f=a.getCursorPos(),g=a.getCursorEndPos(),h=b.getFiltersIndex(),i=c.keyCode?c.keyCode:c.which;for(var j in h){var k=h[j],l=k.ascurpos,m=k.aecurpos;if(l>-1&&m>-1){var n=!1;if(f==g)i==a.specialkeys.BACKSPACE?n=f>l&&m>=f?!0:!1:i==a.specialkeys.DELETE&&(n=f>=l&&m>f?!0:!1);else if(f>l&&m>f||g>l&&m>g)n=!0;if(n){var o=f<l?f:l,p=g>m?g:m;d=d>-1&&d<o?d:o,e=e>-1&&e>p?e:p,delete h[j]}}}if(d>-1&&e>-1){var q=a.getTargetElem("zgs20_gsQueryBox");q.setSelectionRange(d,e)}},b}(undefined)}(zgssearch,window),function(a,b){var c=b._jQueryGS,d=a.getGSConstantObj()||{};a.gsusercontacts=function(b){return b=a.gsusercontacts||{},b.fetContactsCount=100,b.defContactsCount=500,b.serverCallCount=0,b.queueserver={},b.myContacts=b.myContacts||{},b.orgContacts=b.orgContacts||{},b.myContactsCache=b.myContactsCache||{result:[],noresult:[]},b.orgContactsCache=b.myContactsCache||{result:[],noresult:[]},b.crmContacts=b.crmContacts||{},b.crmContactsInfo=b.crmContactsInfo||{count:0,page:1,more_records:!0},b.supportContacts=b.supportContacts||{},b.getMyContactsList=function(){return b.myContacts||{}},b.setMyContactsList=function(a,c){b.myContacts.hasOwnProperty(a)||(b.myContacts[a]=c)},b.getOrgContactsList=function(){return b.orgContacts||{}},b.setOrgContactsList=function(a,c){b.orgContacts.hasOwnProperty(a)||(b.orgContacts[a]=c)},b.getCRMContactsUserObj=function(){return b.crmContacts||{}},b.getCRMContactsInfoObj=function(){return b.crmContactsInfo||{}},b.getSupportContactsObj=function(a,c){if(a&&c){var d="agent_"+a+"_"+c;return b.supportContacts[d]||{}}return b.supportContacts||{}},b.isSupportDeptAgentExists=function(a,c){if(a&&c){var d="agent_"+a+"_"+c;return b.supportContacts.hasOwnProperty(d)}},b.getSupportUnAssObj=function(){return{Unassigned:{zuid:"-1",email:"",full_name:a.getI18NMsg("gs.search.callout.unassigned")}}},b.getServerCallCount=function(){return b.serverCallCount},b.setServerCallCount=function(){var a=b.getServerCallCount();a=a<500?a+1:1,b.serverCallCount=a},b.clearOrgContactsList=function(){b.orgContacts={},b.orgContactsMoreRes=!1,b.myContactsCache=b.myContactsCache||{result:[],noresult:[]},b.orgContactsCache=b.myContactsCache||{result:[],noresult:[]}},b.checkOrgThresholdLimit=function(){var a=b.getOrgContactsList();if(!c.isEmptyObject(a)){var d=(new Date).getTime(),e=864e5,f=b.orgContacts_expiry_time;d-f>e&&(b.clearOrgContactsList(),b.fetchOrgContacts("",b.defContactsCount))}},b.getUserContacts=function(){var d=a.getWMSUserContacts();return a.isWMSChatPaused()&&c.isEmptyObject(d)&&(d=b.getMyContactsList()),d},b.isSearchReqCached=function(a){var c=b.myContactsCache.result||[],d=b.myContactsCache.noresult||[];if(b.isReqCached(a,b.fetContactsCount,c,d))return!0;var e=b.orgContactsCache.result||[],f=b.orgContactsCache.noresult||[];return b.isReqCached(a,b.fetContactsCount,e,f)?!0:!1},b.isReqCached=function(a,c,d,e){var f="per_page="+c+"&query="+encodeURIComponent(a);for(var g=0;g<d.length;g++){var h=d[g];if(h.indexOf(f)!==-1)return!0}return b.isEmptyReqCached(a,c,e)},b.isEmptyReqCached=function(a,b,c){var d="per_page="+b+"&query="+encodeURIComponent(a);for(var e=0;e<c.length;e++){var f=c[e];if(d.startsWith(f))return!0}return!1},b.fetchFromServer=function(d){var e=b.queueserver,f=e.flag||!1,g=e.expiry_time||0,h=(new Date).getTime(),i=15e3,j=!0;if(!f||h-g>i){var k=a.getWMSUserContacts();if(a.isWMSChatPaused()&&c.isEmptyObject(k)&&b.myContactsMoreRes){var l=b.myContactsCache.result||[],m=b.myContactsCache.noresult||[];b.isReqCached(d,b.fetContactsCount,l,m)||(j=!1,b.fetchMyContacts(d,b.fetContactsCount))}if(b.orgContactsMoreRes){var n=b.orgContactsCache.result||[],o=b.orgContactsCache.noresult||[];b.isReqCached(d,b.fetContactsCount,n,o)||(j=!1,b.fetchOrgContacts(d,b.fetContactsCount))}}j&&a.gsautocomplete.showLoadingIcon&&a.removeQuerySugg()},b.fetchMyContacts=function(a,c){d.cuz&&b.fetchContacts(d.PERSONALCONTACTS,"fetchPersonalContacts",a,c)},b.fetchOrgContacts=function(a,c){d.cuo&&d.cuo!=-1&&b.fetchContacts(d.ORGCONTACTS,"fetchOrgContacts",a,c)},b.fetchContacts=function(c,e,f,g){var h="searchType="+c+"&action="+e,i=f?"&query="+encodeURIComponent(f):"",j="per_page="+g+i;b.setServerCallCount();var k=b.getServerCallCount(),l={service:c,query:f,curCount:k};b.queueserver={flag:!0,expiry_time:(new Date).getTime()},a.uri(a.GET,a.servicesActionURL,h+i,l,function(c,e,f){var g=f.args,h=g.service;b.queueserver={flag:!1,expiry_time:0};if(e=="success"){var i=[],k=a.jsonParse(c);if(k.hasOwnProperty("contacts")){i=k.contacts||[];var l=i.length;for(var m=0;m<l;m++){var n=i[m]||{},o=n.contact_zuid||"",p=n.contact_type||"",q=""+n.status,r=parseInt(q);if(o&&o!="-1"&&(h==d.ORGCONTACTS&&p=="1"||h==d.PERSONALCONTACTS&&(r>=0||r==-1||r==-3))){var s=n.email_id||"",t=n.nick_name||"";t=t.trim();if(h==d.ORGCONTACTS||!t){var u=n.first_name||"",v=n.middle_name||"",w=n.last_name||"";u=u?u.trim():"",v=v?" "+v.trim():"",w=w?" "+w.trim():"",t=u+v+w}var x=l-m,y={USERID:o,DNAME:t,EMAILID:s,UC:x};h==d.PERSONALCONTACTS?b.setMyContactsList(o,y):h==d.ORGCONTACTS&&b.setOrgContactsList(o,y)}}}}var z=g.query;k=k||{},z?k.has_more==1?h==d.PERSONALCONTACTS?b.myContactsCache.result.push(j):h==d.ORGCONTACTS&&b.orgContactsCache.result.push(j):h==d.PERSONALCONTACTS?b.myContactsCache.noresult.push(j):h==d.ORGCONTACTS&&b.orgContactsCache.noresult.push(j):(b.orgContacts_expiry_time=(new Date).getTime(),h==d.PERSONALCONTACTS?b.myContactsMoreRes=k.has_more:h==d.ORGCONTACTS&&(b.orgContactsMoreRes=k.has_more));var A=g.curCount,B=b.getServerCallCount();if(A==B&&a.gsautocomplete.showLoadingIcon){a.removeQuerySugg();var C=a.getValue("zgs20_gsQueryBox");a.gsautocomplete.updateSearchBox(C,"serverResponse")}})},b.fetchCRMUserInfo=function(){var e=b.getCRMContactsInfoObj();if(e.more_records&&e.count<1e3){var f={timeout:0},g="action=fetchCRMUserInfo&searchType="+d.CRM+"&page="+e.page;a.uri(a.GET,a.servicesActionURL,g,f,function(d,f,g){var h=a.jsonParse(d),i=h.hasOwnProperty("info")?h.info:{};b.crmContactsInfo.page=i.page?i.page:1,b.crmContactsInfo.more_records=i.more_records||!1,b.crmContactsInfo.count=e.count+(i.count||0);if(h.hasOwnProperty("users")){var j=h.users||{};c.extend(b.crmContacts,j)}})}},b.fetchSupportAgentInfo=function(e){e=e||{};var f=d.SUPPORT,g=a.getFilterObj(f);if(g.hasOwnProperty("portals")&&g.hasOwnProperty("departments")){var h=e.curPortalId||g.portals.current,i=e.curDeptId||g.departments.current;if(i&&h&&i!=0){var j={portalId:h,deptId:i,timeout:0,obj:e},k="action=fetchDeskOrgAgents&searchType="+f+"&portalId="+h+"&deptId="+i;a.uri(a.GET,a.servicesActionURL,k,j,function(d,e,f){var g=f.args||{},h=a.jsonParse(d)||[];if(c.isArray(h)){var i={},j=h.length,k="agent_"+g.portalId+"_"+g.deptId;for(var l=0;l<j;l++){var m=h[l],n=m.id,o=m.zuid,p=m.emailId,q=m.firstName,r=m.lastName;q=q?q.trim():"",r=r?" "+r.trim():"";var s=q+r;i[n]={email:p,full_name:s,zuid:o}}b.supportContacts[k]=i;var t=g.obj||{};t.hasOwnProperty("type")&&a.isEditFieldsLoader&&a.isEditFieldsLoaderUI&&a.renderInnerEditFieldsUI(t)}})}}},b}(undefined),a.getDefaultContactList=function(){if(!a.isContactsFetched&&d.hasOwnProperty("cuo")){a.isContactsFetched=!0;var b=a.getWMSUserContacts();a.isWMSChatPaused()&&c.isEmptyObject(b)&&a.gsusercontacts.fetchMyContacts("",a.gsusercontacts.defContactsCount),a.gsusercontacts.fetchOrgContacts("",a.gsusercontacts.defContactsCount)}}}(zgssearch,window),function(a,b){var c=b.document,d=b._jQueryGS,e=a.getGSConstantObj()||{};a.gsmails=function(f){return f=a.gsmails||{},f.ext_img=f.ext_img||{},f.actionList=[{open:"gs.search.result.mail.open"},{reply:"gs.search.result.mail.reply"},{replyall:"gs.search.result.mail.replyall"},{fwdi:"gs.search.result.mail.forward"},{unread:"gs.search.sevice_mail_maskAsUnRead"}],f.getCalloutHolder=function(){return"zgs20_gsMailCallout"},f.calloutParams=function(a){return"searchType="+e.MAILS+"&msgId="+a.message_id+"&accId="+a.account_id+"&accType="+a.accType},f.createCalloutTemplate=function(b){var c=d("#zgs20_gsMailCallout").length;if(c<=0){var f=a.getI18NMsg("gs.search.sevice_prevmax"),g=a.getI18NMsg("gs.search.sevice_prevmin"),h=a.getI18NMsg("gs.search.result.mail.menu.reply"),i=a.getI18NMsg("gs.search.sevice_mail_ext_img_tip"),j=a.getI18NMsg("gs.search.sevice_mail_ext_img_text"),k=a.getI18NMsg("gs.search.sevice_mail_shrinked_tip"),l=a.getI18NMsg("gs.search.sevice_mail_shrinked_text"),m=d("<div>",{id:"zgs20_gsMailCallout","class":"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(d("<div>",{"class":"zgs19_gsCalloutHeader",gs:"header"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:e.MAILS,gs:"moveToAttachArea"})).append(d("<div>",{"class":"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsCalloutTitleLink",gs:"ctitle",service:e.MAILS}))).append(d("<div>",{"class":"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(d("<div>",{"class":"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(d("<div>",{"class":"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(d("<div>",{id:"zgs20_gsCalloutReplyAction","class":"zgs19_gsResultsUniIcons zgs19_gsCalloutReplyAction zgs19_gsCurPointer zgs19_gsfr",gs:"mailsAcionList",value:"reply",title:h,service:e.MAILS})).append(d("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:f,gs:"maxpreview",service:e.MAILS})).append(d("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:g,gs:"minpreview",service:e.MAILS})))).append(d("<div>",{"class":"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(d("<div>",{"class":"zgs19_gsCalloutMetaHolder"}).append(d("<div>",{"class":"zgs19_gsCalloutUserPhoto"}).append(d("<div>",{"class":"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(d("<img>",{"class":"zgs19_gsFetchLoader",src:a.gsspacer,gs:"authorPhoto"})))).append(d("<div>",{"class":"zgs19_gsCalloutMetaLeft"}).append(d("<div>",{"class":"zgs19_gsCalloutUserHeader"}).append(d("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(d("<span>",{gs:"slabel"}))).append(d("<div>",{"class":"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:55%"}).append(d("<span>",{gs:"sender"}))).append(d("<div>",{"class":"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:20%"}).append(d("<span>",{gs:"date"})))).append(d("<div>",{"class":"zgs19_gsCalloutUserHeader"}).append(d("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:5%"}).append(d("<span>",{gs:"rlabel"}))).append(d("<div>",{"class":"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:45%",gs:"toaddress"}).append(d("<span>",{gs:"receiver"}))).append(d("<div>",{id:"zgs20_gsCalloutDDList1","class":"zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsfl",style:"max-width:20%",gs:"tolink"})).append(d("<div>",{"class":"zgs19_gsCalloutUserFolder zgs19_gsOverflow zgs19_gsfr",style:"max-width:25%"}).append(d("<span>",{gs:"rfolder"}))))))).append(d("<div>",{id:"zgs20_gsMailsCalloutFooArea","class":"zgs19_gsCalloutFooter zgs19_gsMailCalloutFooter",gs:"calloutFooter"}).append(d("<div>",{id:"zgs20_gsMailCalloutExtImg","class":"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"ext_img"}).append(d("<a>",{"class":"zgs19_gsCurPointer",gs:"ext_img_text",title:j}).text(j)).append(d("<span>",{"class":"zgs19_gsMailCalloutExtTip",title:i}).text(i))).append(d("<div>",{"class":"zgs19_gsCalloutContentInfo",gs:"content"})).append(d("<div>",{id:"zgs20_gsMailCalloutshrinked","class":"zgs19_gsMailCalloutExtImg zgs19_gsOverflow zgs19_gsDisplayNone",gs:"shrinked"}).append(d("<a>",{"class":"zgs19_gsCurPointer",gs:"mailsAcionList",value:"open",service:e.MAILS,title:l}).text(l)).append(d("<span>",{"class":"zgs19_gsMailCalloutExtTip",title:k}).text(k))).append(d("<div>",{id:"zgs20_gsMailsCalloutAttachInfo","class":"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})));d("#zgs20_gsSearchResultRight").append(m)}d("#zgs20_gsMailCallout").attr("ccount",b)},f.setMailCalloutEleSize=function(a){var b=d(a.header).height(),c=d(a.metaInfo).height(),e=d("#zgs20_gsMailCallout").height()-(b+c);d(a.calloutFooter).css("height",e+"px")},f.calloutResponse=function(b,c,g){if(b){var h=a.getTargetElem("zgs20_gsMailCallout");a.setGSTagElems(h),a.setGSTagElems(g);var i=d(h).attr("ccount"),j=c.subject||"";j||(j="("+a.getI18NMsg("gs.search.result.mail.subject")+")"),d(h.ctitle).text(j).attr("title",j),d(h.ctitle).removeClass("zgs19_gsFtWeightBold");var k=c.zuid;d(h.authorPhoto).attr("src",a.gsspacer),d(h.authorPhoto).attr("class","zgs19_gsFetchLoader");var l="zgs20_gsMailsCalloutUserImg"+i;d(h.authorPhoto).attr("id",l);var m=a.getUserStatus(k);d(h.calloutIconHolder).attr("class","zgs19_gsChatIconHolder");if(k!=="-1"&&k!==undefined){var n=m.name?m.name:"";d(h.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+n);var o=e.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+k+"&API=true";a.renderCalloutUserPhoto(l,o)}else a.renderCalloutNoUserPhoto(l);var p=c.display_time?c.display_time:"",q=b.sentTime?b.sentTime:p,r=a.getI18NMsg("gs.search.result.support.from");d(h.slabel).empty().text(r).attr("title",r),d(h.sender).empty().text(b.from).attr("title",b.from),d(h.date).empty().text(p).attr("title",q);var s=c.folder_name?c.folder_name:"",t=f.fillToAddress(b.to,b.cc,b.bcc),u=f.splitEmailId(t?t.value:""),v=t?t.label:"";d(h.rlabel).empty().text(v).attr("title",v),d(h.receiver).empty().text(u).attr("title",u),d(h.rfolder).empty().text(s).attr("title",s),d(h.tolink).hide().empty(),d("#zgs20_gsDropdownToList").remove(),d(h.toaddress).css("maxWidth","60%");var w=f.getTotalEmailAccountCount(b.to,b.cc,b.bcc)-1;if(w>0){d(h.toaddress).css("maxWidth","50%");var x=f.getTotalEmailCount(w);d(h.tolink).append(d("<div>",{"class":"zgs19_gsOverflow",title:x}).text(x)).show(),f.loadToOthersList(h,b.to,b.cc,b.bcc)}d(h.content).empty().append(b.content),f.loadImagesWithDomain(h.content),a.preventStylesFromParentDomain(h.content,e.MAILS),f.ext_img={},d(h.ext_img).hide(),b.hasOwnProperty("ext_img")&&(d(h.ext_img).show(),f.ext_img=b.ext_img),d(h.shrinked).hide();var y=b.shrinked;y=="true"&&d(h.shrinked).show(),d(h.moveToAttachArea).hide(),d(h.attachHolder).hide(),d(h.attachHolder).empty();if(c.has_attachment==="1"){var z=b.attach_info||[],A=z.length;if(A>0){var B=A+" "+a.getI18NMsg("gs.search.result.mail.callout.attachments");d(h.attachHolder).append(d("<div>",{"class":"zgs19_gsCalloutAttachHeader"}).append(d("<span>",{title:B}).text(B)));for(var C=0;C<A;C++){var D=z[C],E=a.replaceHTMLEntity(D.n),F="zgs19_"+a.getFileImageClass(E),G=a.getDocResTT(F);d(h.attachHolder).append(d("<div>",{"class":"zgs19_gsCalloutAttachFooter"}).append(d("<div>",{"class":"zgs19_gsCalloutAttachImage"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons "+F,title:G,gs:"resultMenuItem"}))).append(d("<div>",{"class":"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:e.MAILS,aId:D.i,gs:"attachtitle",title:E}).text(E))).append(d("<div>",{"class":"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(d("<span>").text(a.convertToKBMB(D.s)))))}d(h.moveToAttachArea).show(),d(h.attachHolder).show()}}d(h.maxpreview).show(),d(h.minpreview).hide(),a.curSelectedEle&&(a.hideCalloutLoader(),d(h).show(),c.isBold==="true"&&f.toggleMailStatus(g,c,"markAsRead")),d(h.calloutFooter).scrollTop(0),d(h.calloutFooter).scrollLeft(0);var H=!1;d("#zgs20_gsCalloutReplyAction").show();if(b.message_type==="DRAFTS"||b.message_type==="TEMPLATES")H=!0,d("#zgs20_gsCalloutReplyAction").hide();f.addCalloutActionList(h,H),f.setMailCalloutEleSize(h)}else f.calloutErrorMsg()},f.addCalloutActionList=function(b,c){d("#zgs20_gsCalloutActionList").empty().remove(),d(b.calloutActionHolder).append(d("<div>",{id:"zgs20_gsCalloutActionList","class":"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));var g=f.actionList;for(var h=0;h<g.length;h++){var i=g[h];for(var j in i){if(c&&j!=="open")continue;var k=a.getI18NMsg(i[j]);d("#zgs20_gsCalloutActionList").append(d("<div>",{"class":"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"mailsAcionList",value:j,service:e.MAILS,title:k}).text(k))}}},f.toggleMailStatus=function(b,c,d,f){if(b){var g=c.message_id,h=c.account_id,i=c.accType,j=c.semailId,k="action=markAsReadUnread&searchType="+e.MAILS+"&msgId="+g+"&accId="+h+"&accType="+i+"&emailid="+encodeURIComponent(j)+"&oper="+d;a.ajaxhandlerForServicesAction(b,c,k,d,f)}},f.responseFromServicesAction=function(b,c,e,f,g){if(b&&b!=="null"){var h=d.parseJSON(b),i=h?h.response||{}:{};if(i.hasOwnProperty("success")){var j=a.getMailImageStatus(e.servImg);e.servImg=j.servImg;var k=j.image,l=j.toBeImage,m=j.toBeTitle,n=a.getTargetElem("zgs20_gsMailCallout");a.setGSTagElems(n),d(c.resultMenuItem).attr("title",m);if(f==="markAsRead"){e.isBold="false",d(c.zgs20_gsUserTitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),d(n.ctitle).removeClass("zgs19_gsFtWeightBold").addClass("zgs19_gsFtWeightNormal"),d(c.resultMenuItem).removeClass(k).addClass(l);if(g){var o=a.getI18NMsg("gs.search.sevice_mail_maskAsUnRead");d(g).attr("value","unread").attr("title",o).text(o)}}else if(f==="markAsUnread"){e.isBold="true",d(c.zgs20_gsUserTitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),d(n.ctitle).removeClass("zgs19_gsFtWeightNormal").addClass("zgs19_gsFtWeightBold"),d(c.resultMenuItem).removeClass(k).addClass(l);if(g){var o=a.getI18NMsg("gs.search.sevice_mail_maskAsRead");d(g).attr("value","read").attr("title",o).text(o)}}}}},f.downloadAttachment=function(c){var e=d(c).text(),f=d(c).attr("aId"),g=a.getCurrentResObj(),h=g.accType,i=g.account_id,j=g.message_id,k="searchType=mails&msgId="+j+"&atIndex="+f+"&accId="+i+"&accType="+h+"&atName="+e;b.open(a.attachmentURL+"?"+k)},f.fillToAddress=function(b,c,d){var e=f.getFirstEmailId(b);if(e===null){var g=f.getFirstEmailId(c);if(g===null){var h=f.getFirstEmailId(d);return h===null?{label:"",value:""}:{label:a.getI18NMsg("gs.search.result.mail.bcc"),value:h}}return{label:a.getI18NMsg("gs.search.result.mail.cc"),value:g}}return{label:a.getI18NMsg("gs.search.result.mail.to"),value:e}},f.getFirstEmailId=function(a){if(a!==undefined&&a!==null&&a!==""){var b=a.split(",");return b[0]}return null},f.splitEmailId=function(a){var b=c.createElement("div");b.innerHTML=a,a=b.textContent;var d="";if(a!==""){a=a.trim();var e=a.lastIndexOf("<");e!==-1?(d=a.substring(e+1,a.length),d=d.trim().replace("<","").replace(">","").trim()):d=a.trim().replace("<","").replace(">","").trim()}return d},f.getTotalEmailAccountCount=function(a,b,c){var d=f.getArrayOfElements(a),e=f.getArrayOfElements(b),g=f.getArrayOfElements(c);return d.length+e.length+g.length},f.getArrayOfElements=function(a){if(a!==undefined&&a!==null&&a!==""){var b=a.split(",");return b.length>0?b:[]}return[]},f.getTotalEmailCount=function(b){var c=a.getI18NMsg("gs.search.result.mail.menu.others");return b===1&&(c=a.getI18NMsg("gs.search.result.mail.menu.other")),"+"+b+" "+c},f.moveToViewPort=function(){a.moveToViewPort("zgs20_gsMailsCalloutFooArea","zgs20_gsMailsCalloutAttachInfo")},f.displayCallout=function(){a.hideCalloutLoader(),d("#zgs20_gsMailCallout").show()},f.loadToOthersList=function(b,c,e,g){d(b.metaInfo).append(d("<div>",{id:"zgs20_gsDropdownToList","class":"zgs19_gsDropdownToList zgs19_gsDisplayNone",gs:"toDDList"})),f.renderToOthersList(c,a.getI18NMsg("gs.search.result.mail.callout.to")),f.renderToOthersList(e,a.getI18NMsg("gs.search.result.mail.callout.cc")),f.renderToOthersList(g,a.getI18NMsg("gs.search.result.mail.callout.bcc"))},f.renderToOthersList=function(a,b){if(a){var c=a.split(",");if(c.length>0){var e=d("<div>",{"class":"zgs19_gsDropdownToListEmailHolder zgs19_gsfl"});for(var g=0;g<c.length;g++){var h=g+1===c.length?"":",",i=f.splitEmailId(c[g]);e.append(d("<div>",{"class":"zgs19_gsDropdownToListEmailIds zgs19_gsOverflow"}).append(d("<span>",{title:i}).text(i+h)))}d("#zgs20_gsDropdownToList").append(d("<div>",{"class":"zgs19_gsDropdownToListHolder"}).append(d("<div>",{"class":"zgs19_gsDropdownToListLabel zgs19_gsfl"}).append(d("<span>",{title:b}).text(b))).append(d("<div>",{"class":"zgs19_gsSemicolon zgs19_gsfl"}).append(d("<span>").text(":"))).append(e))}}},f.calloutErrorMsg=function(b){if(a.curSelectedEle){a.hideCalloutLoader();var c=b==="ERROR"?a.getI18NMsg("gs.search.error.generic_error_messege"):a.getI18NMsg("gs.search.result.mail.status.callout.errortext");d("#zgs20_gsCalloutErrorPage").text(c),d("#zgs20_gsCalloutErrorPage").show()}},f.mailReplyActionHandler=function(f,g,h){a.handleBeforeSentCase();var i=d("#zgs20_gsMailActionHolder");i.length<=0&&(i=d("<div>",{id:"zgs20_gsMailActionHolder","class":"zgs19_gsServiceCalloutHolder"}),d("#zgs20_gsSearchResultRight").append(i));var j=e.GS_MAIL_URL+"/zm/comp.do?accId="+f+"&msgId="+g+"&originalMode="+h+"&frameorigin="+b.location.origin,k=c.createElement("iframe");k.id="zgs20_gsMailActionFrame",k.className="zgs19_gsMailActionFrame",k.src=j,k.onload=function(){setTimeout(function(){a.hideCalloutLoader()},500)},i.append(k).show()},f.loadExtImg=function(){var a=f.ext_img||{},b=a.externalURL||[],c=a.externalLink||[];for(var e=0,g=0;e<b.length&&g<c.length;e++,g++){var h=b[e],i=c[e];d("#zgs20_gsMailCallout").find("#"+i).attr("src",h)}d("#zgs20_gsMailCalloutExtImg").hide()},f.loadImagesWithDomain=function(a){var b=e.GS_MAIL_URL;d(a).find("img").each(function(){var a=d(this).attr("src");a&&a.indexOf("/mail/ImageDisplay?")==0&&d(this).attr("src",b+a)})},f.setServiceEleSize=function(b,c){var e=a.getTargetElem("zgs20_gsMailCallout");a.setGSTagElems(e),f.setMailCalloutEleSize(e),d("#"+b).css("height",c+"px")},f}(undefined)}(zgssearch,window),function(a,b){var c=b._jQueryGS,d=a.getGSConstantObj()||{};a.gscrm=function(e){return e=a.gscrm||{},e.actionList=[{open:"gs.search.result.crm.menu.open"},{edit:"gs.search.result.crm.menu.edit"}],e.crmImpFieldsData=e.crmImpFieldsData||{},e.calloutParams=function(a){var b=a.id,c=a.mod;return"searchType=crm&entityId="+b+"&crmMod="+e.getCrmModuleQueryName(c)},e.getCalloutHolder=function(){return"zgs20_gsCRMCallout"},e.getCrmModuleQueryName=function(b){var c=a.getFilterInfo(d.CRM,"modules","current");return c.hasOwnProperty(b)?c[b]:b},e.createCalloutTemplate=function(b){var e=c("#zgs20_gsCRMCallout").length,f=a.getI18NMsg("gs.search.sevice_prevmax"),g=a.getI18NMsg("gs.search.sevice_prevmin"),h=a.getI18NMsg("gs.search.result.crm.menu.edit");if(e<=0){var i=c("<div>",{id:"zgs20_gsCRMCallout","class":"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(c("<div>",{"class":"zgs19_gsCalloutHeader",gs:"header"}).append(c("<div>",{"class":"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(c("<span>",{"class":"zgs19_gsCalloutTitleLink zgs19_gsFtWeightNormal",gs:"ctitle",service:d.CRM}))).append(c("<div>",{"class":"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(c("<div>",{"class":"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(c("<div>",{"class":"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(c("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsCalloutCRMEditIcon zgs19_gsCurPointer zgs19_gsfr",gs:"crmEditaction",value:"edit",title:h,service:d.CRM})).append(c("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:f,gs:"maxpreview",service:d.CRM})).append(c("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:g,gs:"minpreview",service:d.CRM})))).append(c("<div>",{"class":"zgs19_gsCalloutFooter",gs:"calloutFooter"}).append(c("<div>",{id:"zgs20_gsCrmImpInnerContent","class":"zgs19_gsCalloutIconInfo",gs:"impData"})).append(c("<div>",{"class":"zgs19_gscontPartHolderParent",gs:"contPartHolder"}).append(c("<div>",{"class":"zgs19_gscontPartHolder"}).append(c("<div>",{"class":"zgs19_gsCalloutCRMLeftPanel zgs19_gsfl"}).append(c("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon",style:"display:block;"}))).append(c("<div>",{id:"zgs20_gsCalloutCRMRightPanel","class":"zgs19_gsCalloutCRMRightPanel zgs19_gsfl"})))));c("#zgs20_gsSearchResultRight").append(i)}c("#zgs20_gsCRMCallout").attr("ccount",b)},e.setCrmCalloutEleSize=function(a){var b=c(a.header).height(),d=c(a.impData).height(),e=c("#zgs20_gsCRMCallout").height()-(b+d);e-=c(a.contPartHolder).outerHeight(!0)-c(a.contPartHolder).height(),c(a.contPartHolder).css("height",e+"px")},e.calloutResponse=function(b,f,g,h){var i=a.getTargetElem("zgs20_gsCRMCallout");a.setGSTagElems(i),a.setGSTagElems(g),h=h||{},h.updateRecord&&!b&&(e.crmImpFieldsData.Owner=h.owner,e.crmImpFieldsData.editable=!1,b=e.crmImpFieldsData);if(b){var j=f.mod,k=a.crmMandName[d.CRM+"_"+j];e.generateCallOut(j,f,b);var l=a.checkUndefined(f[k]);c(i.ctitle).empty().text(l).attr("title",l),c(i.actionPipe).show(),c(i.actionlist).show(),c(i.ctitle).addClass("zgs19_gsCalloutTitleLink"),j==="Notes"&&(c(i.actionPipe).hide(),c(i.actionlist).hide()),c(i.maxpreview).show(),c(i.minpreview).hide(),c(i.crmEditaction).hide(),j!=="Notes"&&b.editable&&c(i.crmEditaction).show(),a.curSelectedEle&&(a.hideCalloutLoader(),c(i).show()),c(i.contPartHolder).scrollTop(0),c(i.contPartHolder).scrollLeft(0),j!=="Notes"&&e.addCalloutActionList(i,b.editable),e.setCrmCalloutEleSize(i)}else e.calloutErrorMsg()},e.generateCallOut=function(b,f,g){var h={},i=a.getTargetElem("zgs20_gsCRMCallout");a.setGSTagElems(i);if(f!=="null"&&f!==null){var j=a.crmDispObj[d.CRM+"_"+b],k=a.crmMandName[d.CRM+"_"+b],l=j[k];if(g!==undefined&&g!=="null"&&g!==null){var m=a.jsonParse(g),n=m.extraFields,o=m.dt;e.crmImpFieldsData=m,m.hasOwnProperty("impFields")&&(e.crmOwnerData=m.Owner?m.Owner||{}:{},e.crmApiNamesData=m.apiNames?m.apiNames||{}:{},e.renderImportantFieldDetails(a.minPrevPane)),n.hasOwnProperty(l)&&delete n[l];for(var p in n)h[p]=n[p]}}c("#zgs20_gsCalloutCRMRightPanel").empty();var q=c("#zgs20_gsCalloutCRMRightPanel");for(var r in h){var s=h[r];if(s!==""){var t=e.renderCrmModuleDetails(b,r,s,o,f);q=q.append(t)}}},e.addCalloutActionList=function(b,f){c("#zgs20_gsCalloutActionList").empty().remove(),c(b.calloutActionHolder).append(c("<div>",{id:"zgs20_gsCalloutActionList","class":"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));var g=e.actionList;for(var h=0;h<g.length;h++){var i=g[h];for(var j in i){if(j=="edit"&&!f)continue;var k=a.getI18NMsg(i[j]);c("#zgs20_gsCalloutActionList").append(c("<div>",{"class":"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"crmActionList",value:j,service:d.CRM,title:k}).text(k))}}},e.renderCrmModuleDetails=function(b,d,f,g,h){var i="";if(g[d]==="email")i=c("<a>",{"class":"zgs19_gsCalloutDocsAuthor zgs19_gsCurPointer zgs19_gsOverflowWrap zgs19_gsfl",href:"mailto:"+f,target:"_blank",title:f}).text(f);else if(b==="Notes"&&d===e.crmImpFieldsData.related_to){var j=a.crmRecordOpen(h);i=c("<a>",{"class":"zgs19_gsCalloutDocsAuthor zgs19_gsCurPointer zgs19_gsOverflowWrap zgs19_gsfl",href:j,target:"_blank",title:f}).text(f)}else i=c("<div>",{"class":"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow1 zgs19_gsfl",style:"max-width: 90%;",title:f}).text(f);var k=c("<div>",{"class":"zgs19_gsCalloutCRMRecordInfo"}).append(c("<div>",{"class":"zgs19_gsCalloutDocsLabel zgs19_gsOverflow",title:d}).text(d)).append(c("<div>",{"class":"zgs19_gsWidth100"}).append(i));return k},e.getCRMApiType=function(b){var c="",d=a.getCurrentResObj(),f=d.mod,g=e.crmApiNamesData;if(f!="Notes"&&g[b]=="Owner"&&e.crmImpFieldsData.editable){var h=a.gsusercontacts.getCRMContactsInfoObj();h.count>1&&(c="crmOwnerChange")}return c},e.isOwnerField=function(a){var b=e.crmApiNamesData;return b[a]=="Owner"?!0:!1},e.getCRMEditableField=function(a,b,d){var e="";return a=="crmOwnerChange"&&(e=c("<div>",{"class":"zgs19_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsfl"}).append(c("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsBorderBox zgs19_gsfr"}))),c("<div>",{"class":"zgs19_gsEditFieldsNameHolder zgs19_gsEditFieldsUline zgs19_gsCalloutDocsAuthor zgs19_gsDDBTrans zgs19_gsCurPointer zgs19_gsfl",field:b,gs:"CalloutEditFields",datatype:a}).append(c("<span>",{"class":"zgs19_gsOverflow zgs19_gsfl",title:d,style:"max-width:95%"}).text(d)).append(e)},e.renderImportantFieldChild=function(a,b,d){var f="";if(b==="")f=c("<div>",{"class":"zgs19_gsCrmValue zgs19_gsOverflow zgs19_gsfl",title:b}).html("&mdash;");else{var g=e.getCRMApiType(a);b=e.isOwnerField(a)?e.crmOwnerData.name:b,g?f=e.getCRMEditableField(g,a,b):d[a]==="email"?f=c("<div>",{"class":"zgs19_gsCrmValue zgs19_gsOverflow zgs19_gsfl"}).append(c("<a>",{"class":"zgs19_gsCalloutDocsAuthor zgs19_gsCurPointer zgs19_gsOverflowWrap zgs19_gsfl",href:"mailto:"+b,target:"_blank",title:b}).text(b)):f=c("<div>",{"class":"zgs19_gsCrmValue zgs19_gsOverflow zgs19_gsfl",title:b}).append(c("<span>",{"class":"zgs19_gsfl"}).text(b))}return c("<div>",{"class":"zgs19_gsCrmParent"}).append(c("<div>",{"class":"zgs19_gsCrmLabel zgs19_gsOverflow zgs19_gsfl",title:a}).text(a)).append(f)},e.renderImportantFieldDetails=function(b){var d=a.getTargetElem("zgs20_gsCRMCallout");a.setGSTagElems(d);var f=e.crmImpFieldsData,g=f.impFields,h=f.dt,i=c(".zgs19_gsSearchResultRight").width()*25/100,j=a.isZohoSearch?i:50,k=a.isZohoSearch?i:150;c("#zgs20_gsCrmImpInnerContent").empty();var l=c("#zgs20_gsCrmImpInnerContent");for(var m in g){var n=g[m],o=e.renderImportantFieldChild(m,n,h),p=e.isOwnerField(m);p?l.prepend(o):l.append(o);var q=a.getWidthOfText(m,k);j=q>j?q:j}var r=b-j-30,s=j*100/b+"%",t=r*100/b+"%";c(l).find(".zgs19_gsCrmLabel").css("width",s),c(l).find(".zgs19_gsCrmValue").css("max-width",t),c(l).find(".zgs19_gsEditFieldsNameHolder").css("max-width",t)},e.calloutErrorMsg=function(b){if(a.curSelectedEle){a.hideCalloutLoader();var d=b==="ERROR"?a.getI18NMsg("gs.search.error.generic_error_messege"):a.getI18NMsg("gs.search.result.crm.status.callout.errortext");c("#zgs20_gsCalloutErrorPage").empty().text(d).show()}},e.EditCRMRecord=function(){var e=c(a.curSelectedEle).attr("index"),f=c(a.curSelectedEle).attr("service"),g=a.getResultObject(f,e),h=g.mod,i=a.getFilterInfo(d.CRM,"modules","crm_modules"),j=i[h+"_url"],k=g.id;b.open(d.GS_CRM_URL+"/crm/EditEntity.do?module="+j+"&id="+k)},e.setServiceEleSize=function(b,d){var f=a.getTargetElem("zgs20_gsCRMCallout");a.setGSTagElems(f),e.setCrmCalloutEleSize(f),c("#"+b).css("height",d+"px")},e}(undefined)}(zgssearch,window),function(a,b){var c=b.document,d=b._jQueryGS,e=a.getGSConstantObj()||{};a.gsdocs=function(f){return f=a.gsdocs||{},f.actionList=[{open:"gs.search.result.mail.open"},{download:"gs.search.result.document.download"}],f.getCalloutHolder=function(){return"zgs20_gsDocsCallout"},f.calloutParams=function(a){return"searchType="+e.DOCUMENTS+"&docId="+a.docid},f.createCalloutTemplate=function(b){var c=d("#zgs20_gsDocsCallout").length;if(c<=0){var f=a.getI18NMsg("gs.search.sevice_prevmax"),g=a.getI18NMsg("gs.search.sevice_prevmin"),h=a.getI18NMsg("gs.search.result.document.download"),i=a.getFourDotLoader("zgs20_gsdocsprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),j=d("<div>",{id:"zgs20_gsDocsCallout","class":"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(d("<div>",{"class":"zgs19_gsCalloutHeader",gs:"header"}).append(d("<div>",{"class":"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsCalloutTitleLink",gs:"ctitle",service:e.DOCUMENTS}))).append(d("<div>",{"class":"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(d("<div>",{"class":"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(d("<div>",{"class":"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(d("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsCalloutDownloadIcon zgs19_gsCurPointer zgs19_gsfr",title:h,gs:"docsdownload"})).append(d("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:f,gs:"maxpreview",service:e.DOCUMENTS})).append(d("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:g,gs:"minpreview",service:e.DOCUMENTS})))).append(d("<div>",{"class":"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(d("<div>",{"class":"zgs19_gsCalloutMetaHolder"}).append(d("<div>",{"class":"zgs19_gsCalloutUserPhoto"}).append(d("<div>",{"class":"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(d("<img>",{"class":"zgs19_gsFetchLoader",src:a.gsspacer,gs:"authorPhoto"})))).append(d("<div>",{"class":"zgs19_gsCalloutMetaLeft"}).append(d("<div>",{"class":"zgs19_gsCalloutUserHeader"}).append(d("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(d("<span>",{gs:"startedBy"}))).append(d("<div>",{"class":"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:55%"}).append(d("<span>",{gs:"owner"}))).append(d("<div>",{"class":"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:20%"}).append(d("<span>",{gs:"date"}))))))).append(d("<div>",{"class":"zgs19_gsDocsCalloutFooter zgs19_gsDocsCalloutNoPadding zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(i).append(d("<div>",{id:"zgs20_gsDocsPreviewHolder","class":"zgs19_gsDocsPreviewHolder",gs:"docspreviewHolder"})));d("#zgs20_gsSearchResultRight").append(j)}d("#zgs20_gsDocsCallout").attr("ccount",b)},f.setDocsCalloutEleSize=function(a){var b=d(a.header).height(),c=d(a.metaInfo).height(),e=d("#zgs20_gsDocsCallout").height()-(b+c);e-=d(a.calloutFooter).outerHeight(!0)-d(a.calloutFooter).height(),d(a.calloutFooter).css("height",e+"px")},f.calloutResponse=function(b,c){var g=a.getTargetElem("zgs20_gsDocsCallout");a.setGSTagElems(g),a.setGSTagElems(c);var h=d(g).attr("ccount"),i=b.doc_name||"";d(g.ctitle).empty().text(i).attr("title",i);var j=b.zuid;d(g.authorPhoto).attr("src",a.gsspacer),d(g.authorPhoto).attr("class","zgs19_gsFetchLoader");var k="zgs20_gsDocsCalloutUserImg"+h;d(g.authorPhoto).attr("id",k);var l=a.getUserStatus(j);d(g.calloutIconHolder).attr("class","zgs19_gsChatIconHolder");if(j!=="-1"&&j!==undefined){var m=l.name?l.name:"";d(g.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+m);var n=e.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+j+"&API=true";a.renderCalloutUserPhoto(k,n)}else a.renderCalloutNoUserPhoto(k);var o=b.shared?a.getI18NMsg("gs.search.result.document.callout.sharedby"):a.getI18NMsg("gs.search.result.document.callout.ownedby");d(g.startedBy).empty().text(o).attr("title",o),d(g.owner).empty().text(b.author).attr("title",b.author),d(g.date).empty().text(b.display_time).attr("title",b.display_time),d(g.docsdownload).hide(),f.renderDocsPreview(g,b),d(g.maxpreview).show(),d(g.minpreview).hide(),a.curSelectedEle&&(a.hideCalloutLoader(),d(g).show()),d(g.calloutFooter).scrollTop(0),d(g.calloutFooter).scrollLeft(0),f.addCalloutActionList(g,b),f.setDocsCalloutEleSize(g)},f.addCalloutActionList=function(b,c){d("#zgs20_gsCalloutActionList").empty().remove(),d(b.calloutActionHolder).append(d("<div>",{id:"zgs20_gsCalloutActionList","class":"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));var g=f.actionList;for(var h=0;h<g.length;h++){var i=g[h];for(var j in i){var k=a.getI18NMsg(i[j]);if(j=="download"){var l=c.doc_type,m=e.downloadServer;if(!m&&m==="null"||l==="folder")continue}d("#zgs20_gsCalloutActionList").append(d("<div>",{"class":"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"docsAcionList",value:j,service:e.DOCUMENTS,title:k}).text(k))}}},f.downloadDocument=function(a){var c=new Date,d=c.getTime(),f=a.docid,g="https://"+e.downloadServer+"/paramdownloadservlet",h="x-service=EX&event-id="+f+"_"+d+"&x-encoding=gzip&x-resource_id="+f;b.open(g+"?"+h)},f.getDocsPreviewURL=function(a){var b=a.servImg,c=a.docid;switch(b){case"zgs19_txt":case"zgs19_word":case"zgs19_writer":return e.GS_DOCS_URL+"/writer/preview/"+c;case"zgs19_xl":case"zgs19_sheet":return e.GS_DOCS_URL+"/sheet/preview.do?rid="+c+"&top=no";case"zgs19_power":case"zgs19_show":return e.GS_DOCS_URL+"/show/preview/"+c+"?notopbar=true";default:return e.GS_DOCS_URL+"/orgembed/"+c}},f.renderDocsPreview=function(b,g){var h=g.doc_type,i=e.downloadServer;d(b.calloutFooter).addClass("zgs19_gsOverflowHidden");if(i&&i!=="null"&&h!=="folder"){d(b.docsdownload).show(),d("#zgs20_gsdocsprevLoader").show(),d(b.docspreviewHolder).empty(),d(b.docspreviewHolder).css("visibility","hidden");var j=f.getDocsPreviewURL(g),k=c.createElement("iframe");k.src=j,k.style.border="0",k.className="zgs19_gsIframeHolder zgs19_gsDocsIframeTag",k.setAttribute("frameborder","0"),k.setAttribute("allowfullscreen","true"),k.onload=function(){setTimeout(function(){d(b.calloutFooter).removeClass("zgs19_gsOverflowHidden"),d("#zgs20_gsdocsprevLoader").hide(),d(b.docspreviewHolder).css("visibility","visible")},500)},d(b.docspreviewHolder).append(k)}else{var l=a.getI18NMsg("gs.search.sevice_docs_previewfolerr");d(b.docspreviewHolder).append(d("<div>",{"class":"zgs19_gsDocsPreviewError",title:l}).text(l)),d(b.calloutFooter).removeClass("zgs19_gsOverflowHidden"),d(b.docspreviewHolder).css("visibility","visible")}},f.setServiceEleSize=function(b,c){var e=a.getTargetElem("zgs20_gsDocsCallout");a.setGSTagElems(e),f.setDocsCalloutEleSize(e),d("#"+b).css("height",c+"px")},f}(undefined)}(zgssearch,window),function(a,b){var c=b._jQueryGS,d=a.getGSConstantObj()||{};a.gscontacts=function(b){return b=a.gscontacts||{},b.user_availability=b.user_availability||{throshold:"120000",limit:500,zuidList:[],userObj:{}},b.actionList=[{open:"gs.search.result.mail.open",sendMail:"gs.search.sevice_mail_sendMail",pcontinue:"gs.search.result.chat.callout.continueChat",audio:"gs.search.result.chat.callout.audiochat",video:"gs.search.result.chat.callout.videochat"}],b.createCalloutTemplate=function(b){var d=c("#zgs20_gsContactsCallout").length;if(d<=0){var e=a.getI18NMsg("gs.search.sevice_mail_sendMail"),f=a.getI18NMsg("gs.search.result.chat.callout.inviteZoho"),g=a.getI18NMsg("gs.search.result.chat.callout.inviteChat"),h=a.getI18NMsg("gs.search.result.chat.callout.pendingChat"),i=a.getI18NMsg("gs.search.result.chat.callout.continueChat"),j=c("<div>",{id:"zgs20_gsContactsCallout","class":"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(c("<div>",{"class":"zgs19_gsCalloutHeader",gs:"header"}).append(c("<div>",{"class":"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(c("<span>",{gs:"ctitle"}))).append(c("<div>",{"class":"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(c("<div>",{"class":"zgs19_gsCalloutActionMenu zgs19_gsDisplayNone zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(c("<div>",{"class":"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(c("<div>",{"class":"zgs19_gswmschat zgs19_gspendingZoho zgs19_gsResultsUniIcons zgs19_gsDisplayNone zgs19_gsfr",gs:"gswmspendzoho",title:h})).append(c("<div>",{"class":"zgs19_gswmschat zgs19_gspendingChat zgs19_gsResultsUniIcons zgs19_gsDisplayNone zgs19_gsfr",gs:"gswmspend",title:h})).append(c("<div>",{"class":"zgs19_gswmschat zgs19_gsinvitezoho zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfr",gs:"gswmsinvitezoho",title:f})).append(c("<div>",{"class":"zgs19_gswmschat zgs19_gsinviteChat zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfr",gs:"gswmsinvite",title:g})).append(c("<div>",{"class":"zgs19_gswmschat zgs19_gsContinueChat zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsDisplayNone zgs19_gsfr",gs:"gswmschat",title:i})).append(c("<div>",{id:"zgs20_gsContactsSentMail","class":"zgs19_gsCalloutComposeMail zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsfr",gs:"sendMail",title:e})))).append(c("<div>",{"class":"zgs19_gsCalloutFooter",gs:"calloutFooter"}).append(c("<div>",{"class":"zgs19_gsCalloutIconInfo zgs19_gsContactsCalloutIconInfo zgs19_gsCalloutIconBG zgs19_gsContactsCalloutIconHeight",gs:"iconHeight"}).append(c("<div>",{"class":"zgs19_gsContactsCalloutIconLeft",gs:"iconLeftHeight"})).append(c("<div>",{"class":"zgs19_gsDocsCalloutIconHolder",gs:"calloutIconHolder"})).append(c("<div>",{"class":"zgs19_gsContactsCalloutIconRight",gs:"iconRightHeight"})).append(c("<div>",{"class":"zgs19_gsPeopleCalloutIconHolder",gs:"PeopleMetaHolder"}).append(c("<div>",{"class":"zgs19_gsPeopleMetaHeaderNew zgs19_gsOverflow",gs:"peopleMetaHeader"})).append(c("<div>",{"class":"zgs19_gsPeopleMetaFooter zgs19_gsOverflow",gs:"peopleMetaFooter"})))).append(c("<div>",{"class":"zgs19_gscontPartHolderParent",gs:"contPartHolder"}).append(c("<div>",{"class":"zgs19_gscontPartHolder"}).append(c("<div>",{"class":"zgs19_gsCalloutDocsLeftPanel zgs19_gsfl"}).append(c("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(c("<div>",{"class":"zgs19_gsCalloutDocsRightPanel zgs19_gsfl",gs:"contactsCalloutData"})))));c("#zgs20_gsSearchResultRight").append(j)}c("#zgs20_gsContactsCallout").attr("ccount",b)},b.setContactsCalloutEleSize=function(a){var b=c(a.header).height(),d=c(a.iconHeight).height(),e=c("#zgs20_gsContactsCallout").height()-(b+d);e-=c(a.contPartHolder).outerHeight(!0)-c(a.contPartHolder).height(),c(a.contPartHolder).css("height",e+"px");var f=c(a.calloutFooter).width(),g=f/2-c(a.calloutIconHolder).width()/2;c(a.calloutIconHolder).css("margin-left",g+"px")},b.calloutResponse=function(e,f){var g=c(f).attr("service"),h=a.getTargetElem("zgs20_gsContactsCallout");a.setGSTagElems(h),a.setGSTagElems(f);var i=c(h).attr("ccount");c(h.lineicon).hide(),c(h.PeopleMetaHolder).hide(),c(h.contactsCalloutData).empty();var j=a.getI18NMsg("gs.search.sevice_contacts_mobile"),k=a.getI18NMsg("gs.search.result.support.callout.phone"),l=a.getI18NMsg("gs.search.result.contact.viewprofile_dialog.email_address"),m="",n=!1;c("#zgs20_gsContactsMoreOption").remove(),c(h.actionlist).hide(),c(h.actionPipe).hide(),c(".zgs19_gswmschat").hide(),c("#zgs20_gsContactsSentMail").hide(),c(h.ctitle).attr("service",g),c(h.ctitle).removeClass("zgs19_gsCalloutTitleLink");var o=e.zuid,p="",q=a.getUserStatus(o,"big"),r=q.name,s=q.status,t=d.cuz,u="zgs19_gsDocsCalloutIconHolder "+r;c(h.calloutIconHolder).attr("class",u),c(".zgs19_gswmschat").attr("chatid",o);var v="zgs20_gsContactsCalloutUserImg"+i;c(h.calloutIconHolder).empty().append(c("<img>",{id:v,"class":"zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader",src:a.gsspacer}));if(g===d.PEOPLE){var w=e.empFname||"";w=w+" "+e.empLname||"",w=w.trim(),c(h.ctitle).addClass("zgs19_gsCalloutTitleLink"),c(h.ctitle).empty().text(w).attr("title",w),c(h.contPartHolder).removeClass("zgs19_gsContactsCalloutcontPartHolder").addClass("zgs19_gsPeopleCalloutcontPartHolder"),c(h.iconHeight).removeClass("zgs19_gsContactsCalloutIconHeight").addClass("zgs19_gsPeopleCalloutIconHeight"),c(h.iconHeight).removeClass("zgs19_gsContactsCalloutIconInfo").addClass("zgs19_gsPeopleCalloutIconInfo"),c(h.iconLeftHeight).removeClass("zgs19_gsContactsCalloutIconLeft").addClass("zgs19_gsPeopleCalloutIconLeft"),c(h.iconRightHeight).removeClass("zgs19_gsContactsCalloutIconRight").addClass("zgs19_gsPeopleCalloutIconRight");var x=e.photo;x?(x.indexOf("/file?")!=-1?x+="&API=true":x=x.replace("/api/viewEmployeePhoto?","/viewPhoto?"),a.renderBigCalloutUserPhoto(v,x)):c("#"+v).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImg zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhoto");var y=e.deptname||"",z=e.desgname||"",A=z&&y?z+" | ":z;c(h.peopleMetaHeader).empty(),c(h.peopleMetaFooter).empty(),c(h.peopleMetaHeader).append(c("<p>",{"class":"zgs19_gsCalloutTitleLink zgs19_gsOverflow",gs:"peopleprofile",title:w}).text(w)).append(c("<button>",{id:"zgs20_gsPeopleStatus_"+o,"class":"zgs19_gsDisplayNone"})),c(h.peopleMetaFooter).append(c("<span>",{title:z}).text(A)).append(c("<span>",{"class":"zgs19_gsCalloutTitleLink",gs:"peopledept",title:y,style:"color: #2fa6ea;"}).text(y)),c(h.PeopleMetaHolder).show();var B=e.extn||"",C=e.empid||"";m=e.mailid||"";var D=e.mobile||e.phone||"",E=e.mobile?j:k,F=a.getI18NMsg("gs.search.service_people.extn"),G=a.getI18NMsg("gs.search.service_people.empid");a.renderContactsEmailId(h,h.contactsCalloutData,l,m),a.renderContactsInfo(h,h.contactsCalloutData,E,D),a.renderContactsInfo(h,h.contactsCalloutData,F,B),a.renderContactsInfo(h,h.contactsCalloutData,G,C);var H=e.deptmail||"",I=e.location||"";if(H||I)n=!0}else{var J=e.full_name||"";c(h.ctitle).empty().text(J).attr("title",J),c(h.contPartHolder).removeClass("zgs19_gsPeopleCalloutcontPartHolder").addClass("zgs19_gsContactsCalloutcontPartHolder"),c(h.iconHeight).removeClass("zgs19_gsPeopleCalloutIconHeight").addClass("zgs19_gsContactsCalloutIconHeight"),c(h.iconHeight).removeClass("zgs19_gsPeopleCalloutIconInfo").addClass("zgs19_gsContactsCalloutIconInfo"),c(h.iconLeftHeight).removeClass("zgs19_gsPeopleCalloutIconLeft").addClass("zgs19_gsContactsCalloutIconLeft"),c(h.iconRightHeight).removeClass("zgs19_gsPeopleCalloutIconRight").addClass("zgs19_gsContactsCalloutIconRight");var K=e.type;if(K==="personal")L=e.photo+"?API=true",a.renderBigCalloutUserPhoto(v,L);else if(o!=="-1"&&o!==undefined){var L=d.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+o+"&API=true";a.renderBigCalloutUserPhoto(v,L)}else c("#"+v).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImg zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhoto");m=e.email||"",a.renderContactsEmailId(h,h.contactsCalloutData,l,m),a.renderContactsInfo(h,h.contactsCalloutData,j,e.mobile||""),a.renderContactsInfo(h,h.contactsCalloutData,k,e.phone||"");var M=e.mDet;M==="true"&&(n=!0),b.contactsMoreInfo(e)&&(n=!0)}var N=m!="null"&&m!=""&&m!=null;if(N&&o!=t)if(g==d.PEOPLE){var O=e.issameorg||"";!isNaN(s)&&o&&o!="-1"&&(s=parseInt(s),O=="true"||s>=0?(p=o,c(h.gswmschat).show()):s==-1||s==-3?c(h.gswmspend).show():(s==-2||s==-4||s==-10)&&c(h.gswmsinvite).show())}else{var P=parseInt(e.status);o=="-1"?P==-11?c(h.gswmspendzoho).show():c(h.gswmsinvitezoho).show():P>=0?(p=o,c(h.gswmschat).show()):P==-1||P==-3?c(h.gswmspend).show():(P==-2||P==-4||P==-10)&&c(h.gswmsinvite).show()}b.addCalloutActionList(h,g,m,p),N&&(c(h.actionPipe).show(),c("#zgs20_gsContactsSentMail").show(),c("#zgs20_gsContactsSentMail").attr("email",m));if(n){var Q=a.getI18NMsg("gs.search.result.contact.viewprofile_dialog.more");c(h.contactsCalloutData).append(c("<div>",{id:"zgs20_gsContactsMoreOption","class":"zgs19_gsContactsMoreOption",gs:"contactsMoreHolder"}).append(c("<span>",{"class":"zgs19_gsContactsMoreOptionElem zgs19_gsCalloutTitleLink zgs19_gsOverflow zgs19_gsfr",service:g,gs:"contactsMore"}).text(Q+" ..."))),a.isZohoSearch&&c("[gs=contactsMore]").click()}a.curSelectedEle&&(a.hideCalloutLoader(),c(h).show()),c(h.contPartHolder).scrollTop(0),c(h.contPartHolder).scrollLeft(0),b.setContactsCalloutEleSize(h)},b.addCalloutActionList=function(e,f,g,h){c("#zgs20_gsCalloutActionList").empty().remove(),c(e.calloutActionHolder).append(c("<div>",{id:"zgs20_gsCalloutActionList","class":"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));var i=b.actionList;for(var j=0;j<i.length;j++){var k=i[j];for(var l in k){var m=a.getI18NMsg(k[l]);if(l=="open"&&d.PEOPLE!=f||l=="sendMail"&&!g||l=="pcontinue"&&!h)continue;if(!(l!="audio"&&l!="video"||!!h&&typeof VideoCallReceiver=="object"))continue;c(e.actionlist).show(),c("#zgs20_gsCalloutActionList").append(c("<div>",{"class":"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"contactsAcionList",value:l,email:g,chatid:h,service:f,title:m}).text(m))}}},b.contactsMoreInfo=function(c){var d=!1,e=c.web_url,f=c.email_ids,g=c.instant_ids,h=c.email?c.email:"";if(f){var i=a.jsonParse(f);b.objContainsEmailIds(i,h)&&(d=!0)}if(g&&g!=="{}"){var j=a.jsonParse(g);b.objContainsInstMsg(j)&&(d=!0)}if(e&&e!=="{}"){var k=a.jsonParse(e);b.objContainsWebUrl(k)&&(d=!0)}return d},b.objContainsEmailIds=function(a,b){var c=a.indexOf(b);return c>-1&&a.splice(c,1),a&&a.length>0?!0:!1},b.objContainsInstMsg=function(a){var b=a.Google?!0:!1,c=a.Yahoo?!0:!1,d=a.Skype?!0:!1,e=a.AOL?!0:!1,f=a.Msn?!0:!1,g=a.ICQ?!0:!1,h=a.Jabber?!0:!1,i=a.Other?!0:a[""]?!0:!1;return b||c||d||e||f||g||h||i},b.objContainsWebUrl=function(a){var b=a["Blog URL"]?!0:!1,c=a["Amazon URL"]?!0:!1,d=a["Company Web Address"]?!0:!1,e=a["Delicious URL"]?!0:!1,f=a["LinkedIn URL"]?!0:!1,g=a["Personal Web Address"]?!0:!1,h=a["Flickr URL"]?!0:!1,i=a.Others?!0:a[""]?!0:!1;return b||c||d||e||f||g||h||i},b.getPeopleMoreInfo=function(b){var d=a.getTargetElem("zgs20_gsContactsCallout");a.setGSTagElems(d),c("#zgs20_gsContactsMoreOption").remove();var e=a.getI18NMsg("gs.search.service_people.teamemail"),f=a.getI18NMsg("gs.search.service_people.seatinglocation");a.renderContactsInfo(d,d.contactsCalloutData,f,b.location||""),a.renderContactsEmailId(d,d.contactsCalloutData,e,b.deptmail||"")},b.getContactsMoreInfo=function(e){var f=e.type,g=e.contact_id,h=a.getTargetElem("zgs20_gsContactsCallout");a.setGSTagElems(h);var i="action=contactDetails&contactType="+f+"&contactId="+g+"&"+d.csrfName+"="+a.getCookie("CSRF_TOKEN"),j=c.ajax({type:"POST",url:a.sharedDocs,data:i,beforeSend:function(a){c("#zgs20_gsContactsMoreOption").empty().append(c("<span>",{"class":"zgs19_gsFetchImgLoader zgs19_gsContactsMoreFetchImg zgs19_gsfr"}))},success:function(d,f){c("#zgs20_gsContactsMoreOption").remove(),b.contactsMoreInfo(e)&&b.renderMoreInfo(h,e);if(d!="{}"&&d!="null"){var g=c.parseJSON(d),i=g.homeAddr?g.homeAddr:"";i!==""&&b.renderEmailORAddrInfo(h,"address",i,a.getI18NMsg("gs.search.result.contact.viewprofile_dialog.home_address"));var j=g.workAddr?g.workAddr:"";j!==""&&b.renderEmailORAddrInfo(h,"address",j,a.getI18NMsg("gs.search.result.contact.viewprofile_dialog.work_address"))}},error:function(a){c("#zgs20_gsContactsMoreOption").remove(),b.contactsMoreInfo(e)&&b.renderMoreInfo(h,e)}})},b.renderMoreInfo=function(d,e){var f=e.web_url,g=e.email_ids,h=e.instant_ids,i=e.email?e.email:"";c(d.lineicon).show();if(g){var j=a.jsonParse(g);b.objContainsEmailIds(j,i)&&b.renderEmailORAddrInfo(d,"email",j,a.getI18NMsg("gs.search.sevice_contacts_secondaryEmail"))}if(h&&h!=="{}"){var k=a.jsonParse(h);b.objContainsInstMsg(k)&&b.renderInstantMsgInfo(d,k)}if(f&&f!=="{}"){var l=a.jsonParse(f);b.objContainsWebUrl(l)&&b.renderWebUrlInfo(d,l)}},b.renderEmailORAddrInfo=function(a,b,d,e){if(d.length>0){var f=c("<div>",{"class":"zgs19_gsCalloutDocsUserInfo"}).append(c("<div>",{"class":"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(c("<span>",{title:e}).text(e)));for(var g=0;g<d.length;g++){var h=d[g],i=g+1===d.length?"":",";b==="address"?f.append(c("<div>",{"class":"zgs19_gsWidth100"}).append(c("<div>",{"class":"zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsfl"}).append(c("<span>",{title:h}).text(h+i)))):b==="email"&&f.append(c("<div>",{"class":"zgs19_gsWidth100"}).append(c("<a>",{"class":"zgs19_gsCalloutDocsAuthor zgs19_gsCurPointer zgs19_gsOverflowWrap zgs19_gsfl",href:"mailto:"+h,target:"_blank",title:h}).text(h+i)))}c(a.lineicon).show(),c(a.contactsCalloutData).append(f)}},b.renderInstantMsgInfo=function(b,c){var d=c.Google?c.Google:"",e=c.Yahoo?c.Yahoo:"",f=c.Skype?c.Skype:"",g=c.AOL?c.AOL:"",h=c.Msn?c.Msn:"",i=c.ICQ?c.ICQ:"",j=c.Jabber?c.Jabber:"",k=c.Other?c.Other:c[""]?c[""]:"";a.renderInstantORWebInfo(b,b.contactsCalloutData,"instant",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.google"),d),a.renderInstantORWebInfo(b,b.contactsCalloutData,"instant",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.yahoo"),e),a.renderInstantORWebInfo(b,b.contactsCalloutData,"instant",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.skype"),f),a.renderInstantORWebInfo(b,b.contactsCalloutData,"instant",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.aol"),g),a.renderInstantORWebInfo(b,b.contactsCalloutData,"instant",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.msn"),h),a.renderInstantORWebInfo(b,b.contactsCalloutData,"instant",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.icq"),i),a.renderInstantORWebInfo(b,b.contactsCalloutData,"instant",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.jabber"),j),a.renderInstantORWebInfo(b,b.contactsCalloutData,"instant",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.other"),k)},b.renderWebUrlInfo=function(b,c){var d=c["Personal Web Address"]?c["Personal Web Address"]:"",e=c["Company Web Address"]?c["Company Web Address"]:"",f=c["Blog URL"]?c["Blog URL"]:"",g=c["LinkedIn URL"]?c["LinkedIn URL"]:"",h=c.FACEBOOK_web?c.FACEBOOK_web:"",i=c.TWITTER_web?c.TWITTER_web:"",j=c["Amazon URL"]?c["Amazon URL"]:"",k=c["Flickr URL"]?c["Flickr URL"]:"",l=c["Delicious URL"]?c["Delicious URL"]:"";a.renderInstantORWebInfo(b,b.contactsCalloutData,"url",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.personal_webaddress"),d),a.renderInstantORWebInfo(b,b.contactsCalloutData,"url",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.company_webaddress"),e),a.renderInstantORWebInfo(b,b.contactsCalloutData,"url",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.blogurl"),f),a.renderInstantORWebInfo(b,b.contactsCalloutData,"url",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.linkedinurl"),g),a.renderInstantORWebInfo(b,b.contactsCalloutData,"url",a.getI18NMsg("gs.search.result.FacebookURL"),h),a.renderInstantORWebInfo(b,b.contactsCalloutData,"url",a.getI18NMsg("gs.search.result.TwitterURL"),i),a.renderInstantORWebInfo(b,b.contactsCalloutData,"url",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.amazonurl"),j),a.renderInstantORWebInfo(b,b.contactsCalloutData,"url",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.flickrurl"),k),a.renderInstantORWebInfo(b,b.contactsCalloutData,"url",a.getI18NMsg("gs.search.result.contact.menu.viewprofile_dialog.deliciousurl"),l)},b.fetchUserAvailability=function(c){var e=c.zuid||"";if(e&&!b.isUserStatusCached(e)){var f={argZuid:e},g="action=fetchUserAvailability&searchType="+d.PEOPLE+"&zuid="+e;a.uri(a.GET,a.servicesActionURL,g,f,function(c,d,e){try{var f=e.args||{},g=f.argZuid,h=a.jsonParse(c);h.hasOwnProperty("isUserAvailable")&&(b.user_availability.zuidList.push(g),b.user_availability.userObj[g]={response:h,time:(new Date).getTime()},b.renderUserAvailability(g,h))}catch(i){}})}},b.isUserStatusCached=function(a){var c=b.user_availability||{},d=c.userObj||{},e=c.zuidList||[],f=c.throshold,g=c.limit,h=Object.keys(d).length;h>=g&&(delete d[e[0]],e.splice(0,1));if(d.hasOwnProperty(a)){var i=d[a],j=i.time,k=(new Date).getTime()-j;if(k<f)return b.renderUserAvailability(a,i.response),!0;delete d[a];var l=e.indexOf(a);l!==-1?e.splice(l,1):""}return!1},b.renderUserAvailability=function(b,d){var e=a.getCurrentResObj(),f=e.zuid||"";if(f==b&&d.hasOwnProperty("isUserAvailable")){var g=d.isUserAvailable,h=g?"zgs19_gsPeopleStatusIn":"zgs19_gsPeopleStatusOut",i=g?"gs.search.service_people.status.in":"gs.search.service_people.status.out",j=a.getI18NMsg(i);c("#zgs20_gsPeopleStatus_"+b).removeClass("zgs19_gsDisplayNone").addClass(h+" zgs19_gsOverflow").text(j)}},b.setServiceEleSize=function(d,e){var f=a.getTargetElem("zgs20_gsContactsCallout");a.setGSTagElems(f),b.setContactsCalloutEleSize(f),c("#"+d).css("height",e+"px")},b}(undefined)}(zgssearch,window),function(a,b){var c=b.document,d=b._jQueryGS,e=a.getGSConstantObj()||{};a.gschat=function(b){return b=a.gschat||{},b.actionList=[{"continue":"gs.search.result.chat.viewtranscript_dialog.continue"}],b.getCalloutHolder=function(){return"zgs20_gsChatCallout"},b.calloutParams=function(a){return"searchType="+e.CHAT+"&chatId="+a.chat_id},b.createCalloutTemplate=function(b){var c=d("#zgs20_gsChatCallout").length;if(c<=0){var f=a.getI18NMsg("gs.search.sevice_prevmax"),g=a.getI18NMsg("gs.search.sevice_prevmin"),h=a.getI18NMsg("gs.search.result.chat.callout.with"),i=a.getI18NMsg("gs.search.result.chat.callout.started_by"),j=a.getI18NMsg("gs.search.result.chat.viewtranscript_dialog.continue"),k=d("<div>",{id:"zgs20_gsChatCallout","class":"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(d("<div>",{"class":"zgs19_gsCalloutHeader",gs:"header"}).append(d("<div>",{"class":"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsCalloutTitleLink",gs:"ctitle",service:e.CHAT}))).append(d("<div>",{"class":"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(d("<div>",{"class":"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(d("<div>",{"class":"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(d("<div>",{"class":"zgs19_gsContinueChat zgs19_gsResultsUniIcons zgs19_gsCurPointer zgs19_gsfr",gs:"continuechat",title:j})).append(d("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:f,gs:"maxpreview",service:e.CHAT})).append(d("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:g,gs:"minpreview",service:e.CHAT})))).append(d("<div>",{"class":"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(d("<div>",{"class":"zgs19_gsCalloutMetaHolder"}).append(d("<div>",{"class":"zgs19_gsCalloutUserPhoto"}).append(d("<div>",{"class":"zgs19_gsChatIconHolder",gs:"personal"}).append(d("<img>",{"class":"zgs19_gsFetchLoader",src:a.gsspacer,gs:"authorPhoto"}))).append(d("<div>",{"class":"zgs19_gsChatIconHolder",gs:"group"}))).append(d("<div>",{"class":"zgs19_gsCalloutMetaLeft"}).append(d("<div>",{"class":"zgs19_gsCalloutUserHeader"}).append(d("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(d("<span>",{gs:"startedBy",title:i}).text(i))).append(d("<div>",{"class":"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:55%"}).append(d("<span>",{gs:"owner"}))).append(d("<div>",{"class":"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:20%"}).append(d("<span>",{gs:"date"})))).append(d("<div>",{"class":"zgs19_gsCalloutUserHeader"}).append(d("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(d("<span>",{gs:"withtext",title:h}).text(h))).append(d("<div>",{"class":"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:70%"}).append(d("<span>",{gs:"partCount"}))))))).append(d("<div>",{"class":"zgs19_gsCalloutFooter zgs19_gsChatCalloutFooter",gs:"calloutFooter"}).append(d("<div>",{"class":"zgs19_gsWidth100 zgs19_gsVerticalScroll",gs:"chatcontent"})));d("#zgs20_gsSearchResultRight").append(k)}d("#zgs20_gsChatCallout").attr("ccount",b)},b.setChatCalloutEleSize=function(a){var b=d(a.header).height(),c=d(a.metaInfo).height(),e=d("#zgs20_gsChatCallout").height()-(b+c);d(a.calloutFooter).css("height",e+"px")},b.calloutResponse=function(c,f,g){if(c&&c!=="null"){var h=a.getTargetElem("zgs20_gsChatCallout");a.setGSTagElems(h),a.setGSTagElems(g);var i=d(h).attr("ccount"),j=f.title||"";d(h.ctitle).empty().text(j).attr("title",j);var k=e.cuz,l=f.ownerid||"",m=a.getI18NMsg("gs.search.result.chat.callout.me"),n=f.display_name?f.display_name:"-";n=l==k?m:n,d(h.owner).empty().text(n).attr("title",n);var o=f.display_time?f.display_time:"-",p=a.getI18NMsg("gs.search.result.lastReplied")+" : "+o;d(h.date).empty().text(o).attr("title",p),d(h.personal).show(),d(h.group).hide(),d(h.authorPhoto).attr("src",a.gsspacer),d(h.authorPhoto).attr("class","zgs19_gsFetchLoader");var q="zgs20_gsChatCalloutUserImg"+i;d(h.authorPhoto).attr("id",q);var r={},s=0,t=0;f.hasOwnProperty("participants_count")&&(s=parseInt(f.participants_count)),f.hasOwnProperty("recent_participants")&&(r=a.jsonParse(f.recent_participants),t=Object.keys(r).length);if(s>2&&t>0||t===2&&!r.hasOwnProperty(k)){var u=s+" "+a.getI18NMsg("gs.search.result.chat.callout.participants");d(h.partCount).empty().text(u).attr("title",u),b.loadChatParticipantsImages(h,r,g,i)}else{var v=j,w="";if(typeof r=="object")for(var x in r)w=x,v=r[x];d(h.partCount).empty().text(v).attr("title",v);var y=d(g.gsUserPhoto).attr("group"),z=d(g.gsUserPhoto).attr("calloutphoto");a.renderCalloutUserPhoto(q,z,y),d(h.personal).attr("class","zgs19_gsChatIconHolder");if(y!="true"&&w!=="-1"&&w!==undefined){var A=a.getUserStatus(w),B=A.name?A.name:"";d(h.personal).attr("class","zgs19_gsChatIconHolder "+B)}}d(h.chatcontent).empty(),b.formatChatContentData(h.chatcontent,c),b.formatChatURLAndHREF(h.chatcontent),d(h.maxpreview).show(),d(h.minpreview).hide(),a.curSelectedEle&&(a.hideCalloutLoader(),d(h).show()),b.addCalloutActionList(h),b.setChatCalloutEleSize(h),d(h.calloutFooter).scrollLeft(0),d(h.calloutFooter).scrollTop(d(h.calloutFooter)[0].scrollHeight)}else b.calloutErrorMsg()},b.addCalloutActionList=function(c){d("#zgs20_gsCalloutActionList").empty().remove(),d(c.calloutActionHolder).append(d("<div>",{id:"zgs20_gsCalloutActionList","class":"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));var f=b.actionList;for(var g=0;g<f.length;g++){var h=f[g];for(var i in h){var j=a.getI18NMsg(h[i]);d("#zgs20_gsCalloutActionList").append(d("<div>",{"class":"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"chatAcionList",value:i,service:e.CHAT,title:j}).text(j))}}},b.formatChatContentData=function(c,f){var g=0,h="";d(f).each(function(){var f=this,i=d(f).attr("class");if(i==="upfilediv")h="",d(c).append(f);else if(i==="upfilediv-img"){h="";var j=d(f).find("div"),k=d(f).find("a"),l=d(f).find("img"),m=d(f).find("label")[1],n=d(j).text(),o=d(m).text(),p=d(k).attr("href"),q=d(l).attr("src"),r="zgs19_"+a.getFileImageClass(n),s=a.getDocResTT(r);d(l).attr("src",e.GS_CHAT_URL+q),d(c).append(d("<div>",{"class":"upfilediv-img zgs19_gsBorderBox"}).append(d("<div>",{"class":"upfilediv-imgDiv zgs19_gsfl zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons "+r,title:s,gs:"resultMenuItem"}))).append(d("<div>",{"class":"upfilediv-imgName zgs19_gsfl zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:e.CHAT,url:e.GS_CHAT_URL+p,gs:"contactsurl",title:n}).text(n))).append(d("<div>",{"class":"upfilediv-imgName upfilediv-imgSize zgs19_gsfl zgs19_gsOverflow"}).text(o)))}else if(i==="msghead"){h="";var t=d(f).find("span").text()||"",u=d(f).find("div.sender").text()||"",v=d(f).find("div.wmsempty").text()||"",w="",x="";if(t!==""){w=t;var y=t.split(",");y.length===1&&(x=y[0],x=x?x.trim():"");if(y.length===3){var z=y[1];z=z?z.trim():"",x=y[2],x=x?x.trim():"",d(c).append(d("<div>",{"class":"zgs19_gsChatDateField"}).append(d("<span>",{"class":"zgs19_gsChatDateContent"}).text(z)))}}var A=u.trim();A=A.substring(0,A.length-1).trim(),e.cuz==v&&(A=a.getI18NMsg("gs.search.result.chat.callout.me")),d(c).append(d("<div>",{"class":"zgs19_gsChatSenderField"}).text(A).append(d("<span>",{"class":"zgs19_gsChatCalloutTime zgs19_gsfr",title:w}).text(x)))}else if(i==="msgtxt"){var B=d(f).html()||"",C=b.getMsgType(B);d(f).empty().append(C),h==""&&(g++,h="zgs20_gsChatMsgContent"+g,d(c).append(d("<div>",{id:h,"class":"zgs19_gsChatMsgContent"}))),d("#"+h).append(f)}})},b.getMsgType=function(b){try{b=" "+b;var c=/([a-z0-9]([a-z0-9_\-\.]*)@([a-z0-9_\-\.]*)(\.[a-z]{2,3}(\.[a-z]{2}){0,2}))/gi,d=new RegExp("([^(href|src)=\"'])((("+a.httptxt+"(s){0,1}://))([^ <\n]*))","gi"),e=/([^(href|src|\/\/)"'=])((www\.)([^ <\n]*))/gi,f=/(^|\ )(([\w\d-]+\.)+(com|org|net|int|edu|gov|mil|info|biz))(?=( |$))/gi,g=/(^|\ )(([\w\d-]+\.)+((?!js|cp)[a-z]){2})(?=( |$))/gi;b=b.replace(c,"<a href='mailto:$1'>$1</a>"),b=b.replace(d,"$1<a href='$2' target='_blank'>$2</a>"),b=b.replace(e,"$1<a href='"+a.httptxt+"://$2' target='_blank'>$2</a>"),b=b.replace(g,"$1<a href='"+a.httptxt+"://$2' target='_blank'>$2</a>"),b=b.replace(f,"$1<a href='"+a.httptxt+"://$2' target='_blank'>$2</a>"),b=Smiley.replace(b)}catch(h){}return b},b.formatChatURLAndHREF=function(a){d(a).find("img").each(function(){var a=d(this).attr("src");a.indexOf("/")===0&&d(this).attr("src",e.GS_CHAT_URL+a)})},b.loadChatParticipantsImages=function(f,g,h,i){try{var j=0,k=0,l=Object.keys(g).length,m=c.addEventListener?"":"on",n=c.addEventListener?"addEventListener":"attachEvent";for(var o in g){var p=new Image;p.className="zgs19_Non",p.title=g[o],p.id="zgs20_chatParticipantsImg"+j+i,p.src=e.GS_CONTACTS_URL+"/file?ID="+o+"&exp=600&t=user&width=80&height=80&API=true",j++,f.appendChild(p),p[n](m+"load",function(){k+=1,b.loadRecentParticipantsIcons(f,h,l,i,k)},!0),p[n](m+"error",function(){d(this).attr("src",a.noUserPhoto)},!0)}}catch(q){}},b.loadRecentParticipantsIcons=function(b,c,e,f,g){if(e===g){d(b.group).empty();if(e===2){var h=d("#zgs20_chatParticipantsImg0"+f),i=d("#zgs20_chatParticipantsImg1"+f);d(b.group).append(d("<img>",{"class":"zgs19_gsParticipants2a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:h.attr("title"),src:h.attr("src")})).append(d("<img>",{"class":"zgs19_gsParticipants2b zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:i.attr("title"),src:i.attr("src")}))}else if(e===3){var h=d("#zgs20_chatParticipantsImg0"+f),i=d("#zgs20_chatParticipantsImg1"+f),j=d("#zgs20_chatParticipantsImg2"+f);d(b.group).append(d("<img>",{"class":"zgs19_gsParticipants3a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:h.attr("title"),src:h.attr("src")})).append(d("<img>",{"class":"zgs19_gsParticipants3b zgs19_chatGroup3 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:i.attr("title"),src:i.attr("src")})).append(d("<img>",{"class":"zgs19_gsParticipants3c zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:j.attr("title"),src:j.attr("src")}))}else if(e>=4){var h=d("#zgs20_chatParticipantsImg0"+f),i=d("#zgs20_chatParticipantsImg1"+f),j=d("#zgs20_chatParticipantsImg2"+f),k=d("#zgs20_chatParticipantsImg3"+f);d(b.group).append(d("<img>",{"class":"zgs19_gsParticipants4a zgs19_chatGroup1 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:h.attr("title"),src:h.attr("src")})).append(d("<img>",{"class":"zgs19_gsParticipants4b zgs19_chatGroup4 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:i.attr("title"),src:i.attr("src")})).append(d("<img>",{"class":"zgs19_gsParticipants4c zgs19_chatGroup3 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:j.attr("title"),src:j.attr("src")})).append(d("<img>",{"class":"zgs19_gsParticipants4d zgs19_chatGroup2 zgs19_gsParticipantsImgNew zgs19_FltLeft",title:k.attr("title"),src:k.attr("src")}))}a.curSelectedEle==c&&(d(b.personal).hide(),d(b.group).show()),d("#zgs20_chatParticipantsImg0"+f).remove(),d("#zgs20_chatParticipantsImg1"+f).remove(),d("#zgs20_chatParticipantsImg2"+f).remove(),d("#zgs20_chatParticipantsImg3"+f).remove(),d("#zgs20_chatParticipantsImg4"+f).remove()}},b.calloutErrorMsg=function(b){if(a.curSelectedEle){a.hideCalloutLoader();var c=b==="ERROR"?a.getI18NMsg("gs.search.error.generic_error_messege"):a.getI18NMsg("gs.search.result.chat.status.callout.errortext");d("#zgs20_gsCalloutErrorPage").text(c),d("#zgs20_gsCalloutErrorPage").show()}},b.setServiceEleSize=function(c,e){var f=a.getTargetElem("zgs20_gsChatCallout");a.setGSTagElems(f),b.setChatCalloutEleSize(f),d("#"+c).css("height",e+"px")},b}(undefined)}(zgssearch,window),function(a,b){var c=b.document,d=b._jQueryGS,e=a.getGSConstantObj()||{};a.gssupport=function(c){return c=a.gssupport||{},c.actionList=[{open:"gs.search.result.mail.open"}],c.getCalloutHolder=function(){return"zgs20_gsSupportCallout"},c.calloutParams=function(b){var c=b.MODE,d=b.doc_id,f=b.module_id,g=b.DEP_NAME,h=a.getFilterInfo(e.SUPPORT,"portals","dispname"),i=a.getFilterInfo(e.SUPPORT,"portals","current"),j="searchType="+e.SUPPORT+"&portal="+h+"&department="+g+"&id="+d+"&module="+f+"&portalId="+i;return f==="1"&&c!==undefined&&c!=="null"&&(j+="&mode="+c),b.hasOwnProperty("ATTACHMENT_NAMES")&&(j+="&hasAttach=true"),j},c.createCalloutTemplate=function(b){var c=d("#zgs20_gsSupportCallout").length;if(c<=0){var f=a.getI18NMsg("gs.search.sevice_prevmax"),g=a.getI18NMsg("gs.search.sevice_prevmin"),h=d("<div>",{id:"zgs20_gsSupportCallout","class":"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(d("<div>",{"class":"zgs19_gsCalloutHeader",gs:"header"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:e.SUPPORT,gs:"moveToAttachArea"})).append(d("<div>",{"class":"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsCalloutTitleLink",gs:"ctitle",service:e.SUPPORT}))).append(d("<div>",{"class":"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(d("<div>",{"class":"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(d("<div>",{"class":"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(d("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:f,gs:"maxpreview",service:e.SUPPORT})).append(d("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:g,gs:"minpreview",service:e.SUPPORT})))).append(d("<div>",{"class":"zgs19_gsCalloutFooter",gs:"footer1"}).append(d("<div>",{id:"zgs20_gsCalloutMetaInfo","class":"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo1"}).append(d("<div>",{"class":"zgs19_gsCalloutMetaHolder"}).append(d("<div>",{"class":"zgs19_gsCalloutUserPhoto"}).append(d("<div>",{"class":"zgs19_gsChatIconHolder"}).append(d("<img>",{"class":"zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg",src:a.gsspacer})))).append(d("<div>",{"class":"zgs19_gsCalloutMetaLeft"}).append(d("<div>",{"class":"zgs19_gsCalloutUserHeader zgs19_gsfl"}).append(d("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%;"}).append(d("<span>",{gs:"slabel"}))).append(d("<div>",{"class":"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:50%;"}).append(d("<span>",{gs:"sender"}))).append(d("<div>",{"class":"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:30%;"}).append(d("<span>",{gs:"date"})))).append(d("<div>",{"class":"zgs19_gsCalloutUserHeader zgs19_gsfl"}).append(d("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%;"}).append(d("<span>",{gs:"rlabel"}))).append(d("<div>",{"class":"zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsCurPointer zgs19_gsfl",style:"max-width:50%;",gs:"CalloutEditFields"}).append(d("<span>",{"class":"zgs19_gsOverflow zgs19_gsfl",style:"max-width:90%;",gs:"receiver"})).append(d("<div>",{"class":"zgs19_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsfl",gs:"CalloutEditFields_icon"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsBorderBox zgs19_gsfr"})))).append(d("<div>",{"class":"zgs19_gsCalloutDiskStatusNew zgs19_gsOverflow zgs19_gsfr",gs:"rfolderHolder",style:"max-width:30%;"}).append(d("<span>",{"class":"zgs19_gsDeskStatusIcon zgs19_gsResultsUniIcons zgs19_gsfl"})).append(d("<span>",{gs:"rfolder"})))).append(d("<div>",{"class":"zgs19_gsCalloutUserHeader zgs19_gsfl",gs:"ticket_third_row"}).append(d("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:15%;"}).append(d("<span>",{gs:"duelabel"}))).append(d("<div>",{id:"zgs20_gsTicketDueDate","class":"zgs19_gsDeskTicketArrowElem zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsEditFieldsUline zgs19_gsCurPointer zgs19_gsfl",style:"max-width:45%;",datatype:"dueDateChange",gs:"ticketAction"}).append(d("<span>",{"class":"zgs19_gsOverflow zgs19_gsfl",style:"max-width:90%;",gs:"duevalue"})).append(d("<div>",{"class":"zgs19_gsModuleFilterElemIcon zgs19_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsfl zgs19_gsVisibleHidden",gs:"ticketDuedate_icon"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsBorderBox zgs19_gsfr"})))).append(d("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:15%;"}).append(d("<span>",{gs:"statuslabel"}))).append(d("<div>",{id:"zgs20_gsTicketStatus","class":"zgs19_gsCalloutUserValue zgs19_gsEditFieldsNameHolder zgs19_gsDDBTrans zgs19_gsfl",style:"max-width:25%;",datatype:"statusChange",gs:"ticketAction"}).append(d("<span>",{"class":"zgs19_gsOverflow zgs19_gsfl",style:"max-width:90%",gs:"statusvalue"})).append(d("<div>",{"class":"zgs19_gsModuleFilterDownIcon zgs19_gsBorderBox zgs19_gsVisibleHidden zgs19_gsfl",gs:"ticketStatus_icon"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsBorderBox zgs19_gsfr"})))))))).append(d("<div>",{id:"zgs20_gsSupportCalloutFooter","class":"zgs19_gsCalloutFooterHolder zgs19_gsSupportCalloutFooter",gs:"supportcalloutFooter1"}).append(d("<div>",{"class":"zgs19_gsCalloutContentInfo",gs:"contentHolder"})).append(d("<div>",{id:"zgs20_gsSupportCalloutAttachInfo","class":"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})))).append(d("<div>",{"class":"zgs19_gsCalloutFooter",gs:"footer2"}).append(d("<div>",{"class":"zgs19_gsCalloutIconInfo zgs19_gsSupportCalloutIconInfo zgs19_gsCalloutIconBG zgs19_gsSupportCalloutIconHeight",gs:"metaInfo2"}).append(d("<div>",{"class":"zgs19_gsSupportCalloutIconLeft"})).append(d("<div>",{"class":"zgs19_gsDocsCalloutIconHolder",gs:"calloutIconHolder"})).append(d("<div>",{"class":"zgs19_gsSupportCalloutIconRight"}))).append(d("<div>",{"class":"zgs19_gscontPartHolder zgs19_gsSupportCalloutcontPartHolder zgs19_gsSupportCalloutFooter",gs:"supportcalloutFooter2"}).append(d("<div>",{"class":"zgs19_gsCalloutDocsLeftPanel zgs19_gsfl"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsCalloutlineIcon zgs19_gsfl zgs19_gsDisplayNone",gs:"lineicon"}))).append(d("<div>",{"class":"zgs19_gsCalloutDocsRightPanel zgs19_gsfl",gs:"supportCalloutData"}))));d("#zgs20_gsSearchResultRight").append(h)}d("#zgs20_gsSupportCallout").attr("ccount",b)},c.setSupportCalloutEleSize=function(a){var b=d(a.footer1).is(":visible")?"supportcalloutFooter1":"supportcalloutFooter2",c=d(a.header).height(),e=d(a.footer1).is(":visible")?d(a.metaInfo1).height():d(a.metaInfo2).height()+(d(a[b]).outerHeight(!0)-d(a[b]).height()),f=d("#zgs20_gsSupportCallout").height()-(c+e);d(a[b]).css("height",f+"px");var g=d(a[b]).width(),h=g/2-d(a.calloutIconHolder).width()/2;d(a.calloutIconHolder).css("margin-left",h+"px")},c.calloutResponse=function(b,f,g,h){var i=a.getTargetElem("zgs20_gsSupportCallout");a.setGSTagElems(i),a.setGSTagElems(g);var j=f.module_id;h=h||{},b=b||{};var k="";h.updateRecord&&(!b||b.hasOwnProperty("error"))&&(k=h.owner.name,c.calloutRespData.assigneeId=h.owner.id=="Unassigned"?"null":h.owner.id,b=c.calloutRespData),c.calloutRespData=b;var l=d(i).attr("ccount");d(i.footer1).hide(),d(i.footer2).hide(),d(i.attachHolder).hide(),d(i.attachHolder).empty(),d(i.moveToAttachArea).hide(),d(i.actionPipe).hide(),d(i.maxpreview).hide(),d(i.minpreview).hide(),d(i.CalloutEditFields_icon).addClass("zgs19_gsVisibleHidden"),d(i.CalloutEditFields).attr("datatype",""),d(i.CalloutEditFields).removeClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer");if(j=="1"||j=="2")if(b)if(b.hasOwnProperty("result")){d(i.footer1).show(),d(i.rfolderHolder).show(),d(i.ticket_third_row).hide(),d(i.contentHolder).empty(),d(i.metaInfo1).css("minHeight",70),d(i.metaInfo1).css("maxHeight",95);var m="",n=b.result,o=n.Status?n.Status:"";if(j==="1"){m=f.CASENUMBER+" - "+f.support_title,d(i.ctitle).empty().text(m).attr("title",m);var p=a.getI18NMsg("gs.search.result.support.from"),q=n.Email&&n.Email!="null"?n.Email:f.CONTACTNAME;d(i.slabel).empty().text(p).attr("title",p),d(i.sender).empty().text(q).attr("title",q),d(i.date).empty().text(f.display_time).attr("title",f.display_time);var r=n["Case Owner"],s=a.getI18NMsg("gs.search.result.support.callout.assignto"),t=a.getI18NMsg("gs.search.result.support.callout.Unassigned"),u=a.getI18NMsg("gs.search.result.support.callout.Notassigned"),v=r==t&&b.assigneeId=="null"?u:r;d(i.rlabel).empty().text(s).attr("title",s),d(i.receiver).empty().text(v).attr("title",v),d(i.rfolder).empty().text(o).attr("title",o);var w="",x="";d(i.rfolderHolder).hide(),d(i.ticket_third_row).show();var y=b.statusType?b.statusType:"";if(y=="Closed")x=a.getI18NMsg("gs.search.result.support.callout.closedtime"),w=b.disp_closeTime?b.disp_closeTime:"",d("#zgs20_gsTicketDueDate").attr("datatype",""),d("#zgs20_gsTicketDueDate").removeClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),d(i.ticketDuedate_icon).addClass("zgs19_gsVisibleHidden").removeClass("zgs19_gsModuleFilterElemIcon");else{d("#zgs20_gsTicketDueDate").attr("datatype","dueDateChange"),d("#zgs20_gsTicketDueDate").addClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer"),d(i.ticketDuedate_icon).removeClass("zgs19_gsVisibleHidden").addClass("zgs19_gsModuleFilterElemIcon"),x=a.getI18NMsg("gs.search.result.support.callout.duedate"),w=b.disp_dueDate?b.disp_dueDate:"",w=w&&w!="null"?w:a.getI18NMsg("gs.search.result.support.callout.noduedate");var z=b.key_dueDate?b.key_dueDate:"",A=z&&z!="null"?z:undefined;a.curDatePickerObj={service:e.SUPPORT,key:"date",soid:"duedate",fromdate:A}}d(i.duelabel).empty().text(x).attr("title",x),d(i.duevalue).empty().text(w).attr("title",w),d(i.statuslabel).empty().text("status").attr("title","status"),d(i.statusvalue).empty().text(o).attr("title",o);var B=n.Description||"",C=b.actualContent||"";if(B&&B!="null"||C&&C!="null")C&&C!="null"?d(i.contentHolder).append(C):B&&B!="null"&&d(i.contentHolder).append(B),a.preventStylesFromParentDomain(d(i.contentHolder)),c.loadDeskImagesWithDomain(i.contentHolder);c.addChangeOwnerOption(i,b),c.addEventForDeskArrow(),a.gsv=="v19_5"&&(a.hasDatePicker=!1),a.hasDatePicker?a.addDeskDueDatePickerOption():a.loadDatePicker(e.SUPPORT,a.addDeskDueDatePickerOption)}else{m=f.support_title||"",d(i.ctitle).empty().text(m).attr("title",m);var D=n["Created By"]||"-",p=a.getI18NMsg("gs.search.result.callout.createdby");d(i.slabel).empty().text(p).attr("title",p),d(i.sender).empty().text(D).attr("title",D),d(i.date).empty().text(f.display_time).attr("title",f.display_time);var E=f.TOPIC_NAME||"",F=a.getI18NMsg("gs.search.result.support.in");d(i.rlabel).empty().text(F).attr("title",F),d(i.receiver).empty().text(E).attr("title",E),d(i.rfolder).empty().text(o).attr("title",o),n.Answer!=="null"&&(d(i.contentHolder).append(n.Answer),a.preventStylesFromParentDomain(d(i.contentHolder)),c.loadDeskImagesWithDomain(i.contentHolder))}if(b.hasOwnProperty("attach")){var G=b.attach||[],H=b.threadId||"",I=G.length;if(I>0){var J=I+" "+a.getI18NMsg("gs.search.result.mail.callout.attachments");d(i.attachHolder).append(d("<div>",{"class":"zgs19_gsCalloutAttachHeader"}).append(d("<span>",{title:J}).text(J)));for(var K=0;K<I;K++){var L=G[K],M=a.replaceHTMLEntity(L.name),N="zgs19_"+a.getFileImageClass(M),O=a.getDocResTT(N);d(i.attachHolder).append(d("<div>",{"class":"zgs19_gsCalloutAttachFooter"}).append(d("<div>",{"class":"zgs19_gsCalloutAttachImage"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons "+N,title:O,gs:"resultMenuItem"}))).append(d("<div>",{"class":"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:e.SUPPORT,downloadUrl:L.downloadUrl||"",tId:H,aId:L.id||L.resourceId,gs:"attachtitle",title:M}).text(M))).append(d("<div>",{"class":"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(d("<span>").text(a.convertToKBMB(L.size)))))}d(i.moveToAttachArea).show(),d(i.attachHolder).show()}}d(i.actionPipe).show(),d(i.maxpreview).show(),d(i.minpreview).hide();var P=a.getCurrentResObj();P.doc_id==f.doc_id&&(a.hideCalloutLoader(),d(i).show()),d(i.supportcalloutFooter1).scrollTop(0),d(i.supportcalloutFooter1).scrollLeft(0),c.addCalloutActionList(i)}else c.calloutErrorMsg();else c.calloutErrorMsg();else if(j=="3"||j=="4"){d(i.lineicon).hide(),d(i.supportCalloutData).empty(),d(i.footer2).show();var Q=f.support_title||"";d(i.ctitle).empty().text(Q).attr("title",Q);var R=j=="3"?"zgs19_gsSuppContactsPhoto":"zgs19_gsSuppAccountPhoto";d(i.calloutIconHolder).empty().append(d("<img>",{id:"zgs20_gsSupportCalloutUserImg"+l,"class":"zgs19_gsResultsUniIcons "+R,src:a.gsspacer}));var S=a.getI18NMsg("gs.search.sevice_contacts_mobile"),T=a.getI18NMsg("gs.search.result.support.callout.phone"),U=a.getI18NMsg("gs.search.result.contact.viewprofile_dialog.email_address"),V=a.getI18NMsg("gs.search.result.support.callout.weburl");a.renderContactsEmailId(i,i.supportCalloutData,U,f.EMAIL||""),a.renderContactsInfo(i,i.supportCalloutData,S,f.MOBILE||""),a.renderContactsInfo(i,i.supportCalloutData,T,f.PHONE||"");var W=f.WEBSITE||"";if(W){var X=[];X.push(W),a.renderInstantORWebInfo(i,i.supportCalloutData,"url",V,X)}var Y="",Z="",$="",_="",ba="";j==="3"&&(Y=f.MAILINGSTREET,Z=f.MAILINGCITY,$=f.MAILINGSTATE,_=f.MAILINGCOUNTRY,ba=f.MAILINGZIP),j==="4"&&(Y=f.BILLINGSTREET,Z=f.BILLINGCITY,$=f.BILLINGSTATE,_=f.BILLINGCOUNTRY,ba=f.BILLINGZIP);var bb=a.getI18NMsg("gs.search.result.support.callout.street"),bc=a.getI18NMsg("gs.search.result.support.callout.city"),bd=a.getI18NMsg("gs.search.result.support.callout.state"),be=a.getI18NMsg("gs.search.result.support.callout.country"),bf=a.getI18NMsg("gs.search.result.support.callout.zip");a.renderContactsInfo(i,i.supportCalloutData,bb,Y),a.renderContactsInfo(i,i.supportCalloutData,bc,Z),a.renderContactsInfo(i,i.supportCalloutData,bd,$),a.renderContactsInfo(i,i.supportCalloutData,be,_),a.renderContactsInfo(i,i.supportCalloutData,bf,ba),a.curSelectedEle&&(a.hideCalloutLoader(),d(i).show()),d(i.supportCalloutData).scrollTop(0),d(i.supportCalloutData).scrollLeft(0),c.addCalloutActionList(i)}c.setSupportCalloutEleSize(i)},c.addCalloutActionList=function(b){d("#zgs20_gsCalloutActionList").empty().remove(),d(b.calloutActionHolder).append(d("<div>",{id:"zgs20_gsCalloutActionList","class":"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));var f=c.actionList;for(var g=0;g<f.length;g++){var h=f[g];for(var i in h){var j=a.getI18NMsg(h[i]);d("#zgs20_gsCalloutActionList").append(d("<div>",{"class":"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"supportAcionList",value:i,service:e.SUPPORT,title:j}).text(j))}}},c.addChangeOwnerOption=function(b,f){var g=c.isAgentsExists(),h=f.assigneeId||"null",i=a.getFilterInfo(e.SUPPORT,"portals","current"),j=a.getFilterInfo(e.SUPPORT,"modules","unusedModData");if(j.hasOwnProperty(i)){var k=j[i],l=k["1_co"]||!1,m=k["1_uco"]||!1;if(l==1||m==1&&(h==null||h=="null"))c.assigneeId=h||"",d(b.CalloutEditFields_icon).removeClass("zgs19_gsVisibleHidden"),d(b.CalloutEditFields).attr("datatype","deskOwnerChange"),d(b.CalloutEditFields).addClass("zgs19_gsEditFieldsUline zgs19_gsCurPointer")}},c.addEventForDeskArrow=function(){d("#zgs20_gsSupportCallout .zgs19_gsDeskTicketArrowElem").off().on({mousemove:function(){var a=d(this).attr("gs");a=="ticketAction"&&d(this).find(".zgs19_gsModuleFilterElemIcon").removeClass("zgs19_gsVisibleHidden")},mouseleave:function(){var b=d(this).attr("gs");!a.isDatePickerDisplay&&b=="ticketAction"&&d(this).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden")}})},c.isAgentsExists=function(){var b=a.getFilterInfo(e.SUPPORT,"departments","current"),c=a.getFilterInfo(e.SUPPORT,"portals","current"),d=a.gsusercontacts.getSupportContactsObj(c,b),f=Object.keys(d).length;return f>0?!0:!1},c.getUrlModuleName=function(a){switch(a){case"1":return"Cases";case"2":return"Solutions";case"3":return"Contacts";case"4":return"Accounts"}},c.getPortalId=function(b){var c=a.getFilterInfo(e.SUPPORT,"portals","data");for(var d in c){var f=c[d];if(f==b)return d}return""},c.getModuleName=function(b){var c=a.getFilterInfo(e.SUPPORT,"modules","data"),d=a.getFilterInfo(e.SUPPORT,"portals","current");if(c.hasOwnProperty(d)){var f=c[d];if(f.hasOwnProperty(b))return f[b]}return""},c.moveToViewPort=function(){a.moveToViewPort("zgs20_gsSupportCalloutFooter","zgs20_gsSupportCalloutAttachInfo")},c.downloadAttachment=function(f){var g=d(f).attr("downloadUrl");if(g&&g!="")b.open(g);else{var h=d(f).text(),i=d(f).attr("aId"),j=d(f).attr("tId"),k=a.getCurrentResObj(),l=k.doc_id,m=a.getFilterInfo(e.SUPPORT,"portals","dispname"),n=c.getPortalId(m),o="searchType="+e.SUPPORT+"&id="+l+"&portalId="+n+"&threadId="+j+"&attachId="+i+"&atName="+h;b.open(a.attachmentURL+"?"+o)}},c.loadDeskImagesWithDomain=function(a){d(a).find("img").each(function(){var a=d(this).attr("src");a&&a.indexOf("/ImageDisplayZSupportAPI?")!=-1&&(a=a.replace("/ImageDisplayZSupportAPI?","/ImageDisplayZSupport?"),d(this).attr("src",a))}),d(a).find("a").each(function(){var a=d(this).attr("href");if(a&&a.indexOf("http")!=0&&a.indexOf("mailto:")!=0){var b=a.indexOf("/")==0?"":"/";d(this).attr("href","https://"+e.GS_SUPPORT_URL+b+a)}})},c.calloutErrorMsg=function(b){if(a.curSelectedEle){a.hideCalloutLoader();var c=b==="ERROR"?a.getI18NMsg("gs.search.error.generic_error_messege"):a.getI18NMsg("gs.search.result.support.status.callout.errortext");d("#zgs20_gsCalloutErrorPage").text(c),d("#zgs20_gsCalloutErrorPage").show()}},c.setServiceEleSize=function(b,e){var f=a.getTargetElem("zgs20_gsSupportCallout");a.setGSTagElems(f),c.setSupportCalloutEleSize(f),d("#"+b).css("height",e+"px")},c}(undefined)}(zgssearch,window),function(a,b){var c=b.document,d=b._jQueryGS,e=a.getGSConstantObj()||{};a.gsconnect=function(f){return f=a.gsconnect||{},f.actionList=[{open:"gs.search.result.mail.open"}],f.getCalloutHolder=function(){return"zgs20_gsConnectCallout"},f.calloutParams=function(b){var c=b.type=="FORUMS"?b.type:"FEEDS";return"searchType="+e.CONNECT+"&streamId="+b.id+"&networkId="+a.pulseNetworkId+"&ctype="+c},f.createCalloutTemplate=function(b){var c=d("#zgs20_gsConnectCallout").length;if(c<=0){var f=a.getI18NMsg("gs.search.sevice_prevmax"),g=a.getI18NMsg("gs.search.sevice_prevmin"),h=d("<div>",{id:"zgs20_gsConnectCallout","class":"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(d("<div>",{"class":"zgs19_gsCalloutHeader",gs:"header"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:e.CONNECT,gs:"moveToAttachArea"})).append(d("<div>",{"class":"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsCalloutTitleLink",gs:"ctitle",service:e.CONNECT}))).append(d("<div>",{"class":"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(d("<div>",{"class":"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(d("<div>",{"class":"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(d("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:f,gs:"maxpreview",service:e.CONNECT})).append(d("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:g,gs:"minpreview",service:e.CONNECT})))).append(d("<div>",{"class":"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(d("<div>",{"class":"zgs19_gsCalloutMetaHolder"}).append(d("<div>",{"class":"zgs19_gsCalloutUserPhoto"}).append(d("<div>",{"class":"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(d("<img>",{"class":"zgs19_gsFetchLoader",src:a.gsspacer,gs:"authorPhoto"})))).append(d("<div>",{"class":"zgs19_gsCalloutMetaLeft"}).append(d("<div>",{"class":"zgs19_gsCalloutUserHeader"}).append(d("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:75px"}).append(d("<span>",{gs:"slabel"}))).append(d("<div>",{"class":"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:210px"}).append(d("<span>",{gs:"sender"}))).append(d("<div>",{"class":"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:90px"}).append(d("<span>",{gs:"date"})))).append(d("<div>",{"class":"zgs19_gsCalloutUserHeader",gs:"streamsFooter"}).append(d("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"margin-top:2.5px;"}).append(d("<span>",{"class":"zgs19_gsConnectMetaIn zgs19_gsOverflow zgs19_gsfl",gs:"receiverin",style:"max-width:25px;"}).text(a.getI18NMsg("gs.search.result.support.in")))).append(d("<div>",{"class":"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:310px;margin-top:2.5px;",gs:"receiver"})).append(d("<div>",{"class":"zgs19_gsCalloutUserFolder zgs19_gsOverflow zgs19_gsfr",style:"max-width:110px"}).append(d("<span>",{gs:"rfolder"})))).append(d("<div>",{"class":"zgs19_gsCalloutUserHeader",gs:"blogsFooter"}))))).append(d("<div>",{id:"zgs20_gsConnectCalloutFooter","class":"zgs19_gsCalloutFooter zgs19_gsConnectCalloutFooter zgs19_gsConnectCalloutFooter",gs:"calloutFooter"}).append(d("<div>",{"class":"zgs19_gsConnectEvtHolder",gs:"eventHolder"})).append(d("<div>",{"class":"zgs19_gsCalloutEvtDescInfo",gs:"descHolder"})).append(d("<div>",{"class":"zgs19_gsCalloutContentInfo",gs:"contentHolder"})).append(d("<div>",{"class":"zgs19_gsConnectPollOption zgs19_gsOverflow",gs:"pollOptions"})).append(d("<div>",{"class":"zgs19_gsConnectSharedPost zgs19_gsOverflow",gs:"sharedPostHolder"})).append(d("<div>",{"class":"zgs19_gsConnectLinkDiv",gs:"LinkHolder"}).append(d("<div>",{"class":"zgs19_gsConnectLinkImgDiv zgs19_gsCurPointer zgs19_gsfl",gs:"zgs20_gsConnectLinkImageDiv",id:"zgs20_gsConnectLinkImageDiv"})).append(d("<div>",{"class":"zgs19_gsConnectLinkRightPanel zgs19_gsfl"}).append(d("<div>",{"class":"zgs19_gsConnectLinkTitleDiv"}).append(d("<a>",{id:"zgs20_gsConnectLinkTitle","class":"zgs19_gsConnectLinkTitle zgs19_gsCalloutTitleLink zgs19_gsOverflow zgs19_gsfl",gs:"contactsurl"}))).append(d("<div>",{"class":"zgs19_gsConnectLinkDescDiv"}).append(d("<div>",{"class":"zgs19_gsConnectLinkDesc zgs19_gsOverflowWrap zgs19_gsfl",gs:"zgs20_gsConnectLinkDesc"}))))).append(d("<div>",{id:"zgs20_gsConnectCalloutAttachInfo","class":"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})).append(d("<div>",{"class":"zgs19_gsCalloutCommentInfo zgs19_gsDisplayNone",gs:"commentHolder"})));d("#zgs20_gsSearchResultRight").append(h)}d("#zgs20_gsConnectCallout").attr("ccount",b)},f.setConnectCalloutEleSize=function(a){var b=d(a.header).height(),c=d(a.metaInfo).height(),e=d("#zgs20_gsConnectCallout").height()-(b+c);d(a.calloutFooter).css("height",e+"px")},f.calloutResponse=function(b,c,g){if(b&&!a.regNull.test(b)){if(b.hasOwnProperty("content")){var h=a.getTargetElem("zgs20_gsConnectCallout");a.setGSTagElems(h),a.setGSTagElems(g);var i=d(h).attr("ccount"),j=c.title||"";d(h.ctitle).empty().text(j).attr("title",j);var k=c.zuid;d(h.authorPhoto).attr("src",a.gsspacer),d(h.authorPhoto).attr("class","zgs19_gsFetchLoader");var l="zgs20_gsConnectCalloutUserImg"+i;d(h.authorPhoto).attr("id",l);var m=a.getUserStatus(k);d(h.calloutIconHolder).attr("class","zgs19_gsChatIconHolder");if(k!=="-1"&&k!==undefined){var n=m.name?m.name:"";d(h.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+n);var o=e.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+k+"&API=true";a.renderCalloutUserPhoto(l,o)}else a.renderCalloutNoUserPhoto(l);var p=c.time||"",q=c.type=="SHARED"?a.getI18NMsg("gs.search.result.document.callout.sharedby"):a.getI18NMsg("gs.search.service_connect.callout.postedBy");d(h.slabel).empty().text(q).attr("title",q),d(h.sender).empty().text(c.author).attr("title",c.author),d(h.date).empty().text(p).attr("title",p),d(h.receiver).empty(),d(h.receiverin).hide(),d(h.streamsFooter).hide(),d(h.blogsFooter).hide();if(c.type=="FORUMS")d(h.blogsFooter).show(),b.hasOwnProperty("categories")&&f.renderBlogCategoriesDetails(h.blogsFooter,b.categories);else{d(h.streamsFooter).show(),d(h.receiverin).show();var r=a.getConnectPartitionElem(c,"zgs19_gsConnResApost"),s=d(r[0])[0],t=d(r[1])[0],u=d(r[2])[0];d(h.receiver).append(s,t,u)}d(h.descHolder).hide().empty(),d(h.eventHolder).hide().empty(),d(h.contentHolder).hide().empty();if(c.type=="EVENT"){d(h.eventHolder).show();var v=c.eventStartTime,w=v.substr(0,v.indexOf(" ")),x=v.substr(v.indexOf(" ")+1),y="";if(b.hasOwnProperty("est")){var z=a.getI18NMsg("gs.search.result.mail.to"),A=a.getI18NMsg("gs.search.service_connect.timer");y=d("<div>",{"class":"zgs19_gsConnectEvtChild zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsEventIcon zgs19_gsfl",title:A})).append(d("<div>",{"class":"zgs19_gsConnectEvtValue zgs19_gsOverflow zgs19_gsfl",title:b.est}).text(b.est)),b.hasOwnProperty("eet")&&y.append(d("<div>",{"class":"zgs19_gsConnectEvtLabel zgs19_gsOverflow zgs19_gsfl",title:z}).text(z)).append(d("<div>",{"class":"zgs19_gsConnectEvtValue zgs19_gsOverflow zgs19_gsfl",title:b.eet}).text(b.eet))}var B="",C=b.location?b.location:"";if(C!=""){var D=a.getI18NMsg("gs.search.service_connect.location");B=d("<div>",{"class":"zgs19_gsConnectEvtChild zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsConnectEvtlocIcon zgs19_gsfl",title:D})).append(d("<div>",{"class":"zgs19_gsConnectEvtlocValue zgs19_gsOverflow zgs19_gsfl",title:C}).text(C))}var E="",F=b.isStarted?!0:!1,G=b.isExpired?!0:!1;if(F||G){var H=F?"zgs19_gsConnectEvtStarted":"zgs19_gsConnectEvtExpired",I=F?a.getI18NMsg("gs.search.service_connect.callout.eventStarted"):a.getI18NMsg("gs.search.service_connect.callout.eventOver");E=d("<div>",{"class":"zgs19_gsConnectEvtChild zgs19_gsOverflow"}).append(d("<div>",{"class":"zgs19_gsConnectEvtStatus zgs19_gsOverflow zgs19_gsfl "+H,title:I}).text(I))}d(h.eventHolder).append(d("<div>",{"class":"zgs19_gsConnectEvtLeftNew zgs19_gsfl",title:v}).append(d("<div>",{"class":"zgs19_gsConnectEvtDate zgs19_gsBorderBox zgs19_gsOverflow"}).text(w)).append(d("<div>",{"class":"zgs19_gsConnectEvtMonth zgs19_gsBorderBox zgs19_gsOverflow"}).text(x))).append(d("<div>",{"class":"zgs19_gsConnectEvtRight zgs19_gsfl"}).append(y).append(B).append(E));if(b.hasOwnProperty("desc")){d(h.descHolder).show();var J=a.getI18NMsg("gs.search.service_connect.description");d(h.descHolder).append(d("<div>",{"class":"zgs19_gsConnectEvtDescLabel",title:J}).text(J)).append(d("<div>",{"class":"zgs19_gsCalloutContentInfo"}).append(b.desc))}}else{d(h.contentHolder).show();var K=b.content?b.content:"";d(h.contentHolder).append(K)}a.preventStylesFromParentDomain(h.contentHolder),f.addDomainForUsersAndGroups(h.contentHolder),d(h.pollOptions).hide(),d(h.pollOptions).empty(),d(h.sharedPostHolder).hide(),d(h.sharedPostHolder).empty();if(c.type=="POLL"){var L=a.getI18NMsg("gs.search.service_connect.callout.viewPollOptions");d(h.pollOptions).append(d("<a>",{title:L,gs:"contactsurl",href:c.url,url:c.url,title:L}).text(L)),d(h.pollOptions).show()}else if(c.type=="SHARED"){var M=b.sharedStream;f.renderSharedPostDetails(h,M),d(h.sharedPostHolder).show()}d(h.LinkHolder).hide();if(b.hasOwnProperty("link")){var N=b.link;f.renderLinkDetails(h,N,c)}d(h.moveToAttachArea).hide(),d(h.attachHolder).hide(),d(h.attachHolder).empty();var O=b.attachments?b.attachments:[],P=b.images?b.images:[],Q=O.length+P.length;if(Q>0){var R=Q+" "+a.getI18NMsg("gs.search.result.mail.callout.attachments");d(h.attachHolder).append(d("<div>",{"class":"zgs19_gsCalloutAttachHeader"}).append(d("<span>",{title:R}).text(R))),f.renderAttachment(h.attachHolder,O,""),f.renderAttachment(h.attachHolder,P,""),d(h.moveToAttachArea).show(),d(h.attachHolder).show()}d(h.commentHolder).hide(),d(h.commentHolder).empty();var S=b.ccount?b.ccount:0,T=b.comment?b.comment:[];S>0&&T.length>0&&f.renderRecentCommentDetails(h,c,T,S),d(h.maxpreview).show(),d(h.minpreview).hide(),a.curSelectedEle&&(a.hideCalloutLoader(),d(h).show()),d(h.calloutFooter).scrollTop(0),d(h.calloutFooter).scrollLeft(0),f.addCalloutActionList(h)}else f.calloutErrorMsg();f.setConnectCalloutEleSize(h)}else f.calloutErrorMsg()},f.renderSharedPostDetails=function(b,c){var e=a.getConnectPartitionElem(c,"zgs19_gsConnResApost"),g=d(e[0])[0],h=d(e[1])[0],i=d(e[2])[0],j=a.getI18NMsg("gs.search.service_connect.callout.viewSharedPost"),k=a.getI18NMsg("gs.search.service_connect.callout.hasPosted")+" "+a.getI18NMsg("gs.search.result.support.in"),l="",m=c.zuid||"",n=a.pulseNetworkURL+"/stream/"+c.id;if(m&&m!="-1"){var o=a.pulseNetworkURL+"/profile/"+m;l=d("<a>",{"class":"zgs19_gsConnectCommentTitle",href:o,gs:"contactsurl",url:o,title:c.author}).text(c.author)}else l=d("<span>",{"class":"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsfl",title:c.author}).text(c.author);d(b.sharedPostHolder).append(d("<div>",{"class":"zgs19_gsConnctSharedOuter"}).append(d("<div>",{"class":"zgs19_gsConnctSharedHeader"}).append(l).append(d("<span>",{title:k}).text(" "+k+" ")).append(d("<span>",{"class":"zgs19_gsCalloutUserValue"}).append(g).append(h).append(i))).append(d("<div>",{id:"zgs20_gsConnectSharedContent","class":"zgs19_gsConnectSharedContent zgs19_gsOverflowWrap"}).append(c.content)).append(d("<div>",{"class":"zgs19_gsConnectSharedOption zgs19_gsOverflow"}).append(d("<a>",{title:j,gs:"contactsurl",href:n,url:n}).text(j)))),a.preventStylesFromParentDomain("#zgs20_gsConnectSharedContent"),f.addDomainForUsersAndGroups("#zgs20_gsConnectSharedContent")},f.renderLinkDetails=function(b,c,e){var g=c.desc?c.desc:"",h=c.linkurl?c.linkurl:"",i=c.linkInfoId?c.linkInfoId:"",j=c.title?a.replaceHTMLEntity(c.title):"";d(b.zgs20_gsConnectLinkDesc).empty().append(g),d("#zgs20_gsConnectLinkTitle").attr("href",h),d("#zgs20_gsConnectLinkTitle").attr("url",h),d("#zgs20_gsConnectLinkTitle").empty().text(j).attr("title",j),d(b.zgs20_gsConnectLinkImageDiv).empty().append(d("<img>",{id:"zgs20_gsConnectLinkImage_"+i,"class":"zgs19_gsFetchImgLoader zgs19_gsConnectLinkImgLoader zgs19_Cursor zgs19_gsfl",src:a.gsspacer,url:h,gs:"contactsurl"}));if(i){var k=a.getURLHostName(a.pulseNetworkURL),l=a.httptxt+"s://"+k+"/pulse/getLinkFile.do?streamId="+e.id+"&scopeID="+a.pulseNetworkId+"&timestamp="+i;f.loadConnectimage(b,l,"zgs20_gsConnectLinkImage_"+i)}else d("#zgs20_gsConnectLinkImage_"+i).attr("src",a.gsspacer).addClass("zgs19_gsConnectLinkImgPhoto zgs19_gsConnectLinkImgSrc").removeClass("zgs19_gsFetchImgLoader zgs19_gsConnectLinkImgLoader");d(b.LinkHolder).show()},f.generateConnectCalloutImage=function(b){return"use strict",function(){var c=this,e=a.getTargetElem(c.getAttribute("gs"));e&&(d(e).removeClass("zgs19_gsFetchImgLoader zgs19_gsConnectLinkImgLoader zgs19_gsConnectLinkImgSrc").addClass("zgs19_gsConnectLinkImgPhoto"),b?e.src=c.src:(e.src=a.gsspacer,d(e).addClass("zgs19_gsConnectLinkImgSrc")),a.removeEle(c))}},f.loadConnectimage=function(a,b,d){var e=new Image;e.setAttribute("gs",d),e.className="zgs19_gsDisplayNone",e.src=b,a.appendChild(e);var g=c.addEventListener?"":"on",h=c.addEventListener?"addEventListener":"attachEvent";e[h](g+"load",f.generateConnectCalloutImage(!0),!0),e[h](g+"error",f.generateConnectCalloutImage(!1),!0)},f.renderRecentCommentDetails=function(b,c,g,h){var i=a.getI18NMsg("gs.search.service_connect.callout.recentComments");c.type=="FORUMS"&&(i=a.getI18NMsg("gs.search.service_connect.callout.Comments")),d(b.commentHolder).append(d("<div>",{"class":"zgs19_gsCalloutAttachHeader"}).append(d("<span>",{title:i}).text(i)));for(var j=0;j<g.length;j++){var k=g[j],l="zgs20_gsConnectComment"+j,m="zgs20_gsConnectCommentContent"+j,n="zgs20_gsConnectCommentAttachmentHolder"+j,o="",p=k.zuid||"";if(p&&p!="-1"){var q=a.pulseNetworkURL+"/profile/"+p;o=d("<a>",{"class":"zgs19_gsConnectCommentTitle zgs19_gsOverflow",href:q,gs:"contactsurl",url:q,title:k.name}).text(k.name)}else o=d("<div>",{"class":"zgs19_gsConnectCommentTitle zgs19_gsConnectCommentGuest zgs19_gsOverflow zgs19_gsfl",title:k.name}).text(k.name);d(b.commentHolder).append(d("<div>",{"class":"zgs19_gsConnectCommentHolder",id:l+"Holder"}).append(d("<div>",{"class":"zgs19_gsConnectCommentLeftPanel zgs19_gsfl"}).append(d("<img>",{src:a.gsspacer,gs:"gsUserPhoto",id:l,"class":"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl"}))).append(d("<div>",{"class":"zgs19_gsConnectCommentRightPanel zgs19_gsOverflow zgs19_gsfl"}).append(o).append(d("<label>",{"class":"zgs19_gsConnectCommentDate zgs19_gsOverflow"}).append(k.time)).append(d("<label>",{"class":"zgs19_gsConnectCommentContent zgs19_gsOverflowWrap",id:m}).append(k.content)).append(d("<div>",{id:l+"_chat","class":"zgs19_gsConnChatHolder"})).append(d("<label>",{"class":"zgs19_gsConnectCommentAttach zgs19_gsOverflow",id:n}))));if(k.hasOwnProperty("chatletTitle")){var r=k.chid,s=k.chatletTitle,t=a.getI18NMsg("gs.search.result.chat.viewtranscript_dialog.continue");d("#"+l+"_chat").append(d("<div>",{"class":"zgs19_gsConnChatTitle zgs19_gsOverflow",title:s}).text(s)).append(d("<div>",{"class":"zgs19_gsConnChatCount zgs19_gsCurPointer zgs19_gsOverflow",gs:"connectcontinuechat",chatid:r}).text(t))}a.preventStylesFromParentDomain("#"+m),f.addDomainForUsersAndGroups("#"+m);var u=e.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+p+"&API=true";a.updateUserPhoto(l+"Holder",u);var v=k.attachments?k.attachments:[],w=k.images?k.images:[];f.renderAttachment("#"+n,v,"comment"),f.renderAttachment("#"+n,w,"comment")}var x=c.url||"";if(x&&h>3){var y=x+"/"+k.id,z=a.getI18NMsg("gs.search.service_connect.callout.viewAllComments");d(b.commentHolder).append(d("<div>",{"class":"zgs19_gsConnectCommentMore zgs19_gsOverflow zgs19_gsfl"}).append(d("<a>",{title:z,href:y,gs:"contactsurl",url:y,title:z}).text(z)))}d(b.commentHolder).show()},f.renderAttachment=function(b,c,f){for(var g=0;g<c.length;g++){var h=c[g],i=a.replaceHTMLEntity(h.name),j="zgs19_"+a.getFileImageClass(i),k=a.getDocResTT(j);d(b).append(d("<div>",{"class":"zgs19_gsCalloutAttachFooter"}).append(d("<div>",{"class":"zgs19_gsCalloutAttachImage"}).append(d("<span>",{"class":"zgs19_gsResultsUniIcons "+j,title:k,gs:"resultMenuItem"}))).append(d("<div>",{"class":"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:e.CONNECT,aId:h.fileId,gs:"attachtitle",comment:f,title:i}).text(i))).append(d("<div>",{"class":"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(d("<span>").text(h.size))))}},f.moveToViewPort=function(){a.moveToViewPort("zgs20_gsConnectCalloutFooter","zgs20_gsConnectCalloutAttachInfo")},f.downloadAttachment=function(c){var e=d(c).attr("aId"),f=d(c).attr("comment"),g=f=="comment"?"&isComment=true":"",h=a.getURLHostName(a.pulseNetworkURL),i=a.httptxt+"s://"+h+"/connect/downloadFile.do?fileId="+e+"&scopeID="+a.pulseNetworkId+"&size=original"+g;b.open(i)},f.addDomainForUsersAndGroups=function(b){var c=a.httptxt+"s://"+a.getURLHostName(a.pulseNetworkURL);d(b).find("img").each(function(){var a=d(this).attr("src")?d(this).attr("src"):"";a!=""&&a.indexOf("/")===0&&d(this).attr("src",c+a)}),d(b).find("a").each(function(){var b=d(this).attr("href")?d(this).attr("href"):"";if(b!=""){if(b.indexOf("#")===0||b.indexOf("/")===0){var e=b.indexOf("#/")==0?2:1;b=b.substring(e,b.length),b.indexOf("connect/viewFile.do")===0?b=c+"/"+b:b=a.pulseNetworkURL+"/"+b}d(this).removeAttr("onclick"),d(this).attr("target","_blank"),d(this).attr("href",b)}})},f.renderBlogCategoriesDetails=function(b,c){d(b).empty(),d("#zgs20_gsBlogCategoryList").remove();var e=c.length,g=e==1?"90%":e==2?"45%":e>=3?"20%":"";for(var h=0;h<e&&h<3;h++){var i=c[h];if(i.hasOwnProperty("name")){var j=i.bgColor,k=i.id,l=i.name;l=a.replaceHTMLEntity(l),l=l.toUpperCase();var m="color:#"+j+";border-color:#"+j+";max-width:"+g+";";d(b).append(d("<a>",{"class":"zgs19_gsBlogCategory zgs19_gsOverflow zgs19_gsfl",cid:k,title:l,style:m}).text(l))}}if(e>3){var n=e-3;d(b).append(d("<div>",{id:"zgs20_gsBlogCategoryMore","class":"zgs19_gsCalloutUserToLink zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsfl",gs:"moreBlogCategory"}).text("+"+n+" more")),d(b).append(d("<div>",{id:"zgs20_gsBlogCategoryList","class":"zgs19_gsBlogCategoryList zgs19_gsDisplayNone",gs:"blogCategoryList"})),f.renderMoreBlogCategoryList(e,c)}},f.renderMoreBlogCategoryList=function(b,c){for(var e=0;e<b;e++){var f=c[e];if(f.hasOwnProperty("name")){var g=f.bgColor,h=f.id,i=f.name;i=a.replaceHTMLEntity(i),i=i.toUpperCase();var j="color:#"+g+";";d("#zgs20_gsBlogCategoryList").append(d("<div>",{"class":"zgs19_gsBlogCategoryListch zgs19_gsOverflow",cid:h,style:j}).append(d("<span>",{title:i}).text(i)))}}},f.addCalloutActionList=function(b){d("#zgs20_gsCalloutActionList").empty().remove(),d(b.calloutActionHolder).append(d("<div>",{id:"zgs20_gsCalloutActionList","class":"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));var c=f.actionList;for(var g=0;g<c.length;g++){var h=c[g];for(var i in h){var j=a.getI18NMsg(h[i]);d("#zgs20_gsCalloutActionList").append(d("<div>",{"class":"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"connectAcionList",value:i,service:e.CONNECT,title:j}).text(j))}}},f.calloutErrorMsg=function(b){if(a.curSelectedEle){a.hideCalloutLoader();var c=b==="ERROR"?a.getI18NMsg("gs.search.error.generic_error_messege"):a.getI18NMsg("gs.search.service_connect.callout.errortext");d("#zgs20_gsCalloutErrorPage").text(c),d("#zgs20_gsCalloutErrorPage").show()}},f.setServiceEleSize=function(b,c){var e=a.getTargetElem("zgs20_gsConnectCallout");a.setGSTagElems(e),f.setConnectCalloutEleSize(e),d("#"+b).css("height",c+"px")},f}(undefined)}(zgssearch,window),function(a,b){var c=b._jQueryGS,d=a.getGSConstantObj()||{};a.gsdisc=function(e){return e=a.gsdisc||{},e.actionList=[{open:"gs.search.result.mail.open"}],e.getCalloutHolder=function(){return"zgs20_gsDiscCallout"},e.calloutParams=function(b){var c=b.fTId,d=a.getURLPathName(a.discussionsURL);return"searchType=discussions&portalurl="+encodeURIComponent(d)+"&topicid="+c},e.createCalloutTemplate=function(b){var e=c("#zgs20_gsDiscCallout").length;if(e<=0){var f=a.getI18NMsg("gs.search.sevice_prevmax"),g=a.getI18NMsg("gs.search.sevice_prevmin"),h=c("<div>",{id:"zgs20_gsDiscCallout","class":"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(c("<div>",{"class":"zgs19_gsCalloutHeader",gs:"header"}).append(c("<span>",{"class":"zgs19_gsResultsUniIcons zgs19_gsAttachIcon zgs19_gsCalloutAttachmentIcon zgs19_gsCurPointer zgs19_gsfl zgs19_gsDisplayNone",service:d.DISCUSSIONS,gs:"moveToAttachArea"})).append(c("<div>",{"class":"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(c("<span>",{"class":"zgs19_gsCalloutTitleLink",gs:"ctitle",service:d.DISCUSSIONS}))).append(c("<div>",{"class":"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(c("<div>",{"class":"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(c("<div>",{"class":"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(c("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:f,gs:"maxpreview",service:d.DISCUSSIONS})).append(c("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:g,gs:"minpreview",service:d.DISCUSSIONS})))).append(c("<div>",{"class":"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(c("<div>",{"class":"zgs19_gsCalloutMetaHolder"}).append(c("<div>",{"class":"zgs19_gsCalloutUserPhoto"}).append(c("<div>",{"class":"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(c("<img>",{"class":"zgs19_gsFetchLoader",src:a.gsspacer,gs:"authorPhoto"})))).append(c("<div>",{"class":"zgs19_gsCalloutMetaLeft"}).append(c("<div>",{"class":"zgs19_gsCalloutUserHeader"}).append(c("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(c("<span>",{gs:"slabel"}))).append(c("<div>",{"class":"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:55%"}).append(c("<span>",{gs:"sender"}))).append(c("<div>",{"class":"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:20%"}).append(c("<span>",{gs:"date"})))).append(c("<div>",{"class":"zgs19_gsCalloutUserHeader"}).append(c("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(c("<span>",{gs:"rlabel"}))).append(c("<div>",{"class":"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:70%",gs:"toaddress"}).append(c("<span>",{gs:"receiver"}))))))).append(c("<div>",{id:"zgs20_gsDiscCalloutFooter","class":"zgs19_gsCalloutFooterHolder zgs19_gsDiscCalloutFooter",gs:"calloutFooter"}).append(c("<div>",{"class":"zgs19_gsCalloutContentInfo",gs:"content"})).append(c("<div>",{id:"zgs20_gsDiscCalloutAttachInfo","class":"zgs19_gsCalloutAttachInfo zgs19_gsDisplayNone",gs:"attachHolder"})));c("#zgs20_gsSearchResultRight").append(h)}c("#zgs20_gsDiscCallout").attr("ccount",b)},e.setDiscCalloutEleSize=function(a){var b=c(a.header).height(),d=c(a.metaInfo).height(),e=c("#zgs20_gsDiscCallout").height()-(b+d);c(a.calloutFooter).css("height",e+"px")},e.calloutResponse=function(b,f,g){if(b&&b!=="null"&&b.hasOwnProperty("res")){var h=a.getTargetElem("zgs20_gsDiscCallout");a.setGSTagElems(h),a.setGSTagElems(g);var i=c(h).attr("ccount"),j=f.auth||"",k=f.dN||"",l=f.dT||"";c(h.ctitle).text(k).attr("title",k);var m="zgs20_gsDiscCalloutUserImg"+i;c(h.authorPhoto).attr("id",m);var n=b.aI,o=a.getUserStatus(n);c(h.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),c(h.authorPhoto).attr("src",a.gsspacer),c(h.authorPhoto).attr("class","zgs19_gsFetchLoader");if(n&&n!=="-1"){var p=o.name?o.name:"";c(h.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+p);var q=d.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+n+"&API=true";a.renderCalloutUserPhoto(m,q)}else a.renderCalloutNoUserPhoto(m);var r=a.getI18NMsg("gs.search.result.callout.createdby");c(h.slabel).empty().text(r).attr("title",r),c(h.sender).empty().text(j).attr("title",j),c(h.date).empty().text(l).attr("title",l);var s=b.fN||"";s=a.replaceHTMLEntity(s);var t=a.getI18NMsg("gs.search.result.discussions.callout.forumname");c(h.rlabel).empty().text(t).attr("title",t),c(h.receiver).empty().text(s).attr("title",s),c(h.content).empty().append(b.res),e.loadDiscImagesWithDomain(h.content),a.preventStylesFromParentDomain(h.content),c(h.moveToAttachArea).hide(),c(h.attachHolder).hide(),c(h.attachHolder).empty();if(b.hasOwnProperty("aC")&&b.aC>0&&b.hasOwnProperty("atM")){var u=b.atM,v=u.length+" "+a.getI18NMsg("gs.search.result.mail.callout.attachments");c(h.attachHolder).append(c("<div>",{"class":"zgs19_gsCalloutAttachHeader"}).append(c("<span>",{title:v}).text(v)));for(var w=0;w<u.length;w++){var x=u[w],y=x.atN,z="zgs19_"+a.getFileImageClass(y),A=a.getDocResTT(z);c(h.attachHolder).append(c("<div>",{"class":"zgs19_gsCalloutAttachFooter"}).append(c("<div>",{"class":"zgs19_gsCalloutAttachImage"}).append(c("<span>",{"class":"zgs19_gsResultsUniIcons "+z,title:A,gs:"resultMenuItem"}))).append(c("<div>",{"class":"zgs19_gsCalloutAttachName zgs19_gsOverflow"}).append(c("<span>",{"class":"zgs19_gsCalloutAttachTitle zgs19_gsCalloutTitleLink",service:d.DISCUSSIONS,aId:x.atI,gs:"attachtitle",title:y}).text(y))).append(c("<div>",{"class":"zgs19_gsCalloutAttachSize zgs19_gsOverflow"}).append(c("<span>").text(a.convertToKBMB(x.atS)))))}c(h.moveToAttachArea).show(),c(h.attachHolder).show()}c(h.maxpreview).show(),c(h.minpreview).hide(),a.curSelectedEle&&(a.hideCalloutLoader(),c(h).show()),c(h.calloutFooter).scrollTop(0),c(h.calloutFooter).scrollLeft(0),e.addCalloutActionList(h),e.setDiscCalloutEleSize(h)}else e.calloutErrorMsg()},e.addCalloutActionList=function(b){c("#zgs20_gsCalloutActionList").empty().remove(),c(b.calloutActionHolder).append(c("<div>",{id:"zgs20_gsCalloutActionList","class":"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));var f=e.actionList;for(var g=0;g<f.length;g++){var h=f[g];for(var i in h){var j=a.getI18NMsg(h[i]);c("#zgs20_gsCalloutActionList").append(c("<div>",{"class":"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"discAcionList",value:i,service:d.DISCUSSIONS,title:j}).text(j))}}},e.loadDiscImagesWithDomain=function(b){var d=a.getURLHostName(a.discussionsURL);c(b).find("img").each(function(){var a=c(this).attr("src");if(a)if(a.indexOf("/")===0||a.indexOf("viewImage.do")===0||a.indexOf("images/")===0){if(a.indexOf("viewImage.do")===0||a.indexOf("images/")===0)a="/"+a;c(this).attr("src","https://"+d+a)}}),c(b).find("a").each(function(){var a=c(this).attr("href");if(a&&a.indexOf("http")!=0&&a.indexOf("mailto:")!=0){var b=a.indexOf("/")==0?"":"/";c(this).attr("href","https://"+d+b+a)}})},e.downloadAttachment=function(d){var e=c(d).attr("aId"),f=a.getURLPathName(a.discussionsURL),g=a.getURLHostName(a.discussionsURL),h="https://"+g+"/viewFile.do?fileId="+e+"&forumGroupURL="+encodeURIComponent(f)+"&action=download";b.open(h)},e.moveToViewPort=function(){a.moveToViewPort("zgs20_gsDiscCalloutFooter","zgs20_gsDiscCalloutAttachInfo")},e.calloutErrorMsg=function(b){if(a.curSelectedEle){a.hideCalloutLoader();var d=b==="ERROR"?a.getI18NMsg("gs.search.error.generic_error_messege"):a.getI18NMsg("gs.search.result.discussions.status.callout.errortext");c("#zgs20_gsCalloutErrorPage").text(d),c("#zgs20_gsCalloutErrorPage").show()}},e.setServiceEleSize=function(b,d){var f=a.getTargetElem("zgs20_gsDiscCallout");a.setGSTagElems(f),e.setDiscCalloutEleSize(f),c("#"+b).css("height",d+"px")},e}(undefined)}(zgssearch,window),function(a,b){var c=b.document,d=b._jQueryGS,e=a.getGSConstantObj()||{};a.gsreports=function(b){return b=a.gsreports||{},b.actionList=[{open:"gs.search.result.mail.open"}],b.getCalloutHolder=function(){return"zgs20_gsReportsCallout"},b.calloutParams=function(a){return"searchType="+e.REPORTS+"&docId="+a.docid},b.createCalloutTemplate=function(b){var c=d("#zgs20_gsReportsCallout").length;if(c<=0){var f=a.getI18NMsg("gs.search.sevice_prevmax"),g=a.getI18NMsg("gs.search.sevice_prevmin"),h=a.getFourDotLoader("zgs20_gsreportsprevLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsdocsprevLoader zgs19_gsDisplayNone"),i=d("<div>",{id:"zgs20_gsReportsCallout","class":"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(d("<div>",{"class":"zgs19_gsCalloutHeader",gs:"header"}).append(d("<div>",{"class":"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(d("<span>",{"class":"zgs19_gsCalloutTitleLink",gs:"ctitle",service:e.REPORTS}))).append(d("<div>",{"class":"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(d("<div>",{"class":"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(d("<div>",{"class":"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(d("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:f,gs:"maxpreview",service:e.REPORTS})).append(d("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:g,gs:"minpreview",service:e.REPORTS})))).append(d("<div>",{"class":"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(d("<div>",{"class":"zgs19_gsCalloutMetaHolder"}).append(d("<div>",{"class":"zgs19_gsCalloutUserPhoto"}).append(d("<div>",{"class":"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(d("<img>",{id:"zgs20_gsDocsCalloutUserImg","class":"zgs19_gsFetchLoader",src:a.gsspacer,gs:"authorPhoto"})))).append(d("<div>",{"class":"zgs19_gsCalloutMetaLeft"}).append(d("<div>",{"class":"zgs19_gsCalloutUserHeader"}).append(d("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(d("<span>",{gs:"startedBy"}))).append(d("<div>",{"class":"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:55%"}).append(d("<span>",{gs:"owner"}))).append(d("<div>",{"class":"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:20%"}).append(d("<span>",{gs:"date"}))))))).append(d("<div>",{"class":"zgs19_gsDocsCalloutFooter zgs19_gsOverflowHidden",gs:"calloutFooter"}).append(h).append(d("<div>",{"class":"zgs19_gsDocsPreviewHolder",gs:"reportspreviewHolder"})));d("#zgs20_gsSearchResultRight").append(i)}d("#zgs20_gsReportsCallout").attr("ccount",b)},b.setReportsCalloutEleSize=function(a){var b=d(a.header).height(),c=d(a.metaInfo).height(),e=d("#zgs20_gsReportsCallout").height()-(b+c);e-=d(a.calloutFooter).outerHeight(!0)-d(a.calloutFooter).height(),d(a.calloutFooter).css("height",e+"px")},b.calloutResponse=function(c,f){var g=a.getTargetElem("zgs20_gsReportsCallout");a.setGSTagElems(g),a.setGSTagElems(f);var h=c.vN||"";d(g.ctitle).empty().text(h).attr("title",h);var i=c.mZUID;d(g.authorPhoto).attr("src",a.gsspacer),d(g.authorPhoto).attr("class","zgs19_gsFetchLoader");var j=a.getUserStatus(i);d(g.calloutIconHolder).attr("class","zgs19_gsChatIconHolder");if(i!=="-1"&&i!==undefined){var k=j.name?j.name:"";d(g.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+k);var l=e.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+i+"&API=true";a.renderCalloutUserPhoto("zgs20_gsDocsCalloutUserImg",l)}else a.renderCalloutNoUserPhoto("zgs20_gsDocsCalloutUserImg");var m=c.auth||c.mBy;d(g.startedBy).empty().text("Modified By").attr("title","Modified By"),d(g.owner).empty().text(m).attr("title",m),d(g.date).empty().text(c.time).attr("title",c.time),b.renderReportsPreview(g,c),d(g.maxpreview).show(),d(g.minpreview).hide();var n=a.getCurrentResObj();n.docid===c.docid&&(a.hideCalloutLoader(),d(g).show()),d(g.calloutFooter).scrollTop(0),d(g.calloutFooter).scrollLeft(0),b.addCalloutActionList(g,c),b.setReportsCalloutEleSize(g)},b.addCalloutActionList=function(c,f){d("#zgs20_gsCalloutActionList").empty().remove(),d(c.calloutActionHolder).append(d("<div>",{id:"zgs20_gsCalloutActionList","class":"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));var g=b.actionList;for(var h=0;h<g.length;h++){var i=g[h];for(var j in i){var k=a.getI18NMsg(i[j]);d("#zgs20_gsCalloutActionList").append(d("<div>",{"class":"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"reportsAcionList",value:j,service:e.REPORTS}).text(k))}}},b.openReportsResult=function(a){var b=a.vId,c=e.GS_REPORTS_URL+"/ZDBDataSheetView.cc?OBJID="+b+"&STANDALONE=true";return c},b.renderReportsPreview=function(e,f){var g=f.ty;d(e.calloutFooter).addClass("zgs19_gsOverflowHidden");if(g!=="null"){d("#zgs20_gsreportsprevLoader").show(),d(e.reportspreviewHolder).empty(),d(e.reportspreviewHolder).css("visibility","hidden");var h=b.openReportsResult(f),i=c.createElement("iframe");i.src=h,i.style.border="0",i.className="zgs19_gsIframeHolder zgs19_gsDocsIframeTag",i.setAttribute("frameborder","0"),i.setAttribute("allowfullscreen","true"),i.onload=function(){setTimeout(function(){d(e.calloutFooter).removeClass("zgs19_gsOverflowHidden"),d("#zgs20_gsreportsprevLoader").hide(),d(e.reportspreviewHolder).css("visibility","visible")},500)},d(e.reportspreviewHolder).append(i)}else{var j=a.getI18NMsg("gs.search.sevice_docs_previewfolerr");d(e.reportspreviewHolder).append(d("<div>",{"class":"zgs19_gsDocsPreviewError",title:j}).text(j)),d(e.calloutFooter).removeClass("zgs19_gsOverflowHidden"),d(e.reportspreviewHolder).css("visibility","visible")}},b.setServiceEleSize=function(c,e){var f=a.getTargetElem("zgs20_gsReportsCallout");a.setGSTagElems(f),b.setReportsCalloutEleSize(f),d("#"+c).css("height",e+"px")},b}(undefined)}(zgssearch,window),function(a,b){var c=b._jQueryGS,d=a.getGSConstantObj()||{};a.gswiki=function(e){return e=a.gswiki||{},e.actionList=[{open:"gs.search.result.mail.open"},{download:"gs.search.result.document.download"}],e.getCalloutHolder=function(){return"zgs20_gsWikiCallout"},e.calloutParams=function(a){var b=a.doc_id,c=a.ty,d=a.wId,e=a.wcId;return"searchType=wiki&docId="+b+"&wikiId="+d+"&wikiCatId="+e+"&type="+c},e.createCalloutTemplate=function(b){var e=c("#zgs20_gsWikiCallout").length;if(e<=0){var f=a.getI18NMsg("gs.search.sevice_prevmax"),g=a.getI18NMsg("gs.search.sevice_prevmin"),h=a.getI18NMsg("gs.search.result.support.in"),i=c("<div>",{id:"zgs20_gsWikiCallout","class":"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone"}).append(c("<div>",{"class":"zgs19_gsCalloutHeader",gs:"header"}).append(c("<div>",{"class":"zgs19_gsCalloutTitle zgs19_gsfl zgs19_gsOverflow"}).append(c("<span>",{"class":"zgs19_gsCalloutTitleLink",gs:"ctitle",service:d.WIKI}))).append(c("<div>",{"class":"zgs19_gsCalloutAction zgs19_gsfr",gs:"calloutActionHolder"}).append(c("<div>",{"class":"zgs19_gsCalloutActionMenu zgs19_gsCurPointer zgs19_gsfr",gs:"actionlist"})).append(c("<div>",{"class":"zgs19_gsCalloutPipeSymbol zgs19_gsfr",gs:"actionPipe"})).append(c("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsCalloutDownloadIcon zgs19_gsCurPointer zgs19_gsfr zgs19_gsDisplayNone",gs:"wikidownload"})).append(c("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMaximize zgs19_gsCurPointer zgs19_gsfr",title:f,gs:"maxpreview",service:d.WIKI})).append(c("<div>",{"class":"zgs19_gsResultsUniIcons zgs19_gsIframeMinimize zgs19_gsCurPointer zgs19_gsfr",title:g,gs:"minpreview",service:d.WIKI})))).append(c("<div>",{"class":"zgs19_gsCalloutMetaInfo zgs19_gsChatMetaDataHolder",gs:"metaInfo"}).append(c("<div>",{"class":"zgs19_gsCalloutMetaHolder"}).append(c("<div>",{"class":"zgs19_gsCalloutUserPhoto"}).append(c("<div>",{"class":"zgs19_gsChatIconHolder",gs:"calloutIconHolder"}).append(c("<img>",{"class":"zgs19_gsFetchLoader",src:a.gsspacer,gs:"authorPhoto"})))).append(c("<div>",{"class":"zgs19_gsCalloutMetaLeft"}).append(c("<div>",{"class":"zgs19_gsCalloutUserHeader"}).append(c("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%"}).append(c("<span>",{gs:"slabel"}))).append(c("<div>",{"class":"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:55%"}).append(c("<span>",{gs:"sender"}))).append(c("<div>",{"class":"zgs19_gsCalloutUserDate zgs19_gsOverflow zgs19_gsfr",style:"max-width:20%"}).append(c("<span>",{gs:"date"})))).append(c("<div>",{"class":"zgs19_gsCalloutUserHeader"}).append(c("<div>",{"class":"zgs19_gsCalloutUserLabel zgs19_gsOverflow zgs19_gsfl",style:"max-width:20%;margin-top:2.5px;"}).append(c("<span>",{"class":"zgs19_gsResIntxt zgs19_gsOverflow zgs19_gsfl",gs:"rlabel",title:h}).text(h))).append(c("<div>",{"class":"zgs19_gsCalloutUserValue zgs19_gsOverflow zgs19_gsfl",style:"max-width:70%",gs:"toaddress"}).append(c("<span>",{gs:"receiver"}))))))).append(c("<div>",{"class":"zgs19_gsCalloutFooter zgs19_gsWikiCalloutFooter",gs:"calloutFooter"}).append(c("<div>",{"class":"zgs19_gsCalloutContentInfo",gs:"content"})));c("#zgs20_gsSearchResultRight").append(i)}c("#zgs20_gsWikiCallout").attr("ccount",b)},e.setWikiCalloutEleSize=function(a){var b=c(a.header).height(),d=c(a.metaInfo).height(),e=c("#zgs20_gsWikiCallout").height()-(b+d);c(a.calloutFooter).css("height",e+"px")},e.calloutResponse=function(b,f,g){var h=a.getTargetElem("zgs20_gsWikiCallout");a.setGSTagElems(h),a.setGSTagElems(g);var i=c(h).attr("ccount"),j=f.zuid||"",k=f.dN||"",l=f.title||"",m=f.dT||"";c(h.ctitle).text(l).attr("title",l);var n=a.getUserStatus(j);c(h.calloutIconHolder).attr("class","zgs19_gsChatIconHolder"),c(h.authorPhoto).attr("src",a.gsspacer),c(h.authorPhoto).attr("class","zgs19_gsFetchLoader");var o="zgs20_gsWikiCalloutUserImg"+i;c(h.authorPhoto).attr("id",o);if(j&&j!=="-1"){var p=n.name?n.name:"";c(h.calloutIconHolder).attr("class","zgs19_gsChatIconHolder "+p);var q=d.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+j+"&API=true";a.renderCalloutUserPhoto(o,q)}else a.renderCalloutNoUserPhoto(o);var r=a.getI18NMsg("gs.search.result.callout.createdby");c(h.slabel).empty().text(r).attr("title",r),c(h.sender).empty().text(k).attr("title",k),c(h.date).empty().text(m).attr("title",m),c(h.rlabel).hide(),c(h.receiver).hide(),c(h.content).empty();if(b){if(b.hasOwnProperty("wsName")){var s=b.wsName||"";c(h.receiver).empty().text(s).attr("title",s),c(h.rlabel).show(),c(h.receiver).show()}f.ty==0&&b.hasOwnProperty("actualContent")&&(c(h.content).append(b.actualContent),e.checkWikiDataAndAddDomain(h.content),a.preventStylesFromParentDomain(h.content))}c(h.wikidownload).hide(),f.ty==1&&c(h.wikidownload).show(),c(h.maxpreview).show(),c(h.minpreview).hide(),a.curSelectedEle&&(a.hideCalloutLoader(),c(h).show()),c(h.calloutFooter).scrollTop(0),c(h.calloutFooter).scrollLeft(0),e.addCalloutActionList(h,f),e.setWikiCalloutEleSize(h)},e.addCalloutActionList=function(b,f){c("#zgs20_gsCalloutActionList").empty().remove(),c(b.calloutActionHolder).append(c("<div>",{id:"zgs20_gsCalloutActionList","class":"zgs19_gsCalloutActionList zgs19_gsDisplayNone"}));var g=e.actionList;for(var h=0;h<g.length;h++){var i=g[h];for(var j in i){var k=a.getI18NMsg(i[j]);if(j==="download"&&f.ty!=1)continue;c("#zgs20_gsCalloutActionList").append(c("<div>",{"class":"zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsBorderBox",gs:"wikiAcionList",value:j,service:d.WIKI,title:k}).text(k))}}},e.openWikiResult=function(c,e){var f=c.doc_id,g=c.wId,h=c.ty,i=c.pId,j=c.title,k=c.wcId;if(g!==undefined&&g!==""&&g!=="null"){var l=d.GS_WIKI_URL+"/searchurl?"+"docId="+f+"&catId="+k+"&wikiId="+g+"&parentId="+i+"&type="+h;!e&&(h=="1"&&(a.endsWith(j,".xls")||a.endsWith(j,".xlsx")||a.endsWith(j,".ods")||a.endsWith(j,".sxc")||a.endsWith(j,".doc")||a.endsWith(j,".docx")||a.endsWith(j,".sxw")||a.endsWith(j,".odt"))||a.endsWith(j,".rtf")||a.endsWith(j,".odp")||a.endsWith(j,".pps")||a.endsWith(j,".ppt"))&&(l+="&m=edit"),b.open(l)}},e.checkWikiDataAndAddDomain=function(b){var f=e.getTruncatedSchemaURL(),g=a.getFilterInfo(d.WIKI,"portals","dispname");c(b).find("img").each(function(){var a=c(this).attr("src");a&&a.indexOf("/")===0&&c(this).attr("src","https://"+g+"."+f+a)}),c(b).find("a").each(function(){var a=c(this).attr("href");if(a&&a.indexOf("http")!=0&&a.indexOf("mailto:")!=0){var b=a.indexOf("/")==0?"":"/";c(this).attr("href","https://"+g+"."+f+b+a)}})},e.getTruncatedSchemaURL=function(){var a=d.GS_WIKI_URL;if(a.indexOf("https://")<=0)return a=a.substring(a.indexOf("https://")+8,a.length),a},e.calloutErrorMsg=function(b){if(a.curSelectedEle){a.hideCalloutLoader();var d=b==="ERROR"?a.getI18NMsg("gs.search.error.generic_error_messege"):a.getI18NMsg("gs.search.result.wiki.status.callout.errortext");c("#zgs20_gsCalloutErrorPage").text(d),c("#zgs20_gsCalloutErrorPage").show()}},e.setServiceEleSize=function(b,d){var f=a.getTargetElem("zgs20_gsWikiCallout");a.setGSTagElems(f),e.setWikiCalloutEleSize(f),c("#"+b).css("height",d+"px")},e}(undefined)}(zgssearch,window),function(a,b){var c=b.document,d=b._jQueryGS,e=a.getGSConstantObj()||{};a.sharedDocs="/zgssearch/sharedDocs",a.callOutURL="/zgssearch/gsCallOutData",a.attachmentURL="/zgssearch/gsAttachments",a.curCalloutCount=a.curCalloutCount||0,a.httpReqForCallout=new Array,a.httptxt="http",a.regNull=new RegExp("^null$","i"),a.isMaxCalloutOpen=!1,a.maxPrevPane=a.isZohoSearch&&typeof a.maxPrevPane!=undefined?a.maxPrevPane:950,a.minPrevPane=a.isZohoSearch&&typeof a.minPrevPane!=undefined?a.minPrevPane:525,a.calloutLoaderIcon=function(){d("#zgs20_gscoutLoadHolder").remove();var b=a.getFourDotLoader("zgs20_gsCalloutLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader18 zgs19_gsCalloutLoader");d("#zgs20_gsSearchResultRight").append(d("<div>",{id:"zgs20_gscoutLoadHolder","class":"zgs19_gsServiceCalloutHolder zgs19_gsDisplayNone",style:"z-index:101;"}).append(b)),d("#zgs20_gsCalloutErrorPage").remove(),d("#zgs20_gsSearchResultRight").append(d("<div>",{id:"zgs20_gsCalloutErrorPage","class":"zgs19_gsCalloutErrorMsg zgs19_gsDisplayNone"}))},a.convertToKBMB=function(a){var b=Math.round(a/1024),c=Math.round(b/1024);return c>0?c+" MB":b>0?b+" KB":a+" Bytes"},a.moveToViewPort=function(b,c){var e=a.getTargetElem(c),f=a.getTargetElem(b),g=e.offsetTop,h=d(f).height(),i=d(f).scrollTop(),j=i+h;i<g&&j>g||d("#"+b).scrollTop(g-h/2)},a.showCalloutLoader=function(){d("#zgs20_gscoutLoadHolder").show()},a.hideCalloutLoader=function(){d("#zgs20_gscoutLoadHolder").hide()},a.hideCalloutHolder=function(){d(".zgs19_gsServiceCalloutHolder").hide(),d("#zgs20_gsCalloutErrorPage").hide()},a.deleteCalloutHolder=function(){d(".zgs19_gsServiceCalloutHolder").remove()},a.getCurCalloutCount=function(){return a.curCalloutCount=a.curCalloutCount<500?a.curCalloutCount+1:1,a.curCalloutCount},a.getCurrentResObj=function(){var b=d(a.curSelectedEle).attr("index"),c=d(a.curSelectedEle).attr("service");return a.getResultObject(c,b)},a.updateCalloutTemplate=function(){a.isVersionChanged&&(a.isVersionChanged=!1,a.deleteCalloutHolder())},a.calloutEventHanlder=function(b){a.curSelectedEle=b,a.updateCalloutTemplate();var c=d(b).attr("service"),f=a.getCurrentResObj(),g=a.getCurCalloutCount(),h=a.mappedServiceList[c].callout;d("#zgs20_gsDocsPreviewHolder").empty(),d("#zgs20_gsDocsPreviewHolder").css("visibility","hidden"),d("#zgs20_gsMailActionHolder").empty().hide(),a.gsversion.toggleRefreshPage("none");switch(c){case e.MAILS:case e.CHAT:case e.CONNECT:case e.DISCUSSIONS:case e.CRM:case e.WIKI:a[h].createCalloutTemplate(g),a.handleBeforeSentCase(),a.calloutAjaxHandler(h,f,g);break;case e.PEOPLE:case e.REPORTS:case e.DOCUMENTS:case e.ORGCONTACTS:case e.PERSONALCONTACTS:a.hideCalloutHolder(),a[h].createCalloutTemplate(g),a[h].calloutResponse(f,a.curSelectedEle);break;case e.SUPPORT:var i=f.module_id;a[h].createCalloutTemplate(g),i==1||i==2?(a.handleBeforeSentCase(),a.calloutAjaxHandler(h,f,g)):(a.hideCalloutHolder(),a[h].calloutResponse({},f,a.curSelectedEle))}switch(c){case e.PEOPLE:a[h].fetchUserAvailability(f)}},a.handleBeforeSentCase=function(){a.calloutLoaderIcon(),a.hideCalloutHolder(),a.showCalloutLoader()},a.calloutAjaxHandler=function(b,c,d){setTimeout(function(){var e=a.curCalloutCount;e==d&&a.calloutAjaxRequest(b,c,d)},300)},a.calloutAjaxRequest=function(b,c,d,e){var f=a[b].calloutParams(c),g=e||{curCalloutCount:d};a.uri(a.GET,a.callOutURL,f,g,function(d,e,f){var g=f.args||{},h=g.curCalloutCount,i=a.curCalloutCount;if(i==h)if(e!="error"||g.updateRecord){var j=a.jsonParse(d);a[b].calloutResponse(j,c,a.curSelectedEle,g)}else e=="error"&&(a.hideCalloutLoader(),a.hideCalloutHolder(),a[b].calloutErrorMsg("ERROR"))})},a.renderCalloutUserPhoto=function(b,e,f){var g=new Image;g.src=e,g.setAttribute("gs",b),g.setAttribute("group",f),g.className="zgs19_gsDisplayNone";var h=c.addEventListener?"":"on",i=c.addEventListener?"addEventListener":"attachEvent";g[i](h+"load",function(){var b=this,c=a.getTargetElem(b.getAttribute("gs"));c&&(d(c).attr("src",b.src),d(c).removeClass("zgs19_gsFetchLoader zgs19_gsFetchImgLoader zgs19_gsResultsUniIcons zgs19_gsFetchImgLoaderMar zgs19_gsCalloutNoUserImg").addClass("zgs19_gsCalloutUserImg")),a.removeEle(b)},!0),g[i](h+"error",function(){var b=this;a.renderCalloutNoUserPhoto(b.getAttribute("gs"),b.getAttribute("group")),a.removeEle(b)},!0)},a.renderBigCalloutUserPhoto=function(b,e){try{var f=new Image;f.src=e,f.setAttribute("gs",b),f.className="zgs19_gsDisplayNone";var g=c.addEventListener?"":"on",h=c.addEventListener?"addEventListener":"attachEvent";f[h](g+"load",function(){var b=this,c=a.getTargetElem(b.getAttribute("gs"));c&&(d(c).attr("src",b.src),d(c).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader").addClass("zgs19_gsDocsCalloutImg")),a.removeEle(b)},!0),f[h](g+"error",function(){var b=this,c=b.getAttribute("gs"),e=a.getTargetElem(c);e&&(d(e).attr("src",a.gsspacer),d(e).removeClass("zgs19_gsFetchImgLoader zgs19_gsDocsFetchImgLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsDocsCalloutImg zgs19_gsResultsUniIcons zgs19_gsDocsCalloutNoPhoto")),a.removeEle(b)},!0)}catch(i){}},a.renderCalloutNoUserPhoto=function(b,c){var e=a.getTargetElem(b);e&&(d(e).attr("src",a.gsspacer),c=="true"?d(e).removeClass("zgs19_gsFetchLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsResultsUniIcons zgs19_gsChatGroupIcon zgs19_gsCalloutGroupMarg"):d(e).removeClass("zgs19_gsFetchLoader zgs19_gsCalloutUserImg").addClass("zgs19_gsResultsUniIcons zgs19_gsCalloutNoUserImg"))},a.getFileImageClass=function(a){var b=a.replace(/^.*\./,"");return b=="ai"||b=="jpg"||b=="bmp"||b=="png"||b=="gif"||b=="psd"||b=="jpeg"||b=="ttf"||b=="svg"?"image":b=="3g2"||b=="3gp"||b=="3gpp"||b=="avi"||b=="flv"||b=="m4v"||b=="mkv"||b=="mov"||b=="mp4"||b=="mpeg"||b=="mpg"||b=="ogv"||b=="vob"||b=="webm"||b=="webmv"||b=="wmv"||b=="vcf"||b=="vlc"||b=="fla"||b=="swf"?"video":b=="m4a"||b=="mp3"||b=="oga"||b=="ogg"||b=="wav"||b=="webma"?"music":b=="doc"||b=="docm"||b=="docx"||b=="dot"||b=="dotm"||b=="dotx"||b=="ds"||b=="sxw"||b=="odt"||b=="rtf"||b=="tex"?"word":b=="csv"||b=="ods"||b=="sxc"||b=="tsv"||b=="xls"||b=="xlsm"||b=="xlsx"?"xl":b=="odp"||b=="pps"||b=="ppsx"||b=="ppt"||b=="pptx"||b=="sxi"?"power":b=="pdf"?"pdf":b=="html"||b=="htm"||b=="xml"||b=="jsp"||b=="jspf"||b=="php"||b=="js"||b=="css"||b=="sql"?"html":b=="zip"?"zip":b=="txt"?"txt":"undefinedtype"},a.ajaxhandlerForServicesAction=function(b,c,e,f,g){var h=d(b).attr("service"),i=a.mappedServiceList[h].callout,j=d.ajax({type:"GET",url:a.servicesActionURL,data:e,success:function(d){try{a[i].responseFromServicesAction(d,b,c,f,g)}catch(e){a[i].responseFromServicesAction("null",b,c,f,g)}}})},a.removeIDAndClassAttr=function(b,c){e.MAILS!=c&&d(b).children().each(function(){d(this).removeAttr("id"),d(this).removeAttr("class"),a.removeIDAndClassAttr(this)})},a.preventTableStyles=function(a){d(a).find("table").each(function(){var a=this,b={},c=d(a).attr("border"),e=d(a).css("border-style");e=="none"&&(b["border-color"]="gray",b["border-style"]="solid",b["border-width"]=(c||0)+"px");var f=d(a).attr("cellspacing"),g=d(a).css("border-spacing");g=!f&&(!g||g=="0px"||g=="0px 0px")?"2px":g=="0px"||g=="0px 0px"?f+"px":g,g?b["border-spacing"]=g:"",d(a).css(b),d(a).find("tbody, th, tr, td").each(function(){var a=d(this).css("border-style");a=="none"&&d(this).css(b)});var h=d(a).attr("cellpadding"),i=["padding-top","padding-right","padding-bottom","padding-left"];d(a).find("td").each(function(){for(var a=0;a<i.length;a++){var b=i[a],c=d(this).css(b),e=!h&&(!c||c=="0px"||c=="0px 0px")?"2px":c=="0px"||c=="0px 0px"?h+"px":c;d(this).css(b,e)}})});var b=["valign","bgcolor","align"],c=["vertical-align","background-color","margin"];d(a).find("table, tbody, th, tr, td").each(function(){for(var a=0;a<b.length;a++){var e=b[a],f=d(this).attr(e);f&&(e=="align"&&(f=f=="left"?"auto 0":f=="center"?"0 auto":"0 0 0 auto"),d(this).css(c[a],f))}})},a.preventStylesFromParentDomain=function(b,c){a.removeIDAndClassAttr(b,c),a.preventTableStyles(b)},a.getURLHostName=function(a){var b=c.createElement("a");return b.href=a,b.hostname},a.getURLPathName=function(a){var b=c.createElement("a");b.href=a;var d=b.pathname;return d.charAt(0)==="/"?d.substring(1,d.length):d},a.renderContactsEmailId=function(a,b,c,e){e&&e!==""&&(d(a.lineicon).show(),d(b).append(d("<div>",{"class":"zgs19_gsCalloutDocsUserInfo"}).append(d("<div>",{"class":"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(d("<span>",{title:c}).text(c))).append(d("<div>",{"class":"zgs19_gsWidth100"}).append(d("<a>",{"class":"zgs19_gsCalloutDocsAuthor zgs19_gsCurPointer zgs19_gsOverflowWrap zgs19_gsfl",href:"mailto:"+e,target:"_blank",title:e}).text(e)))))},a.renderContactsInfo=function(a,b,c,e){e&&e!==""&&(d(a.lineicon).show(),d(b).append(d("<div>",{"class":"zgs19_gsCalloutDocsUserInfo"}).append(d("<div>",{"class":"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(d("<span>",{title:c}).text(c))).append(d("<div>",{"class":"zgs19_gsWidth100"}).append(d("<div>",{"class":"zgs19_gsCalloutDocsAuthor zgs19_gsOverflowWrap zgs19_gsfl",title:e}).text(e)))))},a.renderInstantORWebInfo=function(b,c,e,f,g){if(g&&g!==""){d(b.lineicon).show();var h=d("<div>",{"class":"zgs19_gsCalloutDocsUserInfo"}).append(d("<div>",{"class":"zgs19_gsCalloutDocsLabel zgs19_gsOverflow"}).append(d("<span>",{title:f}).text(f)));if(e==="url"){var i=g[0];i.indexOf(a.httptxt+"://")<0&&i.indexOf(a.httptxt+"s://")<0&&(i=a.httptxt+"://"+i),h.append(d("<div>",{"class":"zgs19_gsWidth100"}).append(d("<a>",{"class":"zgs19_gsCalloutDocsAuthor zgs19_gsCurPointer zgs19_gsOverflow zgs19_gsfl",gs:"contactsurl",href:i,url:i,title:g[0]}).text(g[0])))}else h.append(d("<div>",{"class":"zgs19_gsWidth100"}).append(d("<div>",{"class":"zgs19_gsCalloutDocsAuthor zgs19_gsOverflow zgs19_gsfl",title:g[0]}).text(g[0])));d(c).append(h)}},a.maxCalloutPreview=function(b,c){d("#zgs20_gsSearchResultRight").css("z-index",5);if(a.isZohoSearch){var e=parseInt(d("#zgs20_gsSearchResultMiddle").css("max-width").replace("px","")),f=parseInt(d("#zgs20_gsSearchResultRight").css("max-width").replace("px","")),g=e+f+"px";d("#zgs20_gsSearchResultRight").css("max-width",g)}d("#zgs20_gsSearchResultRight").stop(!0).animate({width:a.maxPrevPane},{duration:200}),a.isMaxCalloutOpen=!0;var h=a.mappedServiceList[b].callout,i=a[h].getCalloutHolder(),j=a.getTargetElem(i);a.setGSTagElems(j),d(j.maxpreview).hide(),d(j.minpreview).show(),a.openCalloutPreview(b,j,c)},a.minCalloutPreview=function(b,c){d("#zgs20_gsSearchResultRight").stop(!0).animate({width:a.minPrevPane,"z-index":1},{duration:200}),a.isMaxCalloutOpen=!1;var e=a.mappedServiceList[b].callout,f=a[e].getCalloutHolder(),g=a.getTargetElem(f);a.setGSTagElems(g),d(g.maxpreview).show(),d(g.minpreview).hide(),a.openCalloutPreview(b,g,c)},a.openCalloutPreview=function(b,c,f){d(c.docspreviewHolder).empty(),d("#zgs20_gsDocsPreviewHolder").css("visibility","hidden"),e.DOCUMENTS==b&&a.gsdocs.renderDocsPreview(c,f)},a.getEditFieldsHolder=function(a,b,c,e,f){return d("<div>",{id:"zgs20_gsEditFieldsHolder","class":"zgs19_gsEditFieldsHolder zgs19_gsBoxShadowPopup zgs19_gsDisplayNone",gs:"editFieldsList",datatype:a}).append(d("<div>",{id:"zgs20_gsEditFieldsHeader","class":"zgs19_gsModuleFilterWidgetHeader zgs19_gsDisplayNone",gs:"editFieldsHeader"}).append(d("<div>",{id:"zgs20_gsEditFieldsQryHolder","class":"zgs19_gsFilterQueryHolder zgs19_gsModuleFilterWidgetFocusOut"}).append(d("<span>",{"class":"zgs19_gsFilterQueryIcon zgs19_gsResultsUniIcons"})).append(d("<input>",{id:"zgs20_gsEditFieldsQrybox","class":"zgs19_gsFilterQueryBox zgs19_gsBorderBox",type:"text",placeholder:b})))).append(d("<div>",{id:"zgs20_gsEditFieldsFooter","class":"zgs19_gsOverflowAuto"})).append(d("<div>",{id:"zgs20_gsEditFieldsNotify","class":"zgs19_gsEditFieldsNotify zgs19_gsModuleFilterWidgetHeader zgs19_gsOverflow"}).append(d("<input>",{"class":"zgs19_gsEditFieldsCheck zgs19_gsCurPointer",type:"checkbox"})).append(d("<span>",{title:c}).text(c))).append(d("<div>",{id:"zgs20_gsEditFieldsBottom","class":"zgs19_gsEditFieldsBottom"}).append(d("<input>",{"class":"zgs19_gsEditFieldsBottom1 zgs19_gsCurPointer zgs19_gsfr",type:"button",value:e,gs:"CalloutEditFields",datatype:"changeEditFields"})).append(d("<input>",{"class":"zgs19_gsEditFieldsBottom2 zgs19_gsCurPointer zgs19_gsfr",type:"button",value:f,gs:"CalloutEditFields",datatype:"closeEditFields"})))},a.getEditFieldsChild=function(b,c){return d("<div>",{id:"zgs20_gsEditFieldsChild"+b,"class":"zgs19_gsEditFieldsChild zgs19_gsQuerySugguser zgs19_gsCurPointer",index:b,datatype:c}).append(d("<div>",{"class":"zgs19_gsSearchResultRow"}).append(d("<div>",{"class":"zgs19_gsSuggUserCell3"}).append(d("<input>",{"class":"zgs19_gsEditFieldsRadio",type:"radio"}))).append(d("<div>",{"class":"zgs19_gsSuggUserCell1"}).append(d("<div>",{"class":"zgs19_gsUniIconHolder"}).append(d("<img>",{"class":"zgs19_gsFetchImgLoader zgs19_gsResFetchLoader zgs19_gsfl",gs:"gsUserPhoto",src:a.gsspacer})))).append(d("<div>",{"class":"zgs19_gsSuggUserCell2"}).append(d("<div>",{"class":"zgs19_gsSuggUserTitle zgs19_gsOverflow"}).append(d("<span>",{id:"zgs20_gsEditFieldsChildName"+b,"class":"zgs19_gsAutoSuggChildName"}))).append(d("<div>",{"class":"zgs19_gsSuggUserAuthor zgs19_gsOverflow"}).append(d("<span>",{id:"zgs20_gsEditFieldsChildEmail"+b})))))},a.displayEditFieldsUI=function(b){a.isEditFieldsDisplay=!0,d("#zgs20_gsEditFieldsHolder").show(),d("#zgs20_gsEditFieldsFooter").scrollTop(0),d("#zgs20_gsEditFieldsFooter").scrollLeft(0),d(b).addClass("zgs19_gsboxholder zgs19_gsboxholderbot");var c=320,e=240,f=b.getBoundingClientRect();f.width>c&&(c=f.width-2),d("#zgs20_gsEditFieldsHolder").css("width",c),d("#zgs20_gsEditFieldsFooter").css("maxHeight",e),d("#zgs20_gsEditFieldsFooter").css("border-bottom","1px solid #dadada");var g=d(b).height()+4,h=a.getTargetElem("zgs20_gsSearchResultRight"),i=a.findPosY(b,h)-40,j=a.findPosX(b,h);d("#zgs20_gsEditFieldsHolder").css("top",i+g),d("#zgs20_gsEditFieldsHolder").css("left",j)},a.calloutEditFieldsAction=function(b){var c=d(b).attr("datatype");switch(c){case"crmOwnerChange":case"deskOwnerChange":a.renderEditFieldsUI(b,c);break;case"dueDateChange":a.handleDueDatePickerElem(c);break;case"closeEditFields":a.hideEditFieldsList();break;case"changeEditFields":a.currEditFieldselecelem&&a.clickActionForEditList(a.currEditFieldselecelem)}},a.clickActionForEditList=function(b){var c=d(b).attr("datatype");switch(c){case"crmOwnerChange":case"deskOwnerChange":a.clickEditFieldsUI(b,c)}},a.renderEditFieldsUI=function(b,c){a.isEditFieldsLoader=!1,a.isEditFieldsLoaderUI=!1;var f=d("#zgs20_gsEditFieldsHolder").css("display");if(f==undefined||f==="none"){a.hideEditFieldsList();var g=[],h={},i={},j=!0,k="",l="",m="",n="",o="";if(c=="crmOwnerChange")m="block",k="zgs20_gsCrmImpInnerContent",o=a.getI18NMsg("gs.search.callout.crm.change"),n=a.getI18NMsg("gs.search.callout.changeowner"),l=a.gscrm.crmOwnerData?a.gscrm.crmOwnerData.id:"",h=a.gsusercontacts.getCRMContactsUserObj();else if(c=="deskOwnerChange"){m="none",k="zgs20_gsCalloutMetaInfo",o=a.getI18NMsg("gs.search.callout.crm.assign"),n=a.getI18NMsg("gs.search.callout.searchagent"),l=a.gssupport.assigneeId||"";var p=a.getCurrentResObj(),q=a.getFilterInfo(e.SUPPORT,"portals","current"),r=a.gsusercontacts.getSupportUnAssObj(),s=a.gsusercontacts.getSupportContactsObj(q,p.DEP_ID);j=a.gsusercontacts.isSupportDeptAgentExists(q,p.DEP_ID),i={curPortalId:q,curDeptId:p.DEP_ID,type:c,tarElem:b},h=d.extend({},r,s)}var t=a.getI18NMsg("gs.search.callout.crm.cancel"),u=a.getI18NMsg("gs.search.callout.crm.notify_owner"),v=a.getEditFieldsHolder(c,n,u,o,t);d("#"+k).append(v);if(j){for(var w in h){var x=h[w];if(l=="null"&&w=="Unassigned")continue;!a.isArrayContain(w,g)&&l!=w&&(g.push(w),a.renderEditFieldsChild(w,x,c,""));if(g.length>=10)break}d("#zgs20_gsEditFieldsBottom").show(),d("#zgs20_gsEditFieldsNotify").css("display",m),a.displayEditFieldsUI(b),g.length>=5&&(d("#zgs20_gsEditFieldsHeader").show(),a.focus("zgs20_gsEditFieldsQrybox"))}else c=="deskOwnerChange"&&(a.addLoaderForEditFields(i),a.displayEditFieldsUI(b))}else a.hideEditFieldsList()},a.renderInnerEditFieldsUI=function(b){a.isEditFieldsLoader=!1,a.isEditFieldsLoaderUI=!1;var c=a.getCurrentResObj(),f=a.getFilterInfo(e.SUPPORT,"portals","current"),g=a.gsusercontacts.isSupportDeptAgentExists(f,c.DEP_ID);d("#zgs20_gsEditFieldsFooter").empty();if(g){var h=[],i=a.gssupport.assigneeId||"",j=a.gsusercontacts.getSupportUnAssObj(),k=a.gsusercontacts.getSupportContactsObj(f,c.DEP_ID),l=d.extend({},j,k);for(var m in l){var n=l[m];if(i=="null"&&m=="Unassigned")continue;!a.isArrayContain(m,h)&&i!=m&&(h.push(m),a.renderEditFieldsChild(m,n,b.type,""));if(h.length>=10)break}d("#zgs20_gsEditFieldsBottom").show(),d("#zgs20_gsEditFieldsNotify").hide(),a.displayEditFieldsUI(b.tarElem),h.length>=5&&(d("#zgs20_gsEditFieldsHeader").show(),a.focus("zgs20_gsEditFieldsQrybox"))}else{var o=a.getI18NMsg("gs.search.callout.crm.errorresp3");d("#zgs20_gsEditFieldsFooter").empty().append(d("<div>",{"class":"zgs19_gsOverflowWrap zgs19_gsWelcomelich zgs19_gstac"}).text(o))}},a.renderEditFieldsChild=function(b,c,f,g){var h=a.gsautocomplete.getUserPhotoIndex(),i=a.getEditFieldsChild(h,f);d("#zgs20_gsEditFieldsFooter").append(i);var j=a.replaceHTMLEntity(b),k=a.replaceHTMLEntity(c.full_name),l=a.replaceHTMLEntity(c.email),m=a.gsautocomplete.gethighlighttext(k," "+g,!1),n={"class":"zgs19_gshighlight"};l=l&&l.toLowerCase()!="null"?l:"";var o=a.gssecurity.getHighlightTextNode(m.prefix,m.match,m.suffix,n),p=a.getTargetElem("zgs20_gsEditFieldsChildName"+h);p.appendChild(o);var q=m.isMatched==0?a.gsautocomplete.gethighlighttext(l," "+g,!0):{prefix:l},r=a.gssecurity.getHighlightTextNode(q.prefix,q.match,q.suffix,n),s=a.getTargetElem("zgs20_gsEditFieldsChildEmail"+h);s.appendChild(r),d("#zgs20_gsEditFieldsChildName"+h).attr("title",k),d("#zgs20_gsEditFieldsChildEmail"+h).attr("title",l),d("#zgs20_gsEditFieldsChild"+h).attr("oid",j);var t=c.zuid;if(t&&t!=="-1"){var u=e.GS_CONTACTS_URL+"/file?fs=thumb&t=user&ID="+t+"&API=true";a.updateUserPhoto("zgs20_gsEditFieldsChild"+h,u)}else a.loadResNoPhotoImg("zgs20_gsEditFieldsChild"+h);a.addEventForEditFieldsQueryBox()},a.clickEditFieldsUI=function(b,c){var f=a.getCurrentResObj(),g="",h="",i="",j=d(b).attr("oid"),k=d(b).find(".zgs19_gsAutoSuggChildName").attr("title");if(c=="crmOwnerChange"){i=e.CRM,h=a.gscrm.crmOwnerData?a.gscrm.crmOwnerData.id:"";var l=d("#zgs20_gsEditFieldsHolder").find(".zgs19_gsEditFieldsCheck").prop("checked")||!1;g="action=updateCRMRecords&searchType="+i+"&entityId="+f.id+"&crmMod="+f.mod+"&ownerID="+encodeURIComponent(j)+"&notify="+l}else if(c=="deskOwnerChange"){i=e.SUPPORT,h=a.gssupport.assigneeId||"";var m=a.getFilterInfo(e.SUPPORT,"portals","current");g="action=updateDeskAssignee&searchType="+i+"&id="+f.doc_id+"&portalId="+m+"&assigneeId="+encodeURIComponent(j)}if(j==h){a.hideEditFieldsList();return}a.hideEditFieldsList(),a.showSearchPageLoader();var n={id:j,name:k,type:c,serviceName:i};a.uri(a.GET,a.servicesActionURL,g,n,function(b,c,d){a.hideSearchPageLoader();var f=a.jsonParse(b);if(f=="SUCCESS"){var g=d.args||{},h="",i="gs.search.callout.crm.success.update";e.SUPPORT==g.serviceName&&(g.id=="Unassigned"?i="gs.search.callout.desk.success.unassign_update":(i="gs.search.callout.desk.success.update",h=" "+n.name));var j=a.getI18NMsg(i)+h;a.showbannertip({ty:1,msg:j});var k=a.getCurrentResObj(),l=a.getCurCalloutCount(),m=a.mappedServiceList[g.serviceName].callout;a.showCalloutLoader();var o={curCalloutCount:l,owner:g,updateRecord:!0};a.calloutAjaxRequest(m,k,l,o)}else{var p="gs.search.callout.crm.errorresp2";if(f=="CANNOT_PERFORM_ACTION"||f=="INVALID_DATA")p="gs.search.callout.crm.errorresp1";a.showbannertip({ty:3,msg:a.getI18NMsg(p)})}})},a.searchForEditFields=function(){a.currEditFieldselecelem="",d("#zgs20_gsEditFieldsFooter").empty(),d(".zgs19_gsEditFieldsChild").removeClass("zgs19_gsAutoSuggChildIn");var b=a.getValue("zgs20_gsEditFieldsQrybox");b=b.trim();var c=[],f={},g="",h=d("#zgs20_gsEditFieldsHolder").attr("datatype");if(h=="crmOwnerChange")f=a.gsusercontacts.getCRMContactsUserObj(),g=a.gscrm.crmOwnerData?a.gscrm.crmOwnerData.id:"";else if(h=="deskOwnerChange"){var i=a.getCurrentResObj();g=a.gssupport.assigneeId||"";var j=a.getFilterInfo(e.SUPPORT,"portals","current"),k=a.gsusercontacts.getSupportUnAssObj(),l=a.gsusercontacts.getSupportContactsObj(j,i.DEP_ID);f=d.extend({},k,l)}if(!a.isQueryValid(b))for(var m in f){var n=f[m];a.isArrayContain(m,c)||(c.push(m),a.renderEditFieldsChild(m,n,h,""));if(c.length>=10)break}else{var o=b.replace(a.gsautocomplete.regex_replacer,"\\$&");for(var m in f){var n=f[m];if(g!=m&&!a.isArrayContain(m,c)){var p=a.replaceHTMLEntity(n.full_name),q=a.replaceHTMLEntity(n.email),r=new RegExp("(^"+o+"|\\s"+o+")","i"),s=p.search(r);if(s>-1)c.push(m),a.renderEditFieldsChild(m,n,h,b);else{var t=new RegExp(o,"i");s=q.search(t),s>-1&&(c.push(m),a.renderEditFieldsChild(m,n,h,b))}if(c.length>=10)break}}}var u=c.length<1?"none":"block";d("#zgs20_gsEditFieldsBottom").css("display",u),h=="crmOwnerChange"&&d("#zgs20_gsEditFieldsNotify").css("display",u)},a.addLoaderForEditFields=function(b){var c=a.getFourDotLoader("zgs20_gsEditFieldsLoader","zgs19_gsFourDotLoader zgs19_gsRequestLoader10 zgs19_gsAutoSuggestLoader");d("#zgs20_gsEditFieldsFooter").empty().append(c),d("#zgs20_gsEditFieldsBottom").hide(),d("#zgs20_gsEditFieldsNotify").hide(),a.isEditFieldsLoaderUI=!0,a.isEditFieldsLoader||(a.isEditFieldsLoader=!0,a.gsusercontacts.fetchSupportAgentInfo(b))}}(zgssearch,window),function(a,b){var c=b._jQueryGS,d={ic:1,cl:0,al:1,ty:0},e=["background-color: #ededed; border-color: #c7c6c5;","background-color: #e6f3fb; border-color: #70b2db;","background-color: #f8f0c9; border-color: #d5c260;","background-color: #f6dede; border-color: #ec9789;"],f=["background-position: -82px -700px;","background-position: -3px -700px","background-position: -30px -700px;","background-position: -57px -700px;"],g=c("#zgs20_gsbannertip").length;g<=0&&c("#zgs20_gsResultsHolder").append(c("<div>",{id:"zgs20_gsbannertip","class":"zgs19_gsbannertip zgs19_gsBoxShadowPopup zgs19_gsDisplayNone"}).append(c("<div>",{id:"zgs20_gsbannertipicon","class":"zgs19_gsbannertipicon zgs19_gsResultsUniIcons zgs19_gsfl"})).append(c("<div>",{id:"zgs20_gsbannertiptext","class":"zgs19_gsbannertiptext zgs19_gsOverflow zgs19_gsfl"}))),a.showbannertip=function(b){var g=b.msg,h=b.ty||d.ty,i=e[h],j=f[h],k=a.getTargetElem("zgs20_gsResultsHolder"),l=k.getBoundingClientRect(),m=l.width-70,n=a.getWidthOfText(g,300)+50,o=(m-n)/2,p=n-30;c("#zgs20_gsbannertip").find("#zgs20_gsbannertipicon").attr("style",j),c("#zgs20_gsbannertip").find("#zgs20_gsbannertiptext").css("maxWidth",p),c("#zgs20_gsbannertip").find("#zgs20_gsbannertiptext").attr("title",g),c("#zgs20_gsbannertip").find("#zgs20_gsbannertiptext").text(g),c("#zgs20_gsbannertip").stop(!0).attr("style",i).css({maxWidth:n,left:o,opacity:0}).show().animate({opacity:1},500,function(){c("#zgs20_gsbannertip").stop(!0).animate({opacity:1},3e3,function(){a.hidebannertip()})})},a.hidebannertip=function(){var a=c("#zgs20_gsbannertip").css("display");a!="none"&&c("#zgs20_gsbannertip").hide()}}(zgssearch,window),function(a,b){var c=b._jQueryGS,d=a.getTargetElem("zgs20_globalsearch"),e=c("#zgs20_gstootltip").length;e<=0&&c(d).append(c("<div>",{id:"zgs20_gstootltip","class":"zgs19_gstootltip zgs19_gsBoxShadowPopup zgs19_gsDisplayNone"}).append(c("<div>",{id:"zgs20_gstoolarrow","class":"zgs19_gstooldownarrow"})).append(c("<div>",{id:"zgs20_gstooltext","class":"zgs19_gstooltext"}))),d.removeEventListener("mouseover",a.showtooltip),a.showtooltip=function(d){var e=d.target,f=c(e).attr("tooltip")||"",g=c(e).attr("title")||"",h=c(e).attr("gstitle")||"";if(f||c(e).hasClass("zgs19_gsResultsUniIcons")){var i="";f?i=f:g?(i=g,c(e).removeAttr("title"),c(e).attr("gstitle",i)):i=h;if(i){var j=a.getWidthOfText(i,300),k=e.getBoundingClientRect(),l=k.left,m=k.width,n=l-j/2+m/2,o=j/2-5,p=a.getTargetElem("zgs20_globalsearch"),q=k.top+k.height+c("#zgs20_gstoolarrow").width()/2,r=a.findPosY(e,p);c("#zgs20_gstooltext").empty().text(i),c("#zgs20_gstoolarrow").css({top:"-6px",left:o}),c("#zgs20_gstoolarrow").removeClass("zgs19_gstooldownarrow").addClass("zgs19_gstooluparrow");if(a.isZohoSearch){var s=c(b).height()-28,t=c("#zgs20_gstootltip").height()+k.bottom,u=k.top;if(s<t)c("#zgs20_gstoolarrow").removeClass("zgs19_gstooluparrow").addClass("zgs19_gstooldownarrow"),q=u-(c("#zgs20_gstootltip").height()+k.height+28)+"px",c("#zgs20_gstoolarrow").css({top:"20px",left:o});else{var v=p.getBoundingClientRect().top;v>0&&(q-=v)}}c("#zgs20_gstootltip").stop(!0).css({width:j,top:q,left:n,opacity:0}).show().animate({opacity:1},500,function(){c("#zgs20_gstootltip").stop(!0).animate({opacity:1},5e3,function(){a.hidetooltip()})})}}},d.addEventListener("mouseover",a.showtooltip),d.removeEventListener("mouseout",a.hidetooltip),a.hidetooltip=function(){var a=c("#zgs20_gstootltip").css("display");a!="none"&&c("#zgs20_gstootltip").hide()},d.addEventListener("mouseout",a.hidetooltip)}(zgssearch,window),function(a,b){var c=b.jQuery,d=b.document,e=b._jQueryGS,f=a.getGSConstantObj()||{};a.loadDatePicker=function(c,d){switch(c){case f.CHAT:case f.MAILS:case f.CONNECT:case f.SUPPORT:if(!a.hasDatePicker){a.hasDatePicker=!0;var e=WebMessanger?WebMessanger.cssstaticdomain||"":"",g=WebMessanger?WebMessanger.jsstaticdomain||"":"",h=b.location.protocol+"//"+g+"/"+a.gsserver+"/"+f.BUILD_DATE+"/js/gszohocomponents.js",i=b.location.protocol+"//"+e+"/"+a.gsserver+"/"+f.BUILD_DATE+"/css/gszohocomponents.css";a.loadCSSFile(i),a.loadJSFile(h,d)}}},a.createDatePicker=function(b,c,d){try{a.createCustomDatePicker(b,c,d,!0),a.createCustomDatePicker(b,c,d,!1)}catch(e){}},a.createCustomDatePicker=function(b,f,g,h){var i="zgs20_gsDateRangePickerElem";h||(i="zgs20_gsSingleDatePickerElem");var j="dd-MM-yyyy",k=e("#"+i).length;if(k>0){var l=a.getFilterInfo(b,f,"current"),m=a.getFilterInfo(b,f,"todate"),n=a.getFilterInfo(b,f,"fromdate");if(a.isMoreFilterListDisplay){var o=a.curMoreFiltersList||{},p=a.curMoreDateFiltersList||{};p.fromdate!=""&&p.todate!=""&&(m=p.todate,n=p.fromdate,l=o[f]||l)}h?l!="customrange"&&(n=m=""):l!="customdate"&&(n=undefined),h?(c("#"+i).zdatetimerangepicker("clearSelection"),c("#"+i).zdatetimerangepicker("setAttributes",{forElement:"#"+i,format:j,fromValue:n,toValue:m})):c("#"+i).zdatetimepicker("setAttributes",{forElement:"#"+i,format:j,value:n})}else{var q=d.createElement("div");q.id=i,d.body.appendChild(q),h?c("#"+i).zdatetimerangepicker({format:j,monthsPerView:1,maxDate:"TODAY",immediateCommit:!1,forElement:"#"+g,className:"zgs20_gsDatePickerElem",change:function(b,c){a.updateDatePicker(a.curDatePickerObj,c)},cancel:function(){a.hideDatePicker()},beforeclose:function(b){var c=b.keyCode?b.keyCode:b.which;if(c==a.specialkeys.ESC)return a.focus("zgs20_gsQueryBox"),!1}}):c("#"+i).zdatetimepicker({format:j,monthsPerView:1,maxDate:"TODAY",immediateCommit:!1,forElement:"#"+g,className:"zgs20_gsDatePickerElem",change:function(b,c){a.updateDatePicker(a.curDatePickerObj,c)},cancel:function(){a.hideDatePicker()},beforeclose:function(b){var c=b.keyCode?b.keyCode:b.which;if(c==a.specialkeys.ESC)return a.focus("zgs20_gsQueryBox"),!1}})}},a.addDeskDueDatePickerOption=function(){try{a.createDateTimepicker("zgs20_gsTicketDueDate","datetime")}catch(b){}},a.handleDueDatePickerElem=function(b){a.isDatePickerDisplay?a.hideDatePicker():(a.addDeskDueDatePickerOption(),a.handleDatePicker(b))},a.createDateTimepicker=function(b){var f="dd-MM-yyyy hh:mm tt",g="zgs20_gsDateTimePickerElem",h="",i=a.curDatePickerObj||{},h=i.fromdate?i.fromdate:undefined,j=e("#"+g).length;if(j>0)c("#"+g).zdatetimepicker("setAttributes",{forElement:"#"+g,format:f,value:h});else{var k=d.createElement("div");k.id=g,d.body.appendChild(k),c("#"+g).zdatetimepicker({format:f,monthsPerView:1,immediateCommit:!1,value:h,forElement:"#"+b,className:"zgs20_gsDatePickerElem",change:function(b,c){a.updateDatePicker(a.curDatePickerObj,c)},cancel:function(){a.hideDatePicker()},beforeclose:function(b){var c=b.keyCode?b.keyCode:b.which;if(c==a.specialkeys.ESC)return a.focus("zgs20_gsQueryBox"),!1}})}},a.handleDatePicker=function(b){try{var d="",f="",g=0;b=="customrange"?(d="zgs20_gsDateRangePickerElem",f=e("#zgs20_gsModuleFilterList").width(),c("#"+d).zdatetimerangepicker("open")):b=="customdate"?(d="zgs20_gsSingleDatePickerElem",c("#"+d).zdatetimepicker("open"),f=e("#zgs20_gsModuleFilterList").width()):b=="dueDateChange"&&(d="zgs20_gsDateTimePickerElem",c("#"+d).zdatetimepicker("open"),f=e("#zgs20_gsSearchResultRight").width(),a.curDatePickerElem=a.getTargetElem("zgs20_gsTicketDueDate"),a.isMaxCalloutOpen||(g=e("#zgs20_gsModuleSearchResultPage").width()));var h=a.curDatePickerElem,i=e(h).position(),j=h.getBoundingClientRect(),k=j.width-2||0,l=e("#"+d).width(),m=e(".zgs19_gsServiceMenu").width(),n=a.getTargetElem("zgs20_gsResultsHolder"),o=n.getBoundingClientRect(),p=o.left+m+g;if(a.isMoreFilterListDisplay){var q=e("#zgs20_gsMoreFilterWidgetList").position();p+=q.left}var r=i.left+k,s=i.left+l;s>f?r>l?p+=r-l:p+=i.left/2:p+=i.left;var t=e("#zgs20_globalsearch").css("z-index")+1;e("#"+d).css("z-index",t),e("#"+d).attr("gs","gsDateRangePickerElem"),e("#"+d).css("left",p),e("#"+d).css("top",j.top+j.height-1),a.isDatePickerDisplay=!0,e(a.curDatePickerElem).addClass("zgs19_gsboxholder"),e(a.curDatePickerElem).find(".zgs19_gsModuleFilterElemIcon").removeClass("zgs19_gsVisibleHidden")}catch(u){}},a.updateDatePicker=function(b,c){var d=b.key||"",g=b.soid||"",h=b.service||"";if(d&&g&&h&&(g=="customrange"||g=="customdate"||g=="duedate")){var i="",j="";if(g=="duedate"){i=""+c.valueString;var k=b.fromdate?b.fromdate:undefined;k!=i&&i&&i!="undefined"&&a.updateDeskDueDate(f.SUPPORT,i),a.hideDatePicker()}else{g=="customrange"?(j=""+c.toValueString,i=""+c.fromValueString):g=="customdate"&&(i=j=""+c.valueString);if(i&&i!="undefined"&&j&&j!="undefined"){var l=a.getFilterData(h,d,"data",g);if(a.isMoreFilterListDisplay){a.curMoreFiltersList[d]=g,a.curMoreDateFiltersList={fromdate:i,todate:j};var m="#zgs20_gsMoreFilterElem_"+d;e(m).attr("soid",d),e(m).find(".zgs19_gsMoreFilterValue").attr("title",l).text(l),a.hideDatePicker()}else a.updateFilterInfo(h,d,"todate",j),a.updateFilterInfo(h,d,"fromdate",i),a.updateFilterInfo(h,d,"current",g),a.updateFilterInfo(h,d,"dispname",l),a.handleDefaultSearch()}}}},a.hideDatePicker=function(){a.isDatePickerDisplay=!1,e(a.curDatePickerElem).removeClass("zgs19_gsboxholder"),e(a.curDatePickerElem).find(".zgs19_gsModuleFilterElemIcon").addClass("zgs19_gsVisibleHidden");var b=e("#zgs20_gsDateRangePickerElem").length,d=e("#zgs20_gsDateRangePickerElem").css("display");b>0&&(d!=undefined||d!="none")&&c("#zgs20_gsDateRangePickerElem").zdatetimerangepicker("close");var f=e("#zgs20_gsSingleDatePickerElem").length,g=e("#zgs20_gsSingleDatePickerElem").css("display");f>0&&(g!=undefined||g!="none")&&c("#zgs20_gsSingleDatePickerElem").zdatetimepicker("close");var f=e("#zgs20_gsDateTimePickerElem").length,g=e("#zgs20_gsDateTimePickerElem").css("display");f>0&&(g!=undefined||g!="none")&&c("#zgs20_gsDateTimePickerElem").zdatetimepicker("close")}}(zgssearch,window),function(a,b){var c=b.document;a.gssecurity=function(d){return d=a.gssecurity||{},d.textDecoder=function(a){var c=b.document,d=!1,e=!1;if(typeof b.HTMLTemplateElement=="function"){var f=c.createElement("template");f.content&&f.content.ownerDocument&&(c=f.content.ownerDocument)}var g=c.implementation&&typeof c.implementation.createHTMLDocument!="undefined"&&c.documentMode!==9,h=function(a){var f,g;if(d){try{a=b.encodeURI(a)}catch(h){}var i=new b.XMLHttpRequest;i.responseType="document",i.open("GET","data:text/html;charset=utf-8,"+a,!1),i.send(null),f=i.response}if(e)try{f=(new b.DOMParser).parseFromString(a,"text/html")}catch(h){}if(!f||!f.documentElement)f=c.implementation.createHTMLDocument(""),g=f.body,g.parentNode.removeChild(g.parentNode.firstElementChild),g.outerHTML=a;return c.getElementsByTagName.call(f,"body")[0]};g&&function(){var a=h('<svg><g onload="this.parentNode.remove()"></g></svg>');a.querySelector("svg")||(d=!0);try{a=h('<svg><p><style><img src="</style><img src=x onerror=alert(1)//">'),a.querySelector("svg img")&&(e=!0)}catch(b){}}();var i=h("<textarea class='toDecode'></textarea>"),j=i.getElementsByClassName("toDecode")[0];return j.innerHTML=a,j.value},d.createTextNode=function(a){var b=c.createDocumentFragment();return b.appendChild(c.createTextNode(a||"")),b},d.createFontNode=function(a,b){var e=c.createElement("FONT");if(b)for(var f in b)e.setAttribute(f,b[f]);var g=d.createTextNode(a),h=c.createDocumentFragment();return h.appendChild(g),e.appendChild(h),e},d.getHighlightTextNode=function(a,b,e,f){var g=c.createDocumentFragment();if(a){var h=d.createTextNode(a);g.appendChild(h)}if(b){var i=d.createFontNode(b,f);g.appendChild(i)}if(e){var j=d.createTextNode(e);g.appendChild(j)}return g},d}(undefined)}(zgssearch,window);