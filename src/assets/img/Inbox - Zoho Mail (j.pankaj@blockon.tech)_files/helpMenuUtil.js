define([],function(a){"use strict";var b=a("zmText"),c=a("zmail.Core.Namespaces"),d=c.create("zmail.topHelpMenu"),e=b.get("helpMenuUtil").topHelpMenu,f=function(a){var b;return a&&a.show?(b="<span>"+e.Whats+"</span>",b+='<span class = "zmWNtext">'+e.New+"</span>"):b=e.WhatsNew,[{htm:e.Help,data:{action:"Help",id:"ztb-helpLink"},name:"Help",dataId:"help"},{htm:e.Tour,data:{id:"ztb-tour",action:"Tour"},dataId:"Tour",name:"Tour"},{sep:!0},{htm:e.VideoWalk,data:{id:"sitetour",action:"sitetour"},dataId:"siteTour",name:"VideoWalk"},{htm:b,data:{id:"whatsNew",action:"whatsNew"},dataId:"whatsNew",name:"WhatsNew"},{htm:e.About,data:{id:"ztb-about",action:"About"},dataId:"About",name:"About"},{htm:e.Blogs,data:{id:"ztb-blogs",action:"Blogs"},dataId:"Blog",name:"Blog"},{sep:!0},{htm:e.Forums,data:{id:"ztb-forums",action:"Forums"},dataId:"Forums",name:"Forums"},{htm:e.Feedback,data:{id:"ztb-feedback",action:"Feedback"},dataId:"Feedback",name:"Feedback"}]};return d.topHelpList=f,d}),define([],function(a){"use strict";var b=a("zmail.Core.Namespaces"),c=b.get("zmail.topHelpMenu"),d=function(){zmail.topHelpMenu.core()};return c.init=d,c}),define([],function(a){"use strict";var b,c,d,e,f,g,h=a("zmail.Core.Namespaces"),i=a("_zm"),j=a("zmAppLoader"),k=a("zmText"),l=k.get("helpMenuUtil").topHelpMenu,m=h.get("zmail.topHelpMenu");f=function(){var a=c[0].querySelectorAll("[data-id='whatsNew']");a.innerHTML="",a.text(l.whatsNew)};var n=function(a){var c,d={},g=zmail.Utils.FeatureUtil;d.Feedback=!1,d.Tour=!1,d.VideoWalk=!1,e=a,g.isHidden("FeedbackForm")||delete d.Feedback,zmail.isRebranded?(d.Help=!1,d.WhatsNew=!1,d.About=!1,d.Blog=!1,d.Forums=!1,d.sep=!1,c=!1):c=zmail.hideZohoApps!==!0,c&&(delete d.Tour,g.isHidden("SiteTour")||delete d.VideoWalk,zmail.Utils.FeatureUtil.isHidden("whatsNew")||delete d.whatsNew),$.subscribe("/whatsSeen/hide",f),b(d)};return g=function(b){switch(c=$("#zm_dropDown"),b.action){case"Help":i.windowOpen(zmail.urls.helpURL);break;case"Tour":a("zmUtil").loadMailTour("allApp");break;case"sitetour":j.load("videoWalkThrough").then(function(){zmVideoWalkThrough.init()});break;case"whatsNew":e&&e.show&&e.callback(),i.windowOpen(zmail.urls.whatsNew);break;case"About":i.windowOpen(zmail.urls.zohoWebsiteLink);break;case"Blogs":i.windowOpen(zmail.urls.blogURL);break;case"Forums":i.windowOpen(zmail.urls.forumURL);break;case"Feedback":a("zmsuite").loadFeedback()}d.removeClass("sel"),$(c).remove()},b=function(b){var c,f,h,i=a("zmDrop"),j=zmail.topHelpMenu.topHelpList(e),k=Object.keys(b),l=k.length;for(f=0;f<l;f++)for(c=j.length,h=0;h<c;h++)k[f]===j[h].name&&(j.splice(h,1),c=j.length);var m=$(".zmTopNav");d=m.find("li");var n=function(){$.publish("zmTopBar/navbarIcon/close")};zmail.isRebranded&&(delete j[0],delete j[1]);var o={};o.par=m.find(".msi-faq"),o.list=j,o.clk=g,o.defaultclass=!1,o.showArrow=!0,o.onHide=n,i.consDropDown(o)},m.core=n,m});