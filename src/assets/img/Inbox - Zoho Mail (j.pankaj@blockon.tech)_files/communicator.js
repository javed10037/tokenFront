window.zmCrosstab=function(){"use strict";var a={},b={},c=[],d=function(){return"localStorage"in window&&null!==window.localStorage},e=function(a){return localStorage.getItem(a)},f=function(a){return void 0!==localStorage[a]},g=function(a,b){var c=e(a);return c!==b},h=function(a,b,c){try{"object"==typeof a&&(a=JSON.stringify(a)),"object"==typeof b&&(b=JSON.stringify(b)),g(a,b)&&(c?localStorage[a]=b:f(a)||(localStorage[a]=b))}catch(d){}};b.remove=function(a){_zm._isPrivilegedUser()&&("object"==typeof a&&(a=JSON.stringify(a)),localStorage.removeItem(a))},b.renew=function(a,b){if(_zm._isPrivilegedUser())return localStorage[a]?void h(a,b,!0):"key not available"},b.subscribe=function(b,e,f,g){if(_zm._isPrivilegedUser()){if(!d())return"Browser has no support";if(!(b&&e&&f&&"function"==typeof f))return"invalid parameters";void 0===g&&(g=!0),h(b,e,g),a[b]=f,c.push(b)}};var i=function(b){try{var d=b.key,e=function(){var c=b.newValue;c=JSON.parse(c),a[d]&&a[d](c)};if(!_zm._isPrivilegedUser())return;c.indexOf(d)!==-1&&e()}catch(f){zmUtil.debugLog(f)}};return window.addEventListener("storage",function(a){i(a)}),b}(),window.zmMsgProcessor=function(){"use strict";var a={},b={_settMail:{mailOpenType:{inWindow:!1,_handler:function(a){zmail.mailOpt.isPopup=a.type}}},_settCompose:{composeOpenType:{inWindow:!1,_handler:function(a){zmail.mailOpt.compTab=a.type,1===a.type?zmail.allowInline=!1:zmail.allowInline=!0}},addRecipients:{inWindow:!1,_handler:function(a){zmail.userOptions.autoAddContacts=a.type}},askReceipt:{inWindow:!1,_handler:function(a){zmail.mailOpt.askReceipt=a.type}},encode:{inWindow:!1,_handler:function(a){zmail.cmpdata.CHAR_SET=a.type}},font:{inWindow:!0,_handler:function(a){zmail.mailOpt.ff=a.type}},fontSize:{inWindow:!0,_handler:function(a){zmail.mailOpt.fs=a.type}},mailSendingDelay:{inWindow:!0,_handler:function(a){zmail.cmpdata.OUT_INTERVAL=a.type}}},_settSignature:{newSign:{inWindow:!0,_handler:function(a){var b=a.data;zmail.cmpdata.SIGN_INFO[b.id]={},zmail.cmpdata.SIGN_INFO[b.id].SIG_CONT=b.content,zmail.cmpdata.SIGN_INFO[b.id].SIG_TIT=b.name,zmail.cmpdata.SIGN_INFO[b.id].SIG_POS=b.position}},updSign:{inWindow:!0,_handler:function(a){var b=a.data;zmail.cmpdata.SIGN_INFO&&zmail.cmpdata.SIGN_INFO[b.id]&&(zmail.cmpdata.SIGN_INFO[b.id].SIG_CONT=b.content,zmail.cmpdata.SIGN_INFO[b.id].SIG_TIT=b.name,zmail.cmpdata.SIGN_INFO[b.id].SIG_POS=b.position)}},delSign:{inWindow:!0,_handler:function(a){var b=a.data;b.id&&delete zmail.cmpdata.SIGN_INFO[b.id]}},assSign:{inWindow:!0,_handler:function(a){var b,c=a.data;c.mailIds&&c.mailIds.length&&(b=c.mailIds[0],b&&zmail.cmpdata.FROM_LIST[b]&&(zmail.cmpdata.FROM_LIST[b].FRM_SIGID=c.id)),c.mailIdsWithNoSignature&&c.mailIdsWithNoSignature.length&&(b=c.mailIdsWithNoSignature[0],b&&zmail.cmpdata.FROM_LIST[b]&&(zmail.cmpdata.FROM_LIST[b].FRM_SIGID=null))}}},_settIntegration:{projectsIntegration:{_handler:function(a){zmail.projectsInteg.settings.util.updateIntegrationStatus(a.portalId,a.status,!1)}}}};return a._handler=function(a){try{var c=a.key,d=a.info;if(c in b){var e=d.action,f=zmUtil.isChildWindow();!b[c][e]||f&&!b[c][e].inWindow||b[c][e]._handler(d)}}catch(g){zmUtil.debugLog(g)}},a}(),window.settSyncer=function(){"use strict";var a={theme:{_handler:function(a){zmAdHocSettings.getThemeValidValues().indexOf(a)!==-1&&zmAdHocSettings.setTheme(a,{sync:!1})}},listingDisplayDensity:{_handler:function(a){zmAdHocSettings.getListingDisplayDensityValidValues().indexOf(a)!==-1&&zmInit.customizeDisplayDensity(a)}},nightMode:{_handler:function(a){zmAdHocSettings.getNightModeValidValues().indexOf(a)!==-1&&_zm.toggleNightModeTheme({set:a},{sync:!1})}},font:{_handler:function(a){zmAdHocSettings.getFontValidValues().indexOf(a)!==-1&&zmAdHocSettings.setFont(a,{sync:!1})}},appOrderChange:{_handler:function(a){zmAdHocSettings.setAppOrder(a,{sync:!1}),zmail.appList.reRenderAppArea(),zmApp.selectApp(zmApp.currentApp)}},leftOrderChange:{_handler:function(a){zmAdHocSettings.setLeftOrder(a,{sync:!1}),"m"===zmApp.currentApp&&zmail.mailLeft.render()}},helperBlockVisibility:{_handler:function(a){zmAdHocSettings.setHelperBlockVisibility(a.value,{sync:!1}),zmail.mailOpt.ff=a.type}},composeOpenType:{_handler:function(a){zmail.mailOpt.compTab=a,1===a?zmail.allowInline=!1:zmail.allowInline=!0}},streamsListType:{_handler:function(a){zmAdHocSettings.setStreamsListType(a)}},notes:{_handler:function(a){zmAdHocSettings.setNotes(a,{sync:!1}),$.publish("notes/wshandler")}},bookMarks:function(a){zmAdHocSettings.setBookMarks(a,{sync:!1})},mailSoundNotifier:{_handler:function(a){zmAdHocSettings.getMailSoundNotifierValidValues().indexOf(a)!==-1&&zmAdHocSettings.setMailSoundNotifier(a,{sync:!1})}}};return{updProperties:function(b){try{var c=b.settingsName;if(c in a){var d=b.settingsValue;a[c]._handler(d)}}catch(e){zmUtil.debugLog(e)}}}}();